"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5356],{5356:(k,m,l)=>{l.r(m),l.d(m,{LiveModule:()=>L});var r=l(2078),v=l(6895),h=l(433),f=l(581),u=l(5638),g=l(5548),c=l(2340),e=l(8256),C=l(529),y=l(1481);const T=["videoPlayer"];function b(i,s){1&i&&e._UZ(0,"ion-progress-bar",14)}const _=[{path:"",component:(()=>{class i{constructor(o,t,n,a,d,Z,R){this.http=o,this.ActivatedRoute=t,this.router=n,this.sanitizer=a,this.fb=d,this.platform=Z,this.routerOutlet=R,this.selectedVideoToWatch={lec_id:7,lec_icon:"assets/evs.webp",lec_title:"EVS PART 1",video_link:c.N.apifirstKey+"evs-for-class-3-learn-science-for-kids-envir.mp4"+c.N.apilastkey,video_title:"Learn Science For Kids | Environmental Science",teacher:"ajeet rajbhar",published_at:"18/02/2023"},this.videoControls={playVideo:!1,openFullscreen:!1,Rangeduration:0,currentRangeDuration:0,currentDuration:"",duration:""},this.videoLoaded=!1,this.platform.backButton.subscribeWithPriority(-1,()=>{var p;null!==(p=this.routerOutlet)&&void 0!==p&&p.canGoBack()||(this.videoLoaded=!1,g.g.exitApp())}),this.videoControls={playVideo:!1,openFullscreen:!1,Rangeduration:0,currentRangeDuration:0,currentDuration:"",duration:""}}fetchLiveLectureDetails(){this.selectedVideoToWatch={lec_id:7,lec_icon:"assets/evs.webp",lec_title:"EVS PART 1",video_link:c.N.apifirstKey+"evs-for-class-3-learn-science-for-kids-envir.mp4"+c.N.apilastkey,video_title:"Learn Science For Kids | Environmental Science",teacher:"ajeet rajbhar",published_at:"18/02/2023"}}ngOnInit(){this.fetchLiveLectureDetails(),this.ActivatedRoute.queryParams.subscribe(o=>{"true"===o.reload&&this.fetchLiveLectureDetails()})}backToStandard(){this.router.navigate(["/tabs/class"])}getImgContent(o){return this.sanitizer.bypassSecurityTrustResourceUrl(o)}onIonKnobMoveStart(o){this.lastEmittedValue=o.detail.value;var t=document.getElementById("liveVideo");this.lastEmittedValue&&(t.currentTime=this.lastEmittedValue),this.videoControls.Rangeduration=t.duration,this.videoControls.currentRangeDuration=t.currentTime,t.paused&&(this.videoControls.playVideo=!0),t.paused||(t.pause(),this.videoControls.playVideo=!0)}onIonKnobMoveEnd(o){this.lastEmittedValue=o.detail.value;var t=document.getElementById("liveVideo");this.lastEmittedValue&&(t.currentTime=this.lastEmittedValue),this.videoControls.Rangeduration=t.duration,this.videoControls.currentRangeDuration=t.currentTime,t.paused?(t.play(),this.videoControls.playVideo=!0):this.videoControls.playVideo=!1,t.paused||(this.videoControls.playVideo=!1),Math.floor(this.videoControls.currentRangeDuration)==Math.floor(this.videoControls.Rangeduration)&&(this.videoControls.playVideo=!0,t.pause())}checkvideoLoaded(o){var t=document.getElementById("liveVideo");this.videoControls.Rangeduration=t.duration,this.videoControls.duration=this.formatTime(t.duration),this.videoLoaded=!0}checkContinuousVideoduration(o){var t=document.getElementById("liveVideo");this.videoControls.currentRangeDuration=t.currentTime.toFixed(2),this.videoControls.currentDuration=this.formatTime(t.currentTime.toFixed(2)),t.paused&&(this.videoControls.playVideo=!0)}formatTime(o){const t=Math.floor(o/3600),n=Math.floor(o%3600/60),a=o%60;let d="";return t>0&&(d+=`${t}:`),d+=n<10?`0${n}:`:`${n}:`,d+=a<10?`0${Math.floor(a)}`:`${Math.floor(a)}`,d}pinFormatter(o){return o?`${o}`:0}handleReorder(o){o.detail.complete()}playPause(){var o=document.getElementById("liveVideo");o.paused?o.play():o.pause(),this.videoControls.playVideo=!this.videoControls.playVideo}makeBig(){var o=document.getElementById("liveVideo");o.width="100%",o.height="100%"}skipnext(o){let t=document.getElementById("liveVideo");t.currentTime+=o,this.videoControls.currentRangeDuration=t.currentTime}skipback(o){let t=document.getElementById("liveVideo");t.currentTime=t.currentTime-o,this.videoControls.currentRangeDuration=t.currentTime}restart(){let o=document.getElementById("liveVideo");o.currentTime=0,this.videoControls.currentRangeDuration=o.currentTime}openFullscreen(){this.videoControls.openFullscreen=!this.videoControls.openFullscreen}handleRefresh(o){setTimeout(()=>{o.target.complete()},2e3)}}return i.\u0275fac=function(o){return new(o||i)(e.Y36(C.eN),e.Y36(u.gz),e.Y36(u.F0),e.Y36(y.H7),e.Y36(h.qu),e.Y36(r.t4),e.Y36(r.jP,8))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-live"]],viewQuery:function(o,t){if(1&o&&e.Gf(T,7),2&o){let n;e.iGM(n=e.CRH())&&(t.videoplayer=n.first)}},decls:35,vars:21,consts:[[3,"translucent"],["type","indeterminate",4,"ngIf"],[3,"fullscreen"],["slot","fixed",3,"ionRefresh"],["width","100%","id","liveVideo","autoplay","","frameborder","0",1,"sticky-top",3,"dblclick","loadeddata","timeupdate"],["type","video/mp4",3,"src"],[3,"value","min","max","ionKnobMoveStart","ionKnobMoveEnd"],["slot","start"],["slot","end"],[1,"videocontrols"],["size","small",3,"click"],["name","play-skip-back-circle-outline"],[3,"name"],["name","play-skip-forward-circle-outline"],["type","indeterminate"]],template:function(o,t){1&o&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e._uU(3," Streaming "),e.qZA(),e.YNc(4,b,1,0,"ion-progress-bar",1),e.qZA()(),e.TgZ(5,"ion-content",2)(6,"ion-refresher",3),e.NdJ("ionRefresh",function(a){return t.handleRefresh(a)}),e._UZ(7,"ion-refresher-content"),e.qZA(),e.TgZ(8,"ion-content")(9,"div")(10,"video",4),e.NdJ("dblclick",function(){return t.openFullscreen()})("loadeddata",function(a){return t.checkvideoLoaded(a)})("timeupdate",function(a){return t.checkContinuousVideoduration(a)}),e._UZ(11,"source",5),e._uU(12," Your Device does not support the video. "),e.qZA(),e.TgZ(13,"ion-card-header")(14,"ion-range",6),e.NdJ("ionKnobMoveStart",function(a){return t.onIonKnobMoveStart(a)})("ionKnobMoveEnd",function(a){return t.onIonKnobMoveEnd(a)}),e.TgZ(15,"span",7),e._uU(16),e.qZA(),e.TgZ(17,"span",8),e._uU(18),e.qZA()(),e.TgZ(19,"div",9)(20,"ion-fab-button",10),e.NdJ("click",function(){return t.skipback(10)}),e._UZ(21,"ion-icon",11),e.qZA(),e.TgZ(22,"ion-fab-button",10),e.NdJ("click",function(){return t.playPause()}),e._UZ(23,"ion-icon",12),e.qZA(),e.TgZ(24,"ion-fab-button",10),e.NdJ("click",function(){return t.skipnext(10)}),e._UZ(25,"ion-icon",13),e.qZA()()()(),e.TgZ(26,"ion-card-header")(27,"ion-card-subtitle"),e._uU(28),e.qZA(),e.TgZ(29,"ion-card-subtitle"),e._uU(30),e.ALo(31,"lowercase"),e.qZA(),e.TgZ(32,"ion-card-subtitle"),e._uU(33),e.ALo(34,"lowercase"),e.qZA()()()()),2&o&&(e.Q6J("translucent",!0),e.xp6(4),e.Q6J("ngIf",!t.videoLoaded),e.xp6(1),e.Q6J("fullscreen",!0),e.xp6(4),e.Tol(t.videoControls.openFullscreen?"fullscreen":"exitfullscreen"),e.xp6(2),e.Q6J("src",t.getImgContent(t.selectedVideoToWatch.video_link),e.LSH),e.xp6(3),e.Akn(t.videoControls.openFullscreen?"padding: unset;color:white":"padding: unset;"),e.Q6J("value",t.videoControls.currentRangeDuration)("min",0)("max",t.videoControls.Rangeduration),e.xp6(2),e.Oqu(t.videoControls.currentDuration?t.videoControls.currentDuration:"00:00"),e.xp6(2),e.hij(" ",t.videoControls.duration?t.videoControls.duration:"00:00",""),e.xp6(5),e.Q6J("name",t.videoControls.playVideo?"play-circle-outline":"pause-circle-outline"),e.xp6(5),e.Oqu(t.selectedVideoToWatch.video_title),e.xp6(2),e.hij("Auther : ",e.lcZ(31,17,t.selectedVideoToWatch.teacher),""),e.xp6(3),e.hij("Published : ",e.lcZ(34,19,t.selectedVideoToWatch.published_at),""))},dependencies:[v.O5,r.Zi,r.tO,r.W2,r.W4,r.Gu,r.gu,r.X7,r.I_,r.nJ,r.Wo,r.wd,r.sr,r.QI,v.i8]}),i})()}];let V=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[u.Bz.forChild(_),u.Bz]}),i})(),L=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[v.ez,V,r.Pc,h.u5,f.e]}),i})()}}]);
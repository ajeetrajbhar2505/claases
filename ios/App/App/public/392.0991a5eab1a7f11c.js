(self.webpackChunkapp=self.webpackChunkapp||[]).push([[392],{392:(H,o,v)=>{"use strict";v.r(o),v.d(o,{ContentsModule:()=>le});var i=v(4556),B=v(6895),L=v(433),G=v(5638),T=v(655),x=v(5548),A=v(463),R=v(7579),V=v(2722),y=v(8256),I=v(529),W=v(2684),g=v(1481);function S(J,F){1&J&&(y.TgZ(0,"div",18)(1,"ion-thumbnail",1),y._UZ(2,"div",19),y.qZA(),y.TgZ(3,"ion-label",20),y._UZ(4,"div",21),y.qZA()())}const m=function(){return[1,2,3,4,5,6,7]};function M(J,F){1&J&&(y.TgZ(0,"div"),y.YNc(1,S,5,0,"div",17),y.qZA()),2&J&&(y.xp6(1),y.Q6J("ngForOf",y.DdM(1,m)))}function _(J,F){if(1&J){const s=y.EpF();y.TgZ(0,"ion-item",26),y.NdJ("click",function(){const a=y.CHM(s).$implicit,u=y.oxw(3);return y.KtG(u.routeTocontentControls(a))}),y.TgZ(1,"ion-thumbnail",1),y._UZ(2,"img",27),y.qZA(),y.TgZ(3,"ion-label"),y._uU(4),y.qZA(),y._UZ(5,"ion-icon",28),y.qZA()}if(2&J){const s=F.$implicit;y.xp6(2),y.Q6J("src",s.content_icon,y.LSH),y.xp6(2),y.Oqu(s.content_title)}}function b(J,F){if(1&J&&(y.TgZ(0,"div"),y.YNc(1,_,6,2,"ion-item",25),y.qZA()),2&J){const s=y.oxw(2);y.xp6(1),y.Q6J("ngForOf",s.filteredData)}}function n(J,F){if(1&J){const s=y.EpF();y.TgZ(0,"div")(1,"ion-card-content")(2,"ion-list")(3,"ion-reorder-group",22),y.NdJ("ionItemReorder",function(t){y.CHM(s);const a=y.oxw();return y.KtG(a.handleReorder(t))}),y.qZA(),y.TgZ(4,"div",23),y.YNc(5,b,2,1,"div",24),y.qZA()()()()}if(2&J){const s=y.oxw();y.xp6(3),y.Q6J("disabled",!1),y.xp6(1),y.Q6J("ngSwitch",s.currentContent)}}const c=[{path:"",component:(()=>{class J{constructor(s,e,t,a,u,d,l){this.http=s,this._https=e,this.ActivatedRoute=t,this.router=a,this.sanitizer=u,this.platform=d,this.routerOutlet=l,this.contentsData=[],this.filteredData=[],this.currentContent="video",this.contentDetails={from:"",classId:"",lec_id:"",contentId:"",content:""},this.params="",this.skeleton=!1,this._unsubscribeAll=new R.x,this.ActivatedRoute.queryParams.subscribe(w=>(0,T.mG)(this,void 0,void 0,function*(){this.params=w,this.fetchContentDetails(w.classId,w.lec_id),"true"===w.reload&&this.fetchContentDetails(w.classId,w.lec_id)})),this.platform.backButton.subscribeWithPriority(-1,()=>{var w;null!==(w=this.routerOutlet)&&void 0!==w&&w.canGoBack()||x.g.exitApp()})}fetchContentDetails(s,e){return(0,T.mG)(this,void 0,void 0,function*(){this.skeleton=!0;const t=new A.i;t.RequestUrl="contentDetails/"+s+"/"+e,t.RequestObject="",yield this._https.fetchData(t).pipe((0,V.R)(this._unsubscribeAll)).subscribe(a=>{if(null!=a){if(this.skeleton=!1,200!==a.status)return;this.contentsData=a.response||[],this.filteredData=a.response.filter(u=>u.content==this.currentContent)}},a=>{},()=>{})})}backTolectures(){this.router.navigate([this.params.from],{queryParams:{classId:this.params.classId,reload:"true"}})}handleReorder(s){s.detail.complete()}switchContent(s){this.filteredData=this.contentsData.filter(e=>e.content==s)}uploadContent(s){this.router.navigate(["/tabs/uploadVideo"],{queryParams:{classId:this.params.classId,lec_id:this.params.lec_id,contentId:this.params.contentId,from:"/tabs/contents",content:s,nested:this.params.nested,reload:"true"}})}routeTocontentControls(s){this.router.navigate(["/tabs/content-controls"],{queryParams:{nested:this.params.from,from:"/tabs/contents",classId:this.params.classId,lec_id:this.params.lec_id,contentId:s._id,content:s.content,reload:"true"}});const e={userid:this._https.UserProfile.userId,datetime:(new Date).toISOString()};this.addViewCount(s._id,e)}addViewCount(s,e){return(0,T.mG)(this,void 0,void 0,function*(){const t={classId:this.params.classId,lec_id:this.params.lec_id,contentId:s,userProfile:e};this.skeleton=!0;const a=new A.i;a.RequestUrl="upsertViewCount",a.RequestObject=t,yield this._https.PostData(a).pipe((0,V.R)(this._unsubscribeAll)).subscribe(u=>{null!=u&&(this.skeleton=!1)},u=>{},()=>{})})}}return J.\u0275fac=function(s){return new(s||J)(y.Y36(I.eN),y.Y36(W.Q),y.Y36(G.gz),y.Y36(G.F0),y.Y36(g.H7),y.Y36(i.t4),y.Y36(i.jP,8))},J.\u0275cmp=y.Xpm({type:J,selectors:[["app-contents"]],decls:30,vars:5,consts:[[3,"translucent"],["slot","start"],["size","large","name","chevron-back-outline",3,"click"],["value","video",3,"ngModel","ngModelChange"],["value","video"],["value","audio"],["value","document"],[3,"fullscreen"],[4,"ngIf"],["slot","fixed","vertical","bottom","horizontal","end"],["size","small"],["name","add"],["side","top"],[3,"click"],["name","musical-notes-outline"],["name","play-circle-outline"],["name","document-text-outline"],["class","quize-cards",4,"ngFor","ngForOf"],[1,"quize-cards"],[1,"cover-image-skeleton"],[1,"skeleton"],[1,"skeleton-loader"],[3,"disabled","ionItemReorder"],[3,"ngSwitch"],[4,"ngSwitchDefault"],["expand","block",3,"click",4,"ngFor","ngForOf"],["expand","block",3,"click"],["alt","Silhouette of mountains",3,"src"],["slot","end","name","chevron-forward-outline"]],template:function(s,e){1&s&&(y.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),y._uU(3," Contents "),y.qZA(),y.TgZ(4,"ion-buttons",1)(5,"ion-icon",2),y.NdJ("click",function(){return e.backTolectures()}),y.qZA()()(),y.TgZ(6,"ion-toolbar")(7,"ion-segment",3),y.NdJ("ngModelChange",function(a){return e.currentContent=a})("ngModelChange",function(){return e.switchContent(e.currentContent)}),y.TgZ(8,"ion-segment-button",4)(9,"ion-label"),y._uU(10,"Video"),y.qZA()(),y.TgZ(11,"ion-segment-button",5)(12,"ion-label"),y._uU(13,"Audio"),y.qZA()(),y.TgZ(14,"ion-segment-button",6)(15,"ion-label"),y._uU(16,"Document"),y.qZA()()()()(),y.TgZ(17,"ion-content",7),y.YNc(18,M,2,2,"div",8),y.YNc(19,n,6,2,"div",8),y.TgZ(20,"ion-fab",9)(21,"ion-fab-button",10),y._UZ(22,"ion-icon",11),y.qZA(),y.TgZ(23,"ion-fab-list",12)(24,"ion-fab-button",13),y.NdJ("click",function(){return e.uploadContent("audio")}),y._UZ(25,"ion-icon",14),y.qZA(),y.TgZ(26,"ion-fab-button",13),y.NdJ("click",function(){return e.uploadContent("video")}),y._UZ(27,"ion-icon",15),y.qZA(),y.TgZ(28,"ion-fab-button",13),y.NdJ("click",function(){return e.uploadContent("document")}),y._UZ(29,"ion-icon",16),y.qZA()()()()),2&s&&(y.Q6J("translucent",!0),y.xp6(7),y.Q6J("ngModel",e.currentContent),y.xp6(10),y.Q6J("fullscreen",!0),y.xp6(1),y.Q6J("ngIf",e.skeleton),y.xp6(1),y.Q6J("ngIf",!e.skeleton))},dependencies:[B.sg,B.O5,B.RF,B.ED,i.Sm,i.FN,i.W2,i.IJ,i.W4,i.zq,i.Gu,i.gu,i.Ie,i.Q$,i.q_,i.oz,i.cJ,i.GO,i.Bs,i.wd,i.sr,i.QI,L.JJ,L.On]}),J})()}];let E=(()=>{class J{}return J.\u0275fac=function(s){return new(s||J)},J.\u0275mod=y.oAB({type:J}),J.\u0275inj=y.cJS({imports:[G.Bz.forChild(c),G.Bz]}),J})();var p=v(6036),C=v.t(p,2);v(2813),function q(){return typeof window>"u"}()||function N(J,F,s){J[F]=s}(C,"verbosity",p.VerbosityLevel.INFOS);let ne=(()=>{class J{}return J.\u0275fac=function(s){return new(s||J)},J.\u0275mod=y.oAB({type:J}),J.\u0275inj=y.cJS({}),J})(),le=(()=>{class J{}return J.\u0275fac=function(s){return new(s||J)},J.\u0275mod=y.oAB({type:J}),J.\u0275inj=y.cJS({imports:[B.ez,i.Pc,L.u5,E,ne]}),J})()},463:(H,o,v)=>{"use strict";v.d(o,{i:()=>i});class i{}},6036:function(module,__unused_webpack_exports,__webpack_require__){var _classStaticPrivateMethodGet=__webpack_require__(5764).default,_defineProperty=__webpack_require__(1670).default,_classPrivateMethodInitSpec=__webpack_require__(1860).default,_classPrivateMethodGet=__webpack_require__(4467).default,_classPrivateFieldInitSpec=__webpack_require__(9159).default,_classPrivateFieldSet=__webpack_require__(5661).default,_classPrivateFieldGet=__webpack_require__(468).default,_classStaticPrivateFieldSpecSet=__webpack_require__(2306).default,_classStaticPrivateFieldSpecGet=__webpack_require__(1280).default,_asyncToGenerator=__webpack_require__(7156).default,v;v=()=>(()=>{"use strict";var __webpack_modules__=[,(H,o,v)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.VerbosityLevel=o.Util=o.UnknownErrorException=o.UnexpectedResponseException=o.UNSUPPORTED_FEATURES=o.TextRenderingMode=o.StreamType=o.RenderingIntentFlag=o.PermissionFlag=o.PasswordResponses=o.PasswordException=o.PageActionEventType=o.OPS=o.MissingPDFException=o.InvalidPDFException=o.ImageKind=o.IDENTITY_MATRIX=o.FormatError=o.FontType=o.FeatureTest=o.FONT_IDENTITY_MATRIX=o.DocumentActionEventType=o.CMapCompressionType=o.BaseException=o.AnnotationType=o.AnnotationStateModelType=o.AnnotationReviewState=o.AnnotationReplyType=o.AnnotationMode=o.AnnotationMarkedState=o.AnnotationFlag=o.AnnotationFieldFlag=o.AnnotationBorderStyleType=o.AnnotationActionEventType=o.AbortException=void 0,o.arrayByteLength=U,o.arraysToBytes=function $(z){const O=z.length;if(1===O&&z[0]instanceof Uint8Array)return z[0];let j=0;for(let we=0;we<O;we++)j+=U(z[we]);let re=0;const be=new Uint8Array(j);for(let we=0;we<O;we++){let se=z[we];se instanceof Uint8Array||(se="string"==typeof se?Q(se):new Uint8Array(se));const ce=se.byteLength;be.set(se,re),re+=ce}return be},o.assert=function ee(z,O){z||K(O)},o.bytesToString=function w(z){("object"!=typeof z||null===z||void 0===z.length)&&K("Invalid argument for bytesToString");const O=z.length,j=8192;if(O<j)return String.fromCharCode.apply(null,z);const re=[];for(let be=0;be<O;be+=j){const we=Math.min(be+j,O),se=z.subarray(be,we);re.push(String.fromCharCode.apply(null,se))}return re.join("")},o.createPromiseCapability=function de(){const z=Object.create(null);let O=!1;return Object.defineProperty(z,"settled",{get:()=>O}),z.promise=new Promise(function(j,re){z.resolve=function(be){O=!0,j(be)},z.reject=function(be){O=!0,re(be)}}),z},o.createValidAbsoluteUrl=function le(z,O=null,j=null){if(!z)return null;try{if(j&&"string"==typeof z){if(j.addDefaultProtocol&&z.startsWith("www.")){const be=z.match(/\./g);be&&be.length>=2&&(z=`http://${z}`)}if(j.tryConvertEncoding)try{z=_e(z)}catch(be){}}const re=O?new URL(z,O):new URL(z);if(function ne(z){if(!z)return!1;switch(z.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(re))return re}catch(re){}return null},o.escapeString=function Ae(z){return z.replace(/([()\\\n\r])/g,O=>"\n"===O?"\\n":"\r"===O?"\\r":`\\${O}`)},o.getModificationDate=function ae(z=new Date){return[z.getUTCFullYear().toString(),(z.getUTCMonth()+1).toString().padStart(2,"0"),z.getUTCDate().toString().padStart(2,"0"),z.getUTCHours().toString().padStart(2,"0"),z.getUTCMinutes().toString().padStart(2,"0"),z.getUTCSeconds().toString().padStart(2,"0")].join("")},o.getVerbosityLevel=function P(){return h},o.info=function N(z){h>=c.INFOS&&console.log(`Info: ${z}`)},o.isArrayBuffer=function k(z){return"object"==typeof z&&null!==z&&void 0!==z.byteLength},o.isArrayEqual=function Y(z,O){if(z.length!==O.length)return!1;for(let j=0,re=z.length;j<re;j++)if(z[j]!==O[j])return!1;return!0},o.isAscii=function oe(z){return/^[\x00-\x7F]*$/.test(z)},o.objectFromMap=function te(z){const O=Object.create(null);for(const[j,re]of z)O[j]=re;return O},o.objectSize=function Z(z){return Object.keys(z).length},o.setVerbosityLevel=function D(z){Number.isInteger(z)&&(h=z)},o.shadow=J,o.string32=function X(z){return String.fromCharCode(z>>24&255,z>>16&255,z>>8&255,255&z)},o.stringToBytes=Q,o.stringToPDFString=function Fe(z){if(z[0]>="\xef"){let j;if("\xfe"===z[0]&&"\xff"===z[1]?j="utf-16be":"\xff"===z[0]&&"\xfe"===z[1]?j="utf-16le":"\xef"===z[0]&&"\xbb"===z[1]&&"\xbf"===z[2]&&(j="utf-8"),j)try{const re=new TextDecoder(j,{fatal:!0}),be=Q(z);return re.decode(be)}catch(re){q(`stringToPDFString: "${re}".`)}}const O=[];for(let j=0,re=z.length;j<re;j++){const be=Se[z.charCodeAt(j)];O.push(be?String.fromCharCode(be):z.charAt(j))}return O.join("")},o.stringToUTF16BEString=function fe(z){const O=["\xfe\xff"];for(let j=0,re=z.length;j<re;j++){const be=z.charCodeAt(j);O.push(String.fromCharCode(be>>8&255),String.fromCharCode(255&be))}return O.join("")},o.stringToUTF8String=_e,o.unreachable=K,o.utf8StringToString=function ie(z){return unescape(encodeURIComponent(z))},o.warn=q,v(2),o.IDENTITY_MATRIX=[1,0,0,1,0,0],o.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],o.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},o.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},o.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},o.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},o.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},o.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},o.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},o.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},o.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},o.AnnotationReplyType={GROUP:"Group",REPLY:"R"},o.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},o.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},o.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},o.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},o.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},o.PageActionEventType={O:"PageOpen",C:"PageClose"},o.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},o.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const c={ERRORS:0,WARNINGS:1,INFOS:5};o.VerbosityLevel=c,o.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},o.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},o.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},o.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let h=c.WARNINGS;function q(z){h>=c.WARNINGS&&console.log(`Warning: ${z}`)}function K(z){throw new Error(z)}function J(z,O,j){return Object.defineProperty(z,O,{value:j,enumerable:!0,configurable:!0,writable:!1}),j}const F=function(){function O(j,re){this.constructor===O&&K("Cannot initialize BaseException."),this.message=j,this.name=re}return O.prototype=new Error,O.constructor=O,O}();function Q(z){"string"!=typeof z&&K("Invalid argument for stringToBytes");const O=z.length,j=new Uint8Array(O);for(let re=0;re<O;++re)j[re]=255&z.charCodeAt(re);return j}function U(z){return void 0!==z.length?z.length:void 0!==z.byteLength?z.byteLength:void K("Invalid argument for arrayByteLength")}o.BaseException=F,o.PasswordException=class s extends F{constructor(O,j){super(O,"PasswordException"),this.code=j}},o.UnknownErrorException=class e extends F{constructor(O,j){super(O,"UnknownErrorException"),this.details=j}},o.InvalidPDFException=class t extends F{constructor(O){super(O,"InvalidPDFException")}},o.MissingPDFException=class a extends F{constructor(O){super(O,"MissingPDFException")}},o.UnexpectedResponseException=class u extends F{constructor(O,j){super(O,"UnexpectedResponseException"),this.status=j}},o.FormatError=class d extends F{constructor(O){super(O,"FormatError")}},o.AbortException=class l extends F{constructor(O){super(O,"AbortException")}},o.FeatureTest=class Ee{static get isLittleEndian(){return J(this,"isLittleEndian",function he(){const z=new Uint8Array(4);return z[0]=1,1===new Uint32Array(z.buffer,0,1)[0]}())}static get isEvalSupported(){return J(this,"isEvalSupported",function ge(){try{return new Function(""),!0}catch(z){return!1}}())}static get isOffscreenCanvasSupported(){return J(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}};const me=[...Array(256).keys()].map(z=>z.toString(16).padStart(2,"0"));class ue{static makeHexColor(O,j,re){return`#${me[O]}${me[j]}${me[re]}`}static scaleMinMax(O,j){let re;O[0]?(O[0]<0&&(re=j[0],j[0]=j[1],j[1]=re),j[0]*=O[0],j[1]*=O[0],O[3]<0&&(re=j[2],j[2]=j[3],j[3]=re),j[2]*=O[3],j[3]*=O[3]):(re=j[0],j[0]=j[2],j[2]=re,re=j[1],j[1]=j[3],j[3]=re,O[1]<0&&(re=j[2],j[2]=j[3],j[3]=re),j[2]*=O[1],j[3]*=O[1],O[2]<0&&(re=j[0],j[0]=j[1],j[1]=re),j[0]*=O[2],j[1]*=O[2]),j[0]+=O[4],j[1]+=O[4],j[2]+=O[5],j[3]+=O[5]}static transform(O,j){return[O[0]*j[0]+O[2]*j[1],O[1]*j[0]+O[3]*j[1],O[0]*j[2]+O[2]*j[3],O[1]*j[2]+O[3]*j[3],O[0]*j[4]+O[2]*j[5]+O[4],O[1]*j[4]+O[3]*j[5]+O[5]]}static applyTransform(O,j){return[O[0]*j[0]+O[1]*j[2]+j[4],O[0]*j[1]+O[1]*j[3]+j[5]]}static applyInverseTransform(O,j){const re=j[0]*j[3]-j[1]*j[2];return[(O[0]*j[3]-O[1]*j[2]+j[2]*j[5]-j[4]*j[3])/re,(-O[0]*j[1]+O[1]*j[0]+j[4]*j[1]-j[5]*j[0])/re]}static getAxialAlignedBoundingBox(O,j){const re=ue.applyTransform(O,j),be=ue.applyTransform(O.slice(2,4),j),we=ue.applyTransform([O[0],O[3]],j),se=ue.applyTransform([O[2],O[1]],j);return[Math.min(re[0],be[0],we[0],se[0]),Math.min(re[1],be[1],we[1],se[1]),Math.max(re[0],be[0],we[0],se[0]),Math.max(re[1],be[1],we[1],se[1])]}static inverseTransform(O){const j=O[0]*O[3]-O[1]*O[2];return[O[3]/j,-O[1]/j,-O[2]/j,O[0]/j,(O[2]*O[5]-O[4]*O[3])/j,(O[4]*O[1]-O[5]*O[0])/j]}static apply3dTransform(O,j){return[O[0]*j[0]+O[1]*j[1]+O[2]*j[2],O[3]*j[0]+O[4]*j[1]+O[5]*j[2],O[6]*j[0]+O[7]*j[1]+O[8]*j[2]]}static singularValueDecompose2dScale(O){const j=[O[0],O[2],O[1],O[3]],re=O[0]*j[0]+O[1]*j[2],se=O[2]*j[1]+O[3]*j[3],ce=(re+se)/2,Ce=Math.sqrt((re+se)**2-4*(re*se-(O[2]*j[0]+O[3]*j[2])*(O[0]*j[1]+O[1]*j[3])))/2,pe=ce-Ce||1;return[Math.sqrt(ce+Ce||1),Math.sqrt(pe)]}static normalizeRect(O){const j=O.slice(0);return O[0]>O[2]&&(j[0]=O[2],j[2]=O[0]),O[1]>O[3]&&(j[1]=O[3],j[3]=O[1]),j}static intersect(O,j){const re=Math.max(Math.min(O[0],O[2]),Math.min(j[0],j[2])),be=Math.min(Math.max(O[0],O[2]),Math.max(j[0],j[2]));if(re>be)return null;const we=Math.max(Math.min(O[1],O[3]),Math.min(j[1],j[3])),se=Math.min(Math.max(O[1],O[3]),Math.max(j[1],j[3]));return we>se?null:[re,we,be,se]}static bezierBoundingBox(O,j,re,be,we,se,ce,Ce){const ve=[],pe=[[],[]];let Pe,ye,De,xe,Te,Me,Oe,Be;for(let Ie=0;Ie<2;++Ie)if(0===Ie?(ye=6*O-12*re+6*we,Pe=-3*O+9*re-9*we+3*ce,De=3*re-3*O):(ye=6*j-12*be+6*se,Pe=-3*j+9*be-9*se+3*Ce,De=3*be-3*j),Math.abs(Pe)<1e-12){if(Math.abs(ye)<1e-12)continue;xe=-De/ye,0<xe&&xe<1&&ve.push(xe)}else Oe=ye*ye-4*De*Pe,Be=Math.sqrt(Oe),!(Oe<0)&&(Te=(-ye+Be)/(2*Pe),0<Te&&Te<1&&ve.push(Te),Me=(-ye-Be)/(2*Pe),0<Me&&Me<1&&ve.push(Me));let ke,Re=ve.length;const Le=Re;for(;Re--;)xe=ve[Re],ke=1-xe,pe[0][Re]=ke*ke*ke*O+3*ke*ke*xe*re+3*ke*xe*xe*we+xe*xe*xe*ce,pe[1][Re]=ke*ke*ke*j+3*ke*ke*xe*be+3*ke*xe*xe*se+xe*xe*xe*Ce;return pe[0][Le]=O,pe[1][Le]=j,pe[0][Le+1]=ce,pe[1][Le+1]=Ce,pe[0].length=pe[1].length=Le+2,[Math.min(...pe[0]),Math.min(...pe[1]),Math.max(...pe[0]),Math.max(...pe[1])]}}o.Util=ue;const Se=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function _e(z){return decodeURIComponent(escape(z))}},(H,o,v)=>{v(3)},(H,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.isNodeJS=void 0;const v=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);o.isNodeJS=v},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(13),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(14),_metadata=__w_pdfjs_require__(15),_optional_content_config=__w_pdfjs_require__(16),_transport_stream=__w_pdfjs_require__(17),_xfa_text=__w_pdfjs_require__(18);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:H,NodeCMapReaderFactory:o,NodeStandardFontDataFactory:v}=__w_pdfjs_require__(19);exports.DefaultCanvasFactory=DefaultCanvasFactory=H,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=o,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=v}function setPDFNetworkStreamFactory(H){createPDFNetworkStream=H}function getDocument(H){const o=new PDFDocumentLoadingTask;let v;if("string"==typeof H||H instanceof URL)v={url:H};else if((0,_util.isArrayBuffer)(H))v={data:H};else if(H instanceof PDFDataRangeTransport)v={range:H};else{if("object"!=typeof H)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!H.url&&!H.data&&!H.range)throw new Error("Invalid parameter object: need either .data, .range or .url");v=H}const i=Object.create(null);let B=null,L=null;for(const T in v){const x=v[T];switch(T){case"url":if(typeof window<"u")try{i[T]=new URL(x,window.location).href;continue}catch(A){(0,_util.warn)(`Cannot create valid URL: "${A}".`)}else if("string"==typeof x||x instanceof URL){i[T]=x.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":B=x;continue;case"worker":L=x;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&x instanceof Buffer)i[T]=new Uint8Array(x);else{if(x instanceof Uint8Array)break;if("string"==typeof x)i[T]=(0,_util.stringToBytes)(x);else if("object"!=typeof x||null===x||isNaN(x.length)){if(!(0,_util.isArrayBuffer)(x))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");i[T]=new Uint8Array(x)}else i[T]=new Uint8Array(x)}continue}i[T]=x}if(i.CMapReaderFactory=i.CMapReaderFactory||DefaultCMapReaderFactory,i.StandardFontDataFactory=i.StandardFontDataFactory||DefaultStandardFontDataFactory,i.ignoreErrors=!0!==i.stopAtErrors,i.fontExtraProperties=!0===i.fontExtraProperties,i.pdfBug=!0===i.pdfBug,i.enableXfa=!0===i.enableXfa,(!Number.isInteger(i.rangeChunkSize)||i.rangeChunkSize<1)&&(i.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof i.docBaseUrl||(0,_display_utils.isDataScheme)(i.docBaseUrl))&&(i.docBaseUrl=null),(!Number.isInteger(i.maxImageSize)||i.maxImageSize<-1)&&(i.maxImageSize=-1),"string"!=typeof i.cMapUrl&&(i.cMapUrl=null),"string"!=typeof i.standardFontDataUrl&&(i.standardFontDataUrl=null),"boolean"!=typeof i.useWorkerFetch&&(i.useWorkerFetch=i.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&i.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof i.isEvalSupported&&(i.isEvalSupported=!0),"boolean"!=typeof i.disableFontFace&&(i.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof i.useSystemFonts&&(i.useSystemFonts=!_is_node.isNodeJS&&!i.disableFontFace),("object"!=typeof i.ownerDocument||null===i.ownerDocument)&&(i.ownerDocument=globalThis.document),"boolean"!=typeof i.disableRange&&(i.disableRange=!1),"boolean"!=typeof i.disableStream&&(i.disableStream=!1),"boolean"!=typeof i.disableAutoFetch&&(i.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(i.verbosity),!L){const T={verbosity:i.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};L=T.port?_PDFWorker.fromPort(T):new _PDFWorker(T),o._worker=L}const G=o.docId;return L.promise.then(function(){if(o.destroyed)throw new Error("Loading aborted");const T=_fetchDocument(L,i,B,G),x=new Promise(function(A){let R;B?R=new _transport_stream.PDFDataTransportStream({length:i.length,initialData:i.initialData,progressiveDone:i.progressiveDone,contentDispositionFilename:i.contentDispositionFilename,disableRange:i.disableRange,disableStream:i.disableStream},B):i.data||(R=createPDFNetworkStream({url:i.url,length:i.length,httpHeaders:i.httpHeaders,withCredentials:i.withCredentials,rangeChunkSize:i.rangeChunkSize,disableRange:i.disableRange,disableStream:i.disableStream})),A(R)});return Promise.all([T,x]).then(function([A,R]){if(o.destroyed)throw new Error("Loading aborted");const V=new _message_handler.MessageHandler(G,A,L.port),y=new WorkerTransport(V,o,R,i);o._transport=y,V.send("Ready",null)})}).catch(o._capability.reject),o}function _fetchDocument(H,o,v,i){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(H,o,v,i){if(H.destroyed)throw new Error("Worker was destroyed");v&&(o.length=v.length,o.initialData=v.initialData,o.progressiveDone=v.progressiveDone,o.contentDispositionFilename=v.contentDispositionFilename);const B=yield H.messageHandler.sendWithPromise("GetDocRequest",{docId:i,apiVersion:"2.14.305",source:{data:o.data,url:o.url,password:o.password,disableAutoFetch:o.disableAutoFetch,rangeChunkSize:o.rangeChunkSize,length:o.length},maxImageSize:o.maxImageSize,disableFontFace:o.disableFontFace,docBaseUrl:o.docBaseUrl,ignoreErrors:o.ignoreErrors,isEvalSupported:o.isEvalSupported,fontExtraProperties:o.fontExtraProperties,enableXfa:o.enableXfa,useSystemFonts:o.useSystemFonts,cMapUrl:o.useWorkerFetch?o.cMapUrl:null,standardFontDataUrl:o.useWorkerFetch?o.standardFontDataUrl:null});if(H.destroyed)throw new Error("Worker was destroyed");return B})).apply(this,arguments)}class PDFDocumentLoadingTask{constructor(){var o,v;this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${_classStaticPrivateFieldSpecSet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId,(o=_classStaticPrivateFieldSpecGet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId),v=o++,o)),v}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var o=this;return _asyncToGenerator(function*(){var v;o.destroyed=!0,yield null===(v=o._transport)||void 0===v?void 0:v.destroy(),o._transport=null,o._worker&&(o._worker.destroy(),o._worker=null)})()}}var _docId={writable:!0,value:0};exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(o,v,i=!1,B=null){this.length=o,this.initialData=v,this.progressiveDone=i,this.contentDispositionFilename=B,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(o){this._rangeListeners.push(o)}addProgressListener(o){this._progressListeners.push(o)}addProgressiveReadListener(o){this._progressiveReadListeners.push(o)}addProgressiveDoneListener(o){this._progressiveDoneListeners.push(o)}onDataRange(o,v){for(const i of this._rangeListeners)i(o,v)}onDataProgress(o,v){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(o,v)})}onDataProgressiveRead(o){this._readyCapability.promise.then(()=>{for(const v of this._progressiveReadListeners)v(o)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const o of this._progressiveDoneListeners)o()})}transportReady(){this._readyCapability.resolve()}requestDataRange(o,v){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(o,v){var B,i=this;this._pdfInfo=o,this._transport=v,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(B=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),i.stats||{streamTypes:{},fontTypes:{}}}),function(){return B.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(o){return this._transport.getPage(o)}getPageIndex(o){return this._transport.getPageIndex(o)}getDestinations(){return this._transport.getDestinations()}getDestination(o){return this._transport.getDestination(o)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(o=!1){return this._transport.startCleanup(o||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(o,v,i,B,L=!1){this._pageIndex=o,this._pageInfo=v,this._ownerDocument=B,this._transport=i,this._stats=L?new _display_utils.StatTimer:null,this._pdfBug=L,this.commonObjs=i.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:o,rotation:v=this.rotate,offsetX:i=0,offsetY:B=0,dontFlip:L=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:o,rotation:v,offsetX:i,offsetY:B,dontFlip:L})}getAnnotations({intent:o="display"}={}){const v=this._transport.getRenderingIntent(o);let i=this._annotationPromises.get(v.cacheKey);return i||(i=this._transport.getAnnotations(this._pageIndex,v.renderingIntent),this._annotationPromises.set(v.cacheKey,i),i=i.then(B=>{for(const L of B)void 0!==L.titleObj&&Object.defineProperty(L,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),L.titleObj.str)}),void 0!==L.contentsObj&&Object.defineProperty(L,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),L.contentsObj.str)});return B})),i}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}getXfa(){var o=this;return _asyncToGenerator(function*(){var v;return(null===(v=o._transport._htmlForXfa)||void 0===v?void 0:v.children[o._pageIndex])||null})()}render({canvasContext:o,viewport:v,intent:i="display",annotationMode:B=_util.AnnotationMode.ENABLE,transform:L=null,imageLayer:G=null,canvasFactory:T=null,background:x=null,optionalContentConfigPromise:A=null,annotationCanvasMap:R=null,pageColors:V=null}){var y,I,W;void 0!==(null===(y=arguments[0])||void 0===y?void 0:y.renderInteractiveForms)&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&B===_util.AnnotationMode.ENABLE&&(B=_util.AnnotationMode.ENABLE_FORMS)),void 0!==(null===(I=arguments[0])||void 0===I?void 0:I.includeAnnotationStorage)&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&B===_util.AnnotationMode.ENABLE&&(B=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const g=this._transport.getRenderingIntent(i,B);this.pendingCleanup=!1,A||(A=this._transport.getOptionalContentConfig());let S=this._intentStates.get(g.cacheKey);S||(S=Object.create(null),this._intentStates.set(g.cacheKey,S)),S.streamReaderCancelTimeout&&(clearTimeout(S.streamReaderCancelTimeout),S.streamReaderCancelTimeout=null);const m=T||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),M=!!(g.renderingIntent&_util.RenderingIntentFlag.PRINT);S.displayReadyCapability||(S.displayReadyCapability=(0,_util.createPromiseCapability)(),S.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(g));const _=r=>{S.renderTasks.delete(b),(this.cleanupAfterRender||M)&&(this.pendingCleanup=!0),this._tryCleanup(),r?(b.capability.reject(r),this._abortOperatorList({intentState:S,reason:r instanceof Error?r:new Error(r)})):b.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},b=new InternalRenderTask({callback:_,params:{canvasContext:o,viewport:v,transform:L,imageLayer:G,background:x},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:R,operatorList:S.operatorList,pageIndex:this._pageIndex,canvasFactory:m,useRequestAnimationFrame:!M,pdfBug:this._pdfBug,pageColors:V});((W=S).renderTasks||(W.renderTasks=new Set)).add(b);const n=b.task;return Promise.all([S.displayReadyCapability.promise,A]).then(([r,c])=>{this.pendingCleanup?_():(this._stats&&this._stats.time("Rendering"),b.initializeGraphics({transparency:r,optionalContentConfig:c}),b.operatorListChanged())}).catch(_),n}getOperatorList({intent:o="display",annotationMode:v=_util.AnnotationMode.ENABLE}={}){const B=this._transport.getRenderingIntent(o,v,!0);let G,L=this._intentStates.get(B.cacheKey);var T;return L||(L=Object.create(null),this._intentStates.set(B.cacheKey,L)),L.opListReadCapability||(G=Object.create(null),G.operatorListChanged=function i(){L.operatorList.lastChunk&&(L.opListReadCapability.resolve(L.operatorList),L.renderTasks.delete(G))},L.opListReadCapability=(0,_util.createPromiseCapability)(),((T=L).renderTasks||(T.renderTasks=new Set)).add(G),L.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(B)),L.opListReadCapability.promise}streamTextContent({disableCombineTextItems:o=!1,includeMarkedContent:v=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==o,includeMarkedContent:!0===v},{highWaterMark:100,size:B=>B.items.length})}getTextContent(o={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>_xfa_text.XfaText.textContent(i));const v=this.streamTextContent(o);return new Promise(function(i,B){const G=v.getReader(),T={items:[],styles:Object.create(null)};!function L(){G.read().then(function({value:x,done:A}){A?i(T):(Object.assign(T.styles,x.styles),T.items.push(...x.items),L())},B)}()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const o=[];for(const v of this._intentStates.values())if(this._abortOperatorList({intentState:v,reason:new Error("Page was destroyed."),force:!0}),!v.opListReadCapability)for(const i of v.renderTasks)o.push(i.completed),i.cancel();this.objs.clear();for(const v of this._bitmaps)v.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(o)}cleanup(o=!1){return this.pendingCleanup=!0,this._tryCleanup(o)}_tryCleanup(o=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:v,operatorList:i}of this._intentStates.values())if(v.size>0||!i.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,o&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const v of this._bitmaps)v.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(o,v){const i=this._intentStates.get(v);i&&(this._stats&&this._stats.timeEnd("Page Request"),i.displayReadyCapability&&i.displayReadyCapability.resolve(o))}_renderPageChunk(o,v){for(let i=0,B=o.length;i<B;i++)v.operatorList.fnArray.push(o.fnArray[i]),v.operatorList.argsArray.push(o.argsArray[i]);v.operatorList.lastChunk=o.lastChunk;for(const i of v.renderTasks)i.operatorListChanged();o.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:o,cacheKey:v}){const B=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:o,cacheKey:v,annotationStorage:o&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),L=this._intentStates.get(v);L.streamReader=B;const G=()=>{B.read().then(({value:T,done:x})=>{x?L.streamReader=null:this._transport.destroyed||(this._renderPageChunk(T,L),G())},T=>{if(L.streamReader=null,!this._transport.destroyed){if(L.operatorList){L.operatorList.lastChunk=!0;for(const x of L.renderTasks)x.operatorListChanged();this._tryCleanup()}if(L.displayReadyCapability)L.displayReadyCapability.reject(T);else{if(!L.opListReadCapability)throw T;L.opListReadCapability.reject(T)}}})};G()}_abortOperatorList({intentState:o,reason:v,force:i=!1}){if(o.streamReader){if(!i){if(o.renderTasks.size>0)return;if(v instanceof _display_utils.RenderingCancelledException)return void(o.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:o,reason:v,force:!0}),o.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(o.streamReader.cancel(new _util.AbortException(v.message)).catch(()=>{}),o.streamReader=null,!this._transport.destroyed){for(const[B,L]of this._intentStates)if(L===o){this._intentStates.delete(B);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(o,v){const i={data:structuredClone(o,v)};this._deferred.then(()=>{for(const B of this._listeners)B.call(this,i)})}addEventListener(o,v){this._listeners.push(v)}removeEventListener(o,v){const i=this._listeners.indexOf(v);this._listeners.splice(i,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){var _document,_document$currentScri;const H=null===(_document=document)||void 0===_document||null===(_document$currentScri=_document.currentScript)||void 0===_document$currentScri?void 0:_document$currentScri.src;H&&(PDFWorkerUtil.fallbackWorkerSrc=H.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(H,o){let v;try{if(v=new URL(H),!v.origin||"null"===v.origin)return!1}catch(B){return!1}const i=new URL(o,v);return v.origin===i.origin},PDFWorkerUtil.createCDNWrapper=function(H){return URL.createObjectURL(new Blob([`importScripts("${H}");`]))};class _PDFWorker{constructor({name:H=null,port:o=null,verbosity:v=(0,_util.getVerbosityLevel)()}={}){if(o&&_classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).has(o))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=H,this.destroyed=!1,this.verbosity=v,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,o)return _classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).set(o,this),void this._initializeFromPort(o);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(H){this._port=H,this._messageHandler=new _message_handler.MessageHandler("main","worker",H),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker<"u"&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let H=_PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,H)||(H=PDFWorkerUtil.createCDNWrapper(new URL(H,window.location).href));const o=new Worker(H),v=new _message_handler.MessageHandler("main","worker",o),i=()=>{o.removeEventListener("error",B),v.destroy(),o.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},B=()=>{this._webWorker||i()};o.addEventListener("error",B),v.on("test",G=>{o.removeEventListener("error",B),this.destroyed?i():G?(this._messageHandler=v,this._port=o,this._webWorker=o,this._readyCapability.resolve(),v.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),v.destroy(),o.terminate())}),v.on("ready",G=>{if(o.removeEventListener("error",B),this.destroyed)i();else try{L()}catch(T){this._setupFakeWorker()}});const L=()=>{const G=new Uint8Array;v.send("test",G,[G.buffer])};return void L()}catch(o){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(H=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const o=new LoopbackPort;this._port=o;const v="fake"+PDFWorkerUtil.fakeWorkerId++,i=new _message_handler.MessageHandler(v+"_worker",v,o);H.setup(i,o);const B=new _message_handler.MessageHandler(v,v+"_worker",o);this._messageHandler=B,this._readyCapability.resolve(),B.send("configure",{verbosity:this.verbosity})}).catch(H=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${H.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(H){if(null==H||!H.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return _classStaticPrivateFieldSpecGet(this,_PDFWorker,_workerPorts).has(H.port)?_classStaticPrivateFieldSpecGet(this,_PDFWorker,_workerPorts).get(H.port):new _PDFWorker(H)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{var H;return(null===(H=globalThis.pdfjsWorker)||void 0===H?void 0:H.WorkerMessageHandler)||null}catch(o){return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function H(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}var _workerPorts={writable:!0,value:new WeakMap};exports.PDFWorker=_PDFWorker,_PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap;class WorkerTransport{constructor(o,v,i,B){_classPrivateFieldInitSpec(this,_docStats,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_metadataPromise,{writable:!0,value:null}),this.messageHandler=o,this.loadingTask=v,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:v.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:B.ownerDocument,styleElement:B.styleElement}),this._params=B,B.useWorkerFetch||(this.CMapReaderFactory=new B.CMapReaderFactory({baseUrl:B.cMapUrl,isCompressed:B.cMapPacked}),this.StandardFontDataFactory=new B.StandardFontDataFactory({baseUrl:B.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return _classPrivateFieldGet(this,_docStats)}getRenderingIntent(o,v=_util.AnnotationMode.ENABLE,i=!1){let B=_util.RenderingIntentFlag.DISPLAY,L="";switch(o){case"any":B=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":B=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${o}`)}switch(v){case _util.AnnotationMode.DISABLE:B+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:B+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:B+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,L=this.annotationStorage.hash;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${v}`)}return i&&(B+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:B,cacheKey:`${B}_${L}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const o=[];for(const i of _classPrivateFieldGet(this,_pageCache).values())o.push(i._destroy());_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const v=this.messageHandler.sendWithPromise("Terminate",null);return o.push(v),Promise.all(o).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:o,loadingTask:v}=this;o.on("GetReader",(i,B)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=L=>{this._lastProgress={loaded:L.loaded,total:L.total}},B.onPull=()=>{this._fullReader.read().then(function({value:L,done:G}){G?B.close():((0,_util.assert)((0,_util.isArrayBuffer)(L),"GetReader - expected an ArrayBuffer."),B.enqueue(new Uint8Array(L),1,[L]))}).catch(L=>{B.error(L)})},B.onCancel=L=>{this._fullReader.cancel(L),B.ready.catch(G=>{if(!this.destroyed)throw G})}}),o.on("ReaderHeadersReady",i=>{const B=(0,_util.createPromiseCapability)(),L=this._fullReader;return L.headersReady.then(()=>{var G;L.isStreamingSupported&&L.isRangeSupported||(this._lastProgress&&(null===(G=v.onProgress)||void 0===G||G.call(v,this._lastProgress)),L.onProgress=T=>{var x;null===(x=v.onProgress)||void 0===x||x.call(v,{loaded:T.loaded,total:T.total})}),B.resolve({isStreamingSupported:L.isStreamingSupported,isRangeSupported:L.isRangeSupported,contentLength:L.contentLength})},B.reject),B.promise}),o.on("GetRangeReader",(i,B)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const L=this._networkStream.getRangeReader(i.begin,i.end);L?(B.onPull=()=>{L.read().then(function({value:G,done:T}){T?B.close():((0,_util.assert)((0,_util.isArrayBuffer)(G),"GetRangeReader - expected an ArrayBuffer."),B.enqueue(new Uint8Array(G),1,[G]))}).catch(G=>{B.error(G)})},B.onCancel=G=>{L.cancel(G),B.ready.catch(T=>{if(!this.destroyed)throw T})}):B.close()}),o.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,v._capability.resolve(new PDFDocumentProxy(i,this))}),o.on("DocException",function(i){let B;switch(i.name){case"PasswordException":B=new _util.PasswordException(i.message,i.code);break;case"InvalidPDFException":B=new _util.InvalidPDFException(i.message);break;case"MissingPDFException":B=new _util.MissingPDFException(i.message);break;case"UnexpectedResponseException":B=new _util.UnexpectedResponseException(i.message,i.status);break;case"UnknownErrorException":B=new _util.UnknownErrorException(i.message,i.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}v._capability.reject(B)}),o.on("PasswordRequest",i=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),v.onPassword){const B=L=>{L instanceof Error?this._passwordCapability.reject(L):this._passwordCapability.resolve({password:L})};try{v.onPassword(B,i.code)}catch(L){this._passwordCapability.reject(L)}}else this._passwordCapability.reject(new _util.PasswordException(i.message,i.code));return this._passwordCapability.promise}),o.on("DataLoaded",i=>{var B;null===(B=v.onProgress)||void 0===B||B.call(v,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),o.on("StartRenderPage",i=>{this.destroyed||_classPrivateFieldGet(this,_pageCache).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),o.on("commonobj",([i,B,L])=>{var G;if(!this.destroyed&&!this.commonObjs.has(i))switch(B){case"Font":const T=this._params;if("error"in L){const R=L.error;(0,_util.warn)(`Error during font loading: ${R}`),this.commonObjs.resolve(i,R);break}let x=null;T.pdfBug&&null!==(G=globalThis.FontInspector)&&void 0!==G&&G.enabled&&(x={registerFont(R,V){globalThis.FontInspector.fontAdded(R,V)}});const A=new _font_loader.FontFaceObject(L,{isEvalSupported:T.isEvalSupported,disableFontFace:T.disableFontFace,ignoreErrors:T.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:x});this.fontLoader.bind(A).catch(R=>o.sendWithPromise("FontFallback",{id:i})).finally(()=>{!T.fontExtraProperties&&A.data&&(A.data=null),this.commonObjs.resolve(i,A)});break;case"FontPath":case"Image":this.commonObjs.resolve(i,L);break;default:throw new Error(`Got unknown common object type ${B}`)}}),o.on("obj",([i,B,L,G])=>{if(this.destroyed)return;const T=_classPrivateFieldGet(this,_pageCache).get(B);if(!T.objs.has(i))switch(L){case"Image":T.objs.resolve(i,G);const A=8e6;if(G){let R;if(G.bitmap){const{bitmap:V,width:y,height:I}=G;R=y*I*4,T._bitmaps.add(V)}else{var x;R=(null===(x=G.data)||void 0===x?void 0:x.length)||0}R>A&&(T.cleanupAfterRender=!0)}break;case"Pattern":T.objs.resolve(i,G);break;default:throw new Error(`Got unknown object type ${L}`)}}),o.on("DocProgress",i=>{var B;this.destroyed||null===(B=v.onProgress)||void 0===B||B.call(v,{loaded:i.loaded,total:i.total})}),o.on("DocStats",i=>{this.destroyed||_classPrivateFieldSet(this,_docStats,Object.freeze({streamTypes:Object.freeze(i.streamTypes),fontTypes:Object.freeze(i.fontTypes)}))}),o.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),o.on("FetchBuiltInCMap",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(i):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),o.on("FetchStandardFontData",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(i):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:o}){var v,i;this.destroyed||null===(v=(i=this.loadingTask).onUnsupportedFeature)||void 0===v||v.call(i,o)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(o){if(!Number.isInteger(o)||o<=0||o>this._numPages)return Promise.reject(new Error("Invalid page request."));const v=o-1,i=_classPrivateFieldGet(this,_pagePromises).get(v);if(i)return i;const B=this.messageHandler.sendWithPromise("GetPage",{pageIndex:v}).then(L=>{if(this.destroyed)throw new Error("Transport destroyed");const G=new PDFPageProxy(v,L,this,this._params.ownerDocument,this._params.pdfBug);return _classPrivateFieldGet(this,_pageCache).set(v,G),G});return _classPrivateFieldGet(this,_pagePromises).set(v,B),B}getPageIndex(o){return"object"!=typeof o||null===o||!Number.isInteger(o.num)||o.num<0||!Number.isInteger(o.gen)||o.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:o.num,gen:o.gen})}getAnnotations(o,v){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:o,intent:v})}saveDocument(){var o,v;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:null!==(o=null===(v=this._fullReader)||void 0===v?void 0:v.filename)&&void 0!==o?o:null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(o){return"string"!=typeof o?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:o})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(o){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:o})}getStructTree(o){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:o})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(o=>new _optional_content_config.OptionalContentConfig(o))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return _classPrivateFieldGet(this,_metadataPromise)||_classPrivateFieldSet(this,_metadataPromise,this.messageHandler.sendWithPromise("GetMetadata",null).then(o=>{var v,i,B,L;return{info:o[0],metadata:o[1]?new _metadata.Metadata(o[1]):null,contentDispositionFilename:null!==(v=null===(i=this._fullReader)||void 0===i?void 0:i.filename)&&void 0!==v?v:null,contentLength:null!==(B=null===(L=this._fullReader)||void 0===L?void 0:L.contentLength)&&void 0!==B?B:null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(o=!1){var v=this;return _asyncToGenerator(function*(){if(yield v.messageHandler.sendWithPromise("Cleanup",null),!v.destroyed){for(const i of _classPrivateFieldGet(v,_pageCache).values())if(!i.cleanup())throw new Error(`startCleanup: Page ${i.pageNumber} is currently rendering.`);v.commonObjs.clear(),o||v.fontLoader.clear(),_classPrivateFieldSet(v,_metadataPromise,null),v._getFieldObjectsPromise=null,v._hasJSActionsPromise=null}})()}get loadingParams(){const o=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:o.disableAutoFetch,enableXfa:o.enableXfa})}}var _objs=new WeakMap,_ensureObj=new WeakSet;class PDFObjects{constructor(){_classPrivateMethodInitSpec(this,_ensureObj),_classPrivateFieldInitSpec(this,_objs,{writable:!0,value:Object.create(null)})}get(o,v=null){if(v){const B=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,o);return B.capability.promise.then(()=>v(B.data)),null}const i=_classPrivateFieldGet(this,_objs)[o];if(null==i||!i.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${o}.`);return i.data}has(o){const v=_classPrivateFieldGet(this,_objs)[o];return(null==v?void 0:v.capability.settled)||!1}resolve(o,v=null){const i=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,o);i.data=v,i.capability.resolve()}clear(){_classPrivateFieldSet(this,_objs,Object.create(null))}}function _ensureObj2(H){return _classPrivateFieldGet(this,_objs)[H]||(_classPrivateFieldGet(this,_objs)[H]={capability:(0,_util.createPromiseCapability)(),data:null})}class RenderTask{constructor(o){this._internalRenderTask=o,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;class InternalRenderTask{constructor({callback:o,params:v,objs:i,commonObjs:B,annotationCanvasMap:L,operatorList:G,pageIndex:T,canvasFactory:x,useRequestAnimationFrame:A=!1,pdfBug:R=!1,pageColors:V=null}){this.callback=o,this.params=v,this.objs=i,this.commonObjs=B,this.annotationCanvasMap=L,this.operatorListIdx=null,this.operatorList=G,this._pageIndex=T,this.canvasFactory=x,this._pdfBug=R,this.pageColors=V,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===A&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=v.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:o=!1,optionalContentConfig:v}){var i;if(this.cancelled)return;if(this._canvas){if(_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).add(this._canvas)}this._pdfBug&&null!==(i=globalThis.StepperManager)&&void 0!==i&&i.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:B,viewport:L,transform:G,imageLayer:T,background:x}=this.params;this.gfx=new _canvas.CanvasGraphics(B,this.commonObjs,this.objs,this.canvasFactory,T,v,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:G,viewport:L,transparency:o,background:x}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(o=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(this._canvas),this.callback(o||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var o=this;return _asyncToGenerator(function*(){o.cancelled||(o.operatorListIdx=o.gfx.executeOperatorList(o.operatorList,o.operatorListIdx,o._continueBound,o.stepper),o.operatorListIdx===o.operatorList.argsArray.length&&(o.running=!1,o.operatorList.lastChunk&&(o.gfx.endDrawing(),o._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(o._canvas),o.callback())))})()}}var _canvasInUse={writable:!0,value:new WeakSet};const version="2.14.305";exports.version=version;const build="eaaa8b4ad";exports.build=build},(H,o,v)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.StatTimer=o.RenderingCancelledException=o.PixelsPerInch=o.PageViewport=o.PDFDateString=o.DOMStandardFontDataFactory=o.DOMSVGFactory=o.DOMCanvasFactory=o.DOMCMapReaderFactory=void 0,o.deprecated=function r(C){console.log("Deprecated API usage: "+C)},o.getFilenameFromUrl=function m(C){const f=C.indexOf("#"),h=C.indexOf("?"),D=Math.min(f>0?f:C.length,h>0?h:C.length);return C.substring(C.lastIndexOf("/",D)+1,D)},o.getPdfFilenameFromUrl=function M(C,f="document.pdf"){if("string"!=typeof C)return f;if(g(C))return(0,B.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),f;const D=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,P=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(C);let N=D.exec(P[1])||D.exec(P[2])||D.exec(P[3]);if(N&&(N=N[0],N.includes("%")))try{N=D.exec(decodeURIComponent(N))[0]}catch(q){}return N||f},o.getXfaPageViewport=function p(C,{scale:f=1,rotation:h=0}){const{width:D,height:P}=C.attributes.style,N=[0,0,parseInt(D),parseInt(P)];return new I({viewBox:N,scale:f,rotation:h})},o.isDataScheme=g,o.isPdfFile=function S(C){return"string"==typeof C&&/\.pdf$/i.test(C)},o.isValidFetchUrl=b,o.loadScript=function n(C,f=!1){return new Promise((h,D)=>{const P=document.createElement("script");P.src=C,P.onload=function(N){f&&P.remove(),h(N)},P.onerror=function(){D(new Error(`Cannot load script at: ${P.src}`))},(document.head||document.documentElement).appendChild(P)})};var i=v(6),B=v(1);class G{}function x(C){return A.apply(this,arguments)}function A(){return(A=_asyncToGenerator(function*(C,f=!1){if(b(C,document.baseURI)){const h=yield fetch(C);if(!h.ok)throw new Error(h.statusText);return f?new Uint8Array(yield h.arrayBuffer()):(0,B.stringToBytes)(yield h.text())}return new Promise((h,D)=>{const P=new XMLHttpRequest;P.open("GET",C,!0),f&&(P.responseType="arraybuffer"),P.onreadystatechange=()=>{if(P.readyState===XMLHttpRequest.DONE){if(200===P.status||0===P.status){let N;if(f&&P.response?N=new Uint8Array(P.response):!f&&P.responseText&&(N=(0,B.stringToBytes)(P.responseText)),N)return void h(N)}D(new Error(P.statusText))}},P.send(null)})})).apply(this,arguments)}_defineProperty(G,"CSS",96),_defineProperty(G,"PDF",72),_defineProperty(G,"PDF_TO_CSS_UNITS",G.CSS/G.PDF),o.PixelsPerInch=G,o.DOMCanvasFactory=class T extends i.BaseCanvasFactory{constructor({ownerDocument:f=globalThis.document}={}){super(),this._document=f}_createCanvas(f,h){const D=this._document.createElement("canvas");return D.width=f,D.height=h,D}},o.DOMCMapReaderFactory=class R extends i.BaseCMapReaderFactory{_fetchData(f,h){return x(f,this.isCompressed).then(D=>({cMapData:D,compressionType:h}))}},o.DOMStandardFontDataFactory=class V extends i.BaseStandardFontDataFactory{_fetchData(f){return x(f,!0)}},o.DOMSVGFactory=class y extends i.BaseSVGFactory{_createSVG(f){return document.createElementNS("http://www.w3.org/2000/svg",f)}};class I{constructor({viewBox:f,scale:h,rotation:D,offsetX:P=0,offsetY:N=0,dontFlip:q=!1}){this.viewBox=f,this.scale=h,this.rotation=D,this.offsetX=P,this.offsetY=N;const K=(f[2]+f[0])/2,ee=(f[3]+f[1])/2;let ne,le,J,F,s,e,t,a;switch((D%=360)<0&&(D+=360),D){case 180:ne=-1,le=0,J=0,F=1;break;case 90:ne=0,le=1,J=1,F=0;break;case 270:ne=0,le=-1,J=-1,F=0;break;case 0:ne=1,le=0,J=0,F=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}q&&(J=-J,F=-F),0===ne?(s=Math.abs(ee-f[1])*h+P,e=Math.abs(K-f[0])*h+N,t=Math.abs(f[3]-f[1])*h,a=Math.abs(f[2]-f[0])*h):(s=Math.abs(K-f[0])*h+P,e=Math.abs(ee-f[1])*h+N,t=Math.abs(f[2]-f[0])*h,a=Math.abs(f[3]-f[1])*h),this.transform=[ne*h,le*h,J*h,F*h,s-ne*h*K-J*h*ee,e-le*h*K-F*h*ee],this.width=t,this.height=a}clone({scale:f=this.scale,rotation:h=this.rotation,offsetX:D=this.offsetX,offsetY:P=this.offsetY,dontFlip:N=!1}={}){return new I({viewBox:this.viewBox.slice(),scale:f,rotation:h,offsetX:D,offsetY:P,dontFlip:N})}convertToViewportPoint(f,h){return B.Util.applyTransform([f,h],this.transform)}convertToViewportRectangle(f){const h=B.Util.applyTransform([f[0],f[1]],this.transform),D=B.Util.applyTransform([f[2],f[3]],this.transform);return[h[0],h[1],D[0],D[1]]}convertToPdfPoint(f,h){return B.Util.applyInverseTransform([f,h],this.transform)}}function g(C){const f=C.length;let h=0;for(;h<f&&""===C[h].trim();)h++;return"data:"===C.substring(h,h+5).toLowerCase()}function b(C,f){try{const{protocol:h}=f?new URL(C,f):new URL(C);return"http:"===h||"https:"===h}catch(h){return!1}}let c;o.PageViewport=I,o.RenderingCancelledException=class W extends B.BaseException{constructor(f,h){super(f,"RenderingCancelledException"),this.type=h}},o.StatTimer=class _{constructor(){this.started=Object.create(null),this.times=[]}time(f){f in this.started&&(0,B.warn)(`Timer is already running for ${f}`),this.started[f]=Date.now()}timeEnd(f){f in this.started||(0,B.warn)(`Timer has not been started for ${f}`),this.times.push({name:f,start:this.started[f],end:Date.now()}),delete this.started[f]}toString(){const f=[];let h=0;for(const D of this.times){const P=D.name;P.length>h&&(h=P.length)}for(const D of this.times){const P=D.end-D.start;f.push(`${D.name.padEnd(h)} ${P}ms\n`)}return f.join("")}},o.PDFDateString=class E{static toDateObject(f){if(!f||"string"!=typeof f)return null;c||(c=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const h=c.exec(f);if(!h)return null;const D=parseInt(h[1],10);let P=parseInt(h[2],10);P=P>=1&&P<=12?P-1:0;let N=parseInt(h[3],10);N=N>=1&&N<=31?N:1;let q=parseInt(h[4],10);q=q>=0&&q<=23?q:0;let K=parseInt(h[5],10);K=K>=0&&K<=59?K:0;let ee=parseInt(h[6],10);ee=ee>=0&&ee<=59?ee:0;const ne=h[7]||"Z";let le=parseInt(h[8],10);le=le>=0&&le<=23?le:0;let J=parseInt(h[9],10)||0;return J=J>=0&&J<=59?J:0,"-"===ne?(q+=le,K+=J):"+"===ne&&(q-=le,K-=J),new Date(Date.UTC(D,P,N,q,K,ee))}}},(H,o,v)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BaseStandardFontDataFactory=o.BaseSVGFactory=o.BaseCanvasFactory=o.BaseCMapReaderFactory=void 0;var i=v(1);class B{constructor(){this.constructor===B&&(0,i.unreachable)("Cannot initialize BaseCanvasFactory.")}create(A,R){if(A<=0||R<=0)throw new Error("Invalid canvas size");const V=this._createCanvas(A,R);return{canvas:V,context:V.getContext("2d")}}reset(A,R,V){if(!A.canvas)throw new Error("Canvas is not specified");if(R<=0||V<=0)throw new Error("Invalid canvas size");A.canvas.width=R,A.canvas.height=V}destroy(A){if(!A.canvas)throw new Error("Canvas is not specified");A.canvas.width=0,A.canvas.height=0,A.canvas=null,A.context=null}_createCanvas(A,R){(0,i.unreachable)("Abstract method `_createCanvas` called.")}}o.BaseCanvasFactory=B;class L{constructor({baseUrl:A=null,isCompressed:R=!1}){this.constructor===L&&(0,i.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=A,this.isCompressed=R}fetch({name:A}){var R=this;return _asyncToGenerator(function*(){if(!R.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!A)throw new Error("CMap name must be specified.");const V=R.baseUrl+A+(R.isCompressed?".bcmap":"");return R._fetchData(V,R.isCompressed?i.CMapCompressionType.BINARY:i.CMapCompressionType.NONE).catch(I=>{throw new Error(`Unable to load ${R.isCompressed?"binary ":""}CMap at: ${V}`)})})()}_fetchData(A,R){(0,i.unreachable)("Abstract method `_fetchData` called.")}}o.BaseCMapReaderFactory=L;class G{constructor({baseUrl:A=null}){this.constructor===G&&(0,i.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=A}fetch({filename:A}){var R=this;return _asyncToGenerator(function*(){if(!R.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!A)throw new Error("Font filename must be specified.");const V=`${R.baseUrl}${A}`;return R._fetchData(V).catch(y=>{throw new Error(`Unable to load font data at: ${V}`)})})()}_fetchData(A){(0,i.unreachable)("Abstract method `_fetchData` called.")}}o.BaseStandardFontDataFactory=G;class T{constructor(){this.constructor===T&&(0,i.unreachable)("Cannot initialize BaseSVGFactory.")}create(A,R){if(A<=0||R<=0)throw new Error("Invalid SVG dimensions");const V=this._createSVG("svg:svg");return V.setAttribute("version","1.1"),V.setAttribute("width",`${A}px`),V.setAttribute("height",`${R}px`),V.setAttribute("preserveAspectRatio","none"),V.setAttribute("viewBox",`0 0 ${A} ${R}`),V}createElement(A){if("string"!=typeof A)throw new Error("Invalid SVG element type");return this._createSVG(A)}_createSVG(A){(0,i.unreachable)("Abstract method `_createSVG` called.")}}o.BaseSVGFactory=T},(H,o,v)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.FontLoader=o.FontFaceObject=void 0;var i=v(1);class B{constructor({docId:x,onUnsupportedFeature:A,ownerDocument:R=globalThis.document,styleElement:V=null}){this.constructor===B&&(0,i.unreachable)("Cannot initialize BaseFontLoader."),this.docId=x,this._onUnsupportedFeature=A,this._document=R,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(x){this.nativeFontFaces.push(x),this._document.fonts.add(x)}insertRule(x){let A=this.styleElement;A||(A=this.styleElement=this._document.createElement("style"),A.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(A));const R=A.sheet;R.insertRule(x,R.cssRules.length)}clear(){for(const x of this.nativeFontFaces)this._document.fonts.delete(x);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(x){var A=this;return _asyncToGenerator(function*(){if(x.attached||x.missingFile)return;if(x.attached=!0,A.isFontLoadingAPISupported){const V=x.createNativeFontFace();if(V){A.addNativeFontFace(V);try{yield V.loaded}catch(y){throw A._onUnsupportedFeature({featureId:i.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,i.warn)(`Failed to load font '${V.family}': '${y}'.`),x.disableFontFace=!0,y}}return}const R=x.createFontFaceRule();if(R){if(A.insertRule(R),A.isSyncFontLoadingSupported)return;yield new Promise(V=>{const y=A._queueLoadingCallback(V);A._prepareFontLoadEvent([R],[x],y)})}})()}_queueLoadingCallback(x){(0,i.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var x;const A=!(null===(x=this._document)||void 0===x||!x.fonts);return(0,i.shadow)(this,"isFontLoadingAPISupported",A)}get isSyncFontLoadingSupported(){(0,i.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,i.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(x,A,R){(0,i.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let L;o.FontLoader=L,o.FontLoader=L=class extends B{constructor(x){super(x),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let x=!1;if(typeof navigator>"u")x=!0;else{const A=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(null==A?void 0:A[1])>=14&&(x=!0)}return(0,i.shadow)(this,"isSyncFontLoadingSupported",x)}_queueLoadingCallback(x){const R=this.loadingContext,V={id:"pdfjs-font-loading-"+R.nextRequestId++,done:!1,complete:function A(){for((0,i.assert)(!V.done,"completeRequest() cannot be called twice."),V.done=!0;R.requests.length>0&&R.requests[0].done;){const y=R.requests.shift();setTimeout(y.callback,0)}},callback:x};return R.requests.push(V),V}get _loadTestFont(){return(0,i.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(x,A,R){function V(D,P){return D.charCodeAt(P)<<24|D.charCodeAt(P+1)<<16|D.charCodeAt(P+2)<<8|255&D.charCodeAt(P+3)}function y(D,P,N,q){return D.substring(0,P)+q+D.substring(P+N)}let I,W;const g=this._document.createElement("canvas");g.width=1,g.height=1;const S=g.getContext("2d");let m=0;const _=`lt${Date.now()}${this.loadTestFontId++}`;let b=this._loadTestFont;b=y(b,976,_.length,_);const c=1482184792;let E=V(b,16);for(I=0,W=_.length-3;I<W;I+=4)E=E-c+V(_,I)|0;I<_.length&&(E=E-c+V(_+"XXX",I)|0),b=y(b,16,4,(0,i.string32)(E));const p=`url(data:font/opentype;base64,${btoa(b)});`;this.insertRule(`@font-face {font-family:"${_}";src:${p}}`);const f=[];for(const D of A)f.push(D.loadedName);f.push(_);const h=this._document.createElement("div");h.style.visibility="hidden",h.style.width=h.style.height="10px",h.style.position="absolute",h.style.top=h.style.left="0px";for(const D of f){const P=this._document.createElement("span");P.textContent="Hi",P.style.fontFamily=D,h.appendChild(P)}this._document.body.appendChild(h),function M(D,P){if(m++,m>30)return(0,i.warn)("Load test font never loaded."),void P();S.font="30px "+D,S.fillText(".",0,20),S.getImageData(0,0,1,1).data[3]>0?P():setTimeout(M.bind(null,D,P))}(_,()=>{h.remove(),R.complete()})}},o.FontFaceObject=class G{constructor(x,{isEvalSupported:A=!0,disableFontFace:R=!1,ignoreErrors:V=!1,onUnsupportedFeature:y,fontRegistry:I=null}){this.compiledGlyphs=Object.create(null);for(const W in x)this[W]=x[W];this.isEvalSupported=!1!==A,this.disableFontFace=!0===R,this.ignoreErrors=!0===V,this._onUnsupportedFeature=y,this.fontRegistry=I}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let x;if(this.cssFontInfo){const A={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(A.style=`oblique ${this.cssFontInfo.italicAngle}deg`),x=new FontFace(this.cssFontInfo.fontFamily,this.data,A)}else x=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),x}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const x=(0,i.bytesToString)(this.data),A=`url(data:${this.mimetype};base64,${btoa(x)});`;let R;if(this.cssFontInfo){let V=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(V+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),R=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${V}src:${A}}`}else R=`@font-face {font-family:"${this.loadedName}";src:${A}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,A),R}getPathGenerator(x,A){if(void 0!==this.compiledGlyphs[A])return this.compiledGlyphs[A];let R;try{R=x.get(this.loadedName+"_path_"+A)}catch(V){if(!this.ignoreErrors)throw V;return this._onUnsupportedFeature({featureId:i.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,i.warn)(`getPathGenerator - ignoring character: "${V}".`),this.compiledGlyphs[A]=function(y,I){}}if(this.isEvalSupported&&i.FeatureTest.isEvalSupported){const V=[];for(const y of R){const I=void 0!==y.args?y.args.join(","):"";V.push("c.",y.cmd,"(",I,");\n")}return this.compiledGlyphs[A]=new Function("c","size",V.join(""))}return this.compiledGlyphs[A]=function(V,y){for(const I of R)"scale"===I.cmd&&(I.args=[y,-y]),V[I.cmd].apply(V,I.args)}}}},(H,o,v)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.AnnotationStorage=void 0;var i=v(9),B=v(1);o.AnnotationStorage=class L{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(T,x){const A=this._storage.get(T);return void 0===A?x:Object.assign(x,A)}getRawValue(T){return this._storage.get(T)}setValue(T,x){const A=this._storage.get(T);let R=!1;if(void 0!==A)for(const[V,y]of Object.entries(x))A[V]!==y&&(R=!0,A[V]=y);else R=!0,this._storage.set(T,x);R&&this._setModified()}getAll(){return this._storage.size>0?(0,B.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get hash(){const T=new i.MurmurHash3_64;for(const[x,A]of this._storage)T.update(`${x}:${JSON.stringify(A)}`);return T.hexdigest()}}},(H,o,v)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.MurmurHash3_64=void 0;var i=v(1);const B=3285377520,L=4294901760,G=65535;o.MurmurHash3_64=class T{constructor(A){this.h1=A?4294967295&A:B,this.h2=A?4294967295&A:B}update(A){let R,V;if("string"==typeof A){R=new Uint8Array(2*A.length),V=0;for(let c=0,E=A.length;c<E;c++){const p=A.charCodeAt(c);p<=255?R[V++]=p:(R[V++]=p>>>8,R[V++]=255&p)}}else{if(!(0,i.isArrayBuffer)(A))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");R=A.slice(),V=R.byteLength}const y=V>>2,I=V-4*y,W=new Uint32Array(R.buffer,0,y);let g=0,S=0,m=this.h1,M=this.h2;const _=3432918353,b=461845907,n=_&G,r=b&G;for(let c=0;c<y;c++)1&c?(g=W[c],g=g*_&L|g*n&G,g=g<<15|g>>>17,g=g*b&L|g*r&G,m^=g,m=m<<13|m>>>19,m=5*m+3864292196):(S=W[c],S=S*_&L|S*n&G,S=S<<15|S>>>17,S=S*b&L|S*r&G,M^=S,M=M<<13|M>>>19,M=5*M+3864292196);switch(g=0,I){case 3:g^=R[4*y+2]<<16;case 2:g^=R[4*y+1]<<8;case 1:g^=R[4*y],g=g*_&L|g*n&G,g=g<<15|g>>>17,g=g*b&L|g*r&G,1&y?m^=g:M^=g}this.h1=m,this.h2=M}hexdigest(){let A=this.h1,R=this.h2;A^=R>>>1,A=3981806797*A&L|36045*A&G,R=4283543511*R&L|(2950163797*(R<<16|A>>>16)&L)>>>16,A^=R>>>1,A=444984403*A&L|60499*A&G,R=3301882366*R&L|(3120437893*(R<<16|A>>>16)&L)>>>16,A^=R>>>1;const V=(A>>>0).toString(16),y=(R>>>0).toString(16);return V.padStart(8,"0")+y.padStart(8,"0")}}},(H,o,v)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CanvasGraphics=void 0;var i=v(1),B=v(11),L=v(12),G=v(3),T=v(5);const R=4096,g=16;function M(F){if(F._transformStack&&(F._transformStack=[]),!F.mozCurrentTransform){F._originalSave=F.save,F._originalRestore=F.restore,F._originalRotate=F.rotate,F._originalScale=F.scale,F._originalTranslate=F.translate,F._originalTransform=F.transform,F._originalSetTransform=F.setTransform,F._originalResetTransform=F.resetTransform,F._transformMatrix=F._transformMatrix||[1,0,0,1,0,0],F._transformStack=[];try{const s=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(F),"lineWidth");F._setLineWidth=s.set,F._getLineWidth=s.get,Object.defineProperty(F,"lineWidth",{set:function(t){this._setLineWidth(1.000001*t)},get:function(){return this._getLineWidth()}})}catch(s){}Object.defineProperty(F,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(F,"mozCurrentTransformInverse",{get:function(){const[e,t,a,u,d,l]=this._transformMatrix,w=e*u-t*a,Q=t*a-e*u;return[u/w,t/Q,a/Q,e/w,(u*d-a*l)/Q,(t*d-e*l)/w]}}),F.save=function(){const e=this._transformMatrix;this._transformStack.push(e),this._transformMatrix=e.slice(0,6),this._originalSave()},F.restore=function(){0===this._transformStack.length&&(0,i.warn)("Tried to restore a ctx when the stack was already empty.");const e=this._transformStack.pop();e&&(this._transformMatrix=e,this._originalRestore())},F.translate=function(e,t){const a=this._transformMatrix;a[4]=a[0]*e+a[2]*t+a[4],a[5]=a[1]*e+a[3]*t+a[5],this._originalTranslate(e,t)},F.scale=function(e,t){const a=this._transformMatrix;a[0]*=e,a[1]*=e,a[2]*=t,a[3]*=t,this._originalScale(e,t)},F.transform=function(e,t,a,u,d,l){const w=this._transformMatrix;this._transformMatrix=[w[0]*e+w[2]*t,w[1]*e+w[3]*t,w[0]*a+w[2]*u,w[1]*a+w[3]*u,w[0]*d+w[2]*l+w[4],w[1]*d+w[3]*l+w[5]],F._originalTransform(e,t,a,u,d,l)},F.setTransform=function(e,t,a,u,d,l){this._transformMatrix=[e,t,a,u,d,l],F._originalSetTransform(e,t,a,u,d,l)},F.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],F._originalResetTransform()},F.rotate=function(e){const t=Math.cos(e),a=Math.sin(e),u=this._transformMatrix;this._transformMatrix=[u[0]*t+u[2]*a,u[1]*t+u[3]*a,u[0]*-a+u[2]*t,u[1]*-a+u[3]*t,u[4],u[5]],this._originalRotate(e)}}}class _{constructor(s){this.canvasFactory=s,this.cache=Object.create(null)}getCanvas(s,e,t,a){let u;return void 0!==this.cache[s]?(u=this.cache[s],this.canvasFactory.reset(u,e,t),u.context.setTransform(1,0,0,1,0,0)):(u=this.canvasFactory.create(e,t),this.cache[s]=u),a&&M(u.context),u}delete(s){delete this.cache[s]}clear(){for(const s in this.cache)this.canvasFactory.destroy(this.cache[s]),delete this.cache[s]}}function b(F,s,e,t,a,u,d,l,w,Q){const[U,$,X,Z,te,he]=F.mozCurrentTransform;if(0===$&&0===X){const ue=Math.round(d*U+te),Fe=Math.round(l*Z+he),oe=Math.abs(Math.round((d+w)*U+te)-ue)||1,_e=Math.abs(Math.round((l+Q)*Z+he)-Fe)||1;return F.setTransform(Math.sign(U),0,0,Math.sign(Z),ue,Fe),F.drawImage(s,e,t,a,u,0,0,oe,_e),F.setTransform(U,$,X,Z,te,he),[oe,_e]}if(0===U&&0===Z){const ue=Math.round(l*X+te),Fe=Math.round(d*$+he),oe=Math.abs(Math.round((l+Q)*X+te)-ue)||1,_e=Math.abs(Math.round((d+w)*$+he)-Fe)||1;return F.setTransform(0,Math.sign($),Math.sign(X),0,ue,Fe),F.drawImage(s,e,t,a,u,0,0,_e,oe),F.setTransform(U,$,X,Z,te,he),[_e,oe]}return F.drawImage(s,e,t,a,u,d,l,w,Q),[Math.hypot(U,$)*w,Math.hypot(X,Z)*Q]}class r{constructor(s,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=i.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=i.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,s,e])}clone(){const s=Object.create(this);return s.clipBox=this.clipBox.slice(),s}setCurrentPoint(s,e){this.x=s,this.y=e}updatePathMinMax(s,e,t){[e,t]=i.Util.applyTransform([e,t],s),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,t),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,t)}updateRectMinMax(s,e){const t=i.Util.applyTransform(e,s),a=i.Util.applyTransform(e.slice(2),s);this.minX=Math.min(this.minX,t[0],a[0]),this.minY=Math.min(this.minY,t[1],a[1]),this.maxX=Math.max(this.maxX,t[0],a[0]),this.maxY=Math.max(this.maxY,t[1],a[1])}updateScalingPathMinMax(s,e){i.Util.scaleMinMax(s,e),this.minX=Math.min(this.minX,e[0]),this.maxX=Math.max(this.maxX,e[1]),this.minY=Math.min(this.minY,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(s,e,t,a,u,d,l,w,Q,U){const $=i.Util.bezierBoundingBox(e,t,a,u,d,l,w,Q);if(U)return U[0]=Math.min(U[0],$[0],$[2]),U[1]=Math.max(U[1],$[0],$[2]),U[2]=Math.min(U[2],$[1],$[3]),void(U[3]=Math.max(U[3],$[1],$[3]));this.updateRectMinMax(s,$)}getPathBoundingBox(s=B.PathType.FILL,e=null){const t=[this.minX,this.minY,this.maxX,this.maxY];if(s===B.PathType.STROKE){e||(0,i.unreachable)("Stroke bounding box must include transform.");const a=i.Util.singularValueDecompose2dScale(e),u=a[0]*this.lineWidth/2,d=a[1]*this.lineWidth/2;t[0]-=u,t[1]-=d,t[2]+=u,t[3]+=d}return t}updateClipFromPath(){const s=i.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(s||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(s){this.clipBox=s,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(s=B.PathType.FILL,e=null){return i.Util.intersect(this.clipBox,this.getPathBoundingBox(s,e))}}function c(F,s,e=null){if(typeof ImageData<"u"&&s instanceof ImageData)return void F.putImageData(s,0,0);const t=s.height,a=s.width,u=t%g,d=(t-u)/g,l=0===u?d:d+1,w=F.createImageData(a,g);let U,Q=0;const $=s.data,X=w.data;let Z,te,he,ge,Ee,me,ue,Se;if(e)switch(e.length){case 1:Ee=e[0],me=e[0],ue=e[0],Se=e[0];break;case 4:Ee=e[0],me=e[1],ue=e[2],Se=e[3]}if(s.kind===i.ImageKind.GRAYSCALE_1BPP){const Fe=$.byteLength,Ae=new Uint32Array(X.buffer,0,X.byteLength>>2),oe=Ae.length,fe=a+7>>3;let _e=4294967295,ie=i.FeatureTest.isLittleEndian?4278190080:255;for(Se&&255===Se[0]&&0===Se[255]&&([_e,ie]=[ie,_e]),Z=0;Z<l;Z++){for(he=Z<d?g:u,U=0,te=0;te<he;te++){const k=Fe-Q;let Y=0;const ae=k>fe?a:8*k-7,de=-8&ae;let z=0,O=0;for(;Y<de;Y+=8)O=$[Q++],Ae[U++]=128&O?_e:ie,Ae[U++]=64&O?_e:ie,Ae[U++]=32&O?_e:ie,Ae[U++]=16&O?_e:ie,Ae[U++]=8&O?_e:ie,Ae[U++]=4&O?_e:ie,Ae[U++]=2&O?_e:ie,Ae[U++]=1&O?_e:ie;for(;Y<ae;Y++)0===z&&(O=$[Q++],z=128),Ae[U++]=O&z?_e:ie,z>>=1}for(;U<oe;)Ae[U++]=0;F.putImageData(w,0,Z*g)}}else if(s.kind===i.ImageKind.RGBA_32BPP){const Fe=!!(Ee||me||ue);for(te=0,ge=a*g*4,Z=0;Z<d;Z++){if(X.set($.subarray(Q,Q+ge)),Q+=ge,Fe)for(let Ae=0;Ae<ge;Ae+=4)Ee&&(X[Ae+0]=Ee[X[Ae+0]]),me&&(X[Ae+1]=me[X[Ae+1]]),ue&&(X[Ae+2]=ue[X[Ae+2]]);F.putImageData(w,0,te),te+=g}if(Z<l){if(ge=a*u*4,X.set($.subarray(Q,Q+ge)),Fe)for(let Ae=0;Ae<ge;Ae+=4)Ee&&(X[Ae+0]=Ee[X[Ae+0]]),me&&(X[Ae+1]=me[X[Ae+1]]),ue&&(X[Ae+2]=ue[X[Ae+2]]);F.putImageData(w,0,te)}}else{if(s.kind!==i.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${s.kind}`);{const Fe=!!(Ee||me||ue);for(he=g,ge=a*he,Z=0;Z<l;Z++){for(Z>=d&&(he=u,ge=a*he),U=0,te=ge;te--;)X[U++]=$[Q++],X[U++]=$[Q++],X[U++]=$[Q++],X[U++]=255;if(Fe)for(let Ae=0;Ae<U;Ae+=4)Ee&&(X[Ae+0]=Ee[X[Ae+0]]),me&&(X[Ae+1]=me[X[Ae+1]]),ue&&(X[Ae+2]=ue[X[Ae+2]]);F.putImageData(w,0,Z*g)}}}}function E(F,s){if(s.bitmap)return void F.drawImage(s.bitmap,0,0);const e=s.height,t=s.width,a=e%g,u=(e-a)/g,d=0===a?u:u+1,l=F.createImageData(t,g);let w=0;const Q=s.data,U=l.data;for(let $=0;$<d;$++){const X=$<u?g:a;({srcPos:w}=(0,L.applyMaskImageData)({src:Q,srcPos:w,dest:U,width:t,height:X})),F.putImageData(l,0,$*g)}}function p(F,s){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let t=0,a=e.length;t<a;t++){const u=e[t];void 0!==F[u]&&(s[u]=F[u])}void 0!==F.setLineDash&&(s.setLineDash(F.getLineDash()),s.lineDashOffset=F.lineDashOffset)}function C(F,s){F.strokeStyle=F.fillStyle=s||"#000000",F.fillRule="nonzero",F.globalAlpha=1,F.lineWidth=1,F.lineCap="butt",F.lineJoin="miter",F.miterLimit=10,F.globalCompositeOperation="source-over",F.font="10px sans-serif",void 0!==F.setLineDash&&(F.setLineDash([]),F.lineDashOffset=0)}function f(F,s,e,t){const a=F.length;for(let u=3;u<a;u+=4){const d=F[u];if(0===d)F[u-3]=s,F[u-2]=e,F[u-1]=t;else if(d<255){const l=255-d;F[u-3]=F[u-3]*d+s*l>>8,F[u-2]=F[u-2]*d+e*l>>8,F[u-1]=F[u-1]*d+t*l>>8}}}function h(F,s,e){const t=F.length;for(let u=3;u<t;u+=4)s[u]=s[u]*(e?e[F[u]]:F[u])*.00392156862745098|0}function D(F,s,e){const t=F.length;for(let a=3;a<t;a+=4){const u=77*F[a-3]+152*F[a-2]+28*F[a-1];s[a]=e?s[a]*e[u>>8]>>8:s[a]*u>>16}}function q(F,s){const e=i.Util.singularValueDecompose2dScale(F);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const t=Math.fround((globalThis.devicePixelRatio||1)*T.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==s?s:e[0]<=t||e[1]<=t}const K=["butt","round","square"],ee=["miter","round","bevel"],ne={},le={};class J{constructor(s,e,t,a,u,d,l,w){this.ctx=s,this.current=new r(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=t,this.canvasFactory=a,this.imageLayer=u,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=d,this.cachedCanvases=new _(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(null==w?void 0:w.background)||null,this.foregroundColor=(null==w?void 0:w.foreground)||null,s&&M(s),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(s,e=null){return"string"==typeof s?s.startsWith("g_")?this.commonObjs.get(s):this.objs.get(s):e}beginDrawing({transform:s,viewport:e,transparency:t=!1,background:a=null}){const u=this.ctx.canvas.width,d=this.ctx.canvas.height,l=a||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const w=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const Q=this.backgroundColor=this.ctx.fillStyle;let U=!0,$=l;if(this.ctx.fillStyle=l,$=this.ctx.fillStyle,U="string"==typeof $&&/^#[0-9A-Fa-f]{6}$/.test($),"#000000"===w&&"#ffffff"===Q||w===Q||!U)this.foregroundColor=this.backgroundColor=null;else{const X=parseInt($.slice(1),16),te=(X&&65280)>>8,he=X&&255,ge=me=>(me/=255)<=.03928?me/12.92:((me+.055)/1.055)**2.4,Ee=Math.round(.2126*ge((X&&16711680)>>16)+.7152*ge(te)+.0722*ge(he));this.selectColor=(me,ue,Se)=>{const Fe=.2126*ge(me)+.7152*ge(ue)+.0722*ge(Se);return Math.round(Fe)===Ee?Q:w}}}if(this.ctx.fillStyle=this.backgroundColor||l,this.ctx.fillRect(0,0,u,d),this.ctx.restore(),t){const w=this.cachedCanvases.getCanvas("transparent",u,d,!0);this.compositeCtx=this.ctx,this.transparentCanvas=w.canvas,this.ctx=w.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),C(this.ctx,this.foregroundColor),s&&(this.ctx.transform.apply(this.ctx,s),this.outputScaleX=s[0],this.outputScaleY=s[0]),this.ctx.transform.apply(this.ctx,e.transform),this.viewportScale=e.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(s,e,t,a){const u=s.argsArray,d=s.fnArray;let l=e||0;const w=u.length;if(w===l)return l;const Q=w-l>10&&"function"==typeof t,U=Q?Date.now()+15:0;let $=0;const X=this.commonObjs,Z=this.objs;let te;for(;;){if(void 0!==a&&l===a.nextBreakPoint)return a.breakIt(l,t),l;if(te=d[l],te!==i.OPS.dependency)this[te].apply(this,u[l]);else for(const he of u[l]){const ge=he.startsWith("g_")?X:Z;if(!ge.has(he))return ge.get(he,t),l}if(l++,l===w)return l;if(Q&&++$>10){if(Date.now()>U)return t(),l;$=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const s of this._cachedBitmapsMap.values()){for(const e of s.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);s.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(s,e){const t=s.width,a=s.height;let U,$,u=Math.max(Math.hypot(e[0],e[1]),1),d=Math.max(Math.hypot(e[2],e[3]),1),l=t,w=a,Q="prescale1";for(;u>2&&l>1||d>2&&w>1;){let X=l,Z=w;u>2&&l>1&&(X=Math.ceil(l/2),u/=l/X),d>2&&w>1&&(Z=Math.ceil(w/2),d/=w/Z),U=this.cachedCanvases.getCanvas(Q,X,Z,!1),$=U.context,$.clearRect(0,0,X,Z),$.drawImage(s,0,0,l,w,0,0,X,Z),s=U.canvas,l=X,w=Z,Q="prescale1"===Q?"prescale2":"prescale1"}return{img:s,paintWidth:l,paintHeight:w}}_createMaskCanvas(s){const e=this.ctx,{width:t,height:a}=s,u=this.current.fillColor,d=this.current.patternFill,l=e.mozCurrentTransform;let w,Q,U,$;if((s.bitmap||s.data)&&s.count>1){const oe=s.bitmap||s.data.buffer,fe=l.slice(0,4);Q=JSON.stringify(d?fe:[fe,u]),w=this._cachedBitmapsMap.get(oe),w||(w=new Map,this._cachedBitmapsMap.set(oe,w));const _e=w.get(Q);if(_e&&!d)return{canvas:_e,offsetX:Math.round(Math.min(l[0],l[2])+l[4]),offsetY:Math.round(Math.min(l[1],l[3])+l[5])};U=_e}U||($=this.cachedCanvases.getCanvas("maskCanvas",t,a,!1),E($.context,s));let X=i.Util.transform(l,[1/t,0,0,-1/a,0,0]);X=i.Util.transform(X,[1,0,0,1,0,-a]);const Z=i.Util.applyTransform([0,0],X),te=i.Util.applyTransform([t,a],X),he=i.Util.normalizeRect([Z[0],Z[1],te[0],te[1]]),ge=Math.round(he[2]-he[0])||1,Ee=Math.round(he[3]-he[1])||1,me=this.cachedCanvases.getCanvas("fillCanvas",ge,Ee,!0),ue=me.context,Se=Math.min(Z[0],te[0]),Fe=Math.min(Z[1],te[1]);ue.translate(-Se,-Fe),ue.transform.apply(ue,X),U||(U=this._scaleImage($.canvas,ue.mozCurrentTransformInverse),U=U.img,w&&d&&w.set(Q,U)),ue.imageSmoothingEnabled=q(ue.mozCurrentTransform,s.interpolate),b(ue,U,0,0,U.width,U.height,0,0,t,a),ue.globalCompositeOperation="source-in";const Ae=i.Util.transform(ue.mozCurrentTransformInverse,[1,0,0,1,-Se,-Fe]);return ue.fillStyle=d?u.getPattern(e,this,Ae,B.PathType.FILL):u,ue.fillRect(0,0,t,a),w&&!d&&(this.cachedCanvases.delete("fillCanvas"),w.set(Q,me.canvas)),{canvas:me.canvas,offsetX:Math.round(Se),offsetY:Math.round(Fe)}}setLineWidth(s){s!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=s,this.ctx.lineWidth=s}setLineCap(s){this.ctx.lineCap=K[s]}setLineJoin(s){this.ctx.lineJoin=ee[s]}setMiterLimit(s){this.ctx.miterLimit=s}setDash(s,e){const t=this.ctx;void 0!==t.setLineDash&&(t.setLineDash(s),t.lineDashOffset=e)}setRenderingIntent(s){}setFlatness(s){}setGState(s){for(let e=0,t=s.length;e<t;e++){const a=s[e],d=a[1];switch(a[0]){case"LW":this.setLineWidth(d);break;case"LC":this.setLineCap(d);break;case"LJ":this.setLineJoin(d);break;case"ML":this.setMiterLimit(d);break;case"D":this.setDash(d[0],d[1]);break;case"RI":this.setRenderingIntent(d);break;case"FL":this.setFlatness(d);break;case"Font":this.setFont(d[0],d[1]);break;case"CA":this.current.strokeAlpha=a[1];break;case"ca":this.current.fillAlpha=a[1],this.ctx.globalAlpha=a[1];break;case"BM":this.ctx.globalCompositeOperation=d;break;case"SMask":this.current.activeSMask=d?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=d}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const s=this.inSMaskMode;this.current.activeSMask&&!s?this.beginSMaskMode():!this.current.activeSMask&&s&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const a=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=a.context;const u=this.ctx;u.setTransform.apply(u,this.suspendedCtx.mozCurrentTransform),p(this.suspendedCtx,u),function m(F,s){if(F._removeMirroring)throw new Error("Context is already forwarding operations.");F.__originalSave=F.save,F.__originalRestore=F.restore,F.__originalRotate=F.rotate,F.__originalScale=F.scale,F.__originalTranslate=F.translate,F.__originalTransform=F.transform,F.__originalSetTransform=F.setTransform,F.__originalResetTransform=F.resetTransform,F.__originalClip=F.clip,F.__originalMoveTo=F.moveTo,F.__originalLineTo=F.lineTo,F.__originalBezierCurveTo=F.bezierCurveTo,F.__originalRect=F.rect,F.__originalClosePath=F.closePath,F.__originalBeginPath=F.beginPath,F._removeMirroring=()=>{F.save=F.__originalSave,F.restore=F.__originalRestore,F.rotate=F.__originalRotate,F.scale=F.__originalScale,F.translate=F.__originalTranslate,F.transform=F.__originalTransform,F.setTransform=F.__originalSetTransform,F.resetTransform=F.__originalResetTransform,F.clip=F.__originalClip,F.moveTo=F.__originalMoveTo,F.lineTo=F.__originalLineTo,F.bezierCurveTo=F.__originalBezierCurveTo,F.rect=F.__originalRect,F.closePath=F.__originalClosePath,F.beginPath=F.__originalBeginPath,delete F._removeMirroring},F.save=function(){s.save(),this.__originalSave()},F.restore=function(){s.restore(),this.__originalRestore()},F.translate=function(t,a){s.translate(t,a),this.__originalTranslate(t,a)},F.scale=function(t,a){s.scale(t,a),this.__originalScale(t,a)},F.transform=function(t,a,u,d,l,w){s.transform(t,a,u,d,l,w),this.__originalTransform(t,a,u,d,l,w)},F.setTransform=function(t,a,u,d,l,w){s.setTransform(t,a,u,d,l,w),this.__originalSetTransform(t,a,u,d,l,w)},F.resetTransform=function(){s.resetTransform(),this.__originalResetTransform()},F.rotate=function(t){s.rotate(t),this.__originalRotate(t)},F.clip=function(t){s.clip(t),this.__originalClip(t)},F.moveTo=function(e,t){s.moveTo(e,t),this.__originalMoveTo(e,t)},F.lineTo=function(e,t){s.lineTo(e,t),this.__originalLineTo(e,t)},F.bezierCurveTo=function(e,t,a,u,d,l){s.bezierCurveTo(e,t,a,u,d,l),this.__originalBezierCurveTo(e,t,a,u,d,l)},F.rect=function(e,t,a,u){s.rect(e,t,a,u),this.__originalRect(e,t,a,u)},F.closePath=function(){s.closePath(),this.__originalClosePath()},F.beginPath=function(){s.beginPath(),this.__originalBeginPath()}}(u,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),p(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(s){this.current.activeSMask&&(s?(s[0]=Math.floor(s[0]),s[1]=Math.floor(s[1]),s[2]=Math.ceil(s[2]),s[3]=Math.ceil(s[3])):s=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function N(F,s,e,t){const a=t[0],u=t[1],d=t[2]-a,l=t[3]-u;0===d||0===l||(function P(F,s,e,t,a,u,d,l,w,Q,U){const $=!!u,X=$?u[0]:0,Z=$?u[1]:0,te=$?u[2]:0;let he;he="Luminosity"===a?D:h;const Ee=Math.min(t,Math.ceil(1048576/e));for(let me=0;me<t;me+=Ee){const ue=Math.min(Ee,t-me),Se=F.getImageData(l-Q,me+(w-U),e,ue),Fe=s.getImageData(l,me+w,e,ue);$&&f(Se.data,X,Z,te),he(Se.data,Fe.data,d),s.putImageData(Fe,l,me+w)}}(s.context,e,d,l,s.subtype,s.backdrop,s.transferMap,a,u,s.offsetX,s.offsetY),F.save(),F.globalAlpha=1,F.globalCompositeOperation="source-over",F.setTransform(1,0,0,1,0,0),F.drawImage(e.canvas,0,0),F.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,s),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(p(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const s=this.current;this.stateStack.push(s),this.current=s.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),p(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(s,e,t,a,u,d){this.ctx.transform(s,e,t,a,u,d),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(s,e,t){const a=this.ctx,u=this.current;let w,Q,d=u.x,l=u.y;const U=a.mozCurrentTransform,$=0===U[0]&&0===U[3]||0===U[1]&&0===U[2],X=$?t.slice(0):null;for(let Z=0,te=0,he=s.length;Z<he;Z++)switch(0|s[Z]){case i.OPS.rectangle:d=e[te++],l=e[te++];const ge=e[te++],Ee=e[te++],me=d+ge,ue=l+Ee;a.moveTo(d,l),0===ge||0===Ee?a.lineTo(me,ue):(a.lineTo(me,l),a.lineTo(me,ue),a.lineTo(d,ue)),$||u.updateRectMinMax(U,[d,l,me,ue]),a.closePath();break;case i.OPS.moveTo:d=e[te++],l=e[te++],a.moveTo(d,l),$||u.updatePathMinMax(U,d,l);break;case i.OPS.lineTo:d=e[te++],l=e[te++],a.lineTo(d,l),$||u.updatePathMinMax(U,d,l);break;case i.OPS.curveTo:w=d,Q=l,d=e[te+4],l=e[te+5],a.bezierCurveTo(e[te],e[te+1],e[te+2],e[te+3],d,l),u.updateCurvePathMinMax(U,w,Q,e[te],e[te+1],e[te+2],e[te+3],d,l,X),te+=6;break;case i.OPS.curveTo2:w=d,Q=l,a.bezierCurveTo(d,l,e[te],e[te+1],e[te+2],e[te+3]),u.updateCurvePathMinMax(U,w,Q,d,l,e[te],e[te+1],e[te+2],e[te+3],X),d=e[te+2],l=e[te+3],te+=4;break;case i.OPS.curveTo3:w=d,Q=l,d=e[te+2],l=e[te+3],a.bezierCurveTo(e[te],e[te+1],d,l,d,l),u.updateCurvePathMinMax(U,w,Q,e[te],e[te+1],d,l,d,l,X),te+=4;break;case i.OPS.closePath:a.closePath()}$&&u.updateScalingPathMinMax(U,X),u.setCurrentPoint(d,l)}closePath(){this.ctx.closePath()}stroke(s){s=!(typeof s<"u")||s;const e=this.ctx,t=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof t&&null!=t&&t.getPattern?(e.save(),e.strokeStyle=t.getPattern(e,this,e.mozCurrentTransformInverse,B.PathType.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),s&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(s){s=!(typeof s<"u")||s;const e=this.ctx,t=this.current.fillColor;let u=!1;this.current.patternFill&&(e.save(),e.fillStyle=t.getPattern(e,this,e.mozCurrentTransformInverse,B.PathType.FILL),u=!0);const d=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==d&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),u&&e.restore(),s&&this.consumePath(d)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=ne}eoClip(){this.pendingClip=le}beginText(){this.current.textMatrix=i.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const s=this.pendingTextPaths,e=this.ctx;if(void 0!==s){e.save(),e.beginPath();for(let t=0;t<s.length;t++){const a=s[t];e.setTransform.apply(e,a.transform),e.translate(a.x,a.y),a.addToPath(e,a.fontSize)}e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}else e.beginPath()}setCharSpacing(s){this.current.charSpacing=s}setWordSpacing(s){this.current.wordSpacing=s}setHScale(s){this.current.textHScale=s/100}setLeading(s){this.current.leading=-s}setFont(s,e){const t=this.commonObjs.get(s),a=this.current;if(!t)throw new Error(`Can't find font for ${s}`);if(a.fontMatrix=t.fontMatrix||i.FONT_IDENTITY_MATRIX,(0===a.fontMatrix[0]||0===a.fontMatrix[3])&&(0,i.warn)("Invalid font matrix for font "+s),e<0?(e=-e,a.fontDirection=-1):a.fontDirection=1,this.current.font=t,this.current.fontSize=e,t.isType3Font)return;let d="normal";t.black?d="900":t.bold&&(d="bold");const l=t.italic?"italic":"normal",w=`"${t.loadedName||"sans-serif"}", ${t.fallbackName}`;let Q=e;e<16?Q=16:e>100&&(Q=100),this.current.fontSizeScale=e/Q,this.ctx.font=`${l} ${d} ${Q}px ${w}`}setTextRenderingMode(s){this.current.textRenderingMode=s}setTextRise(s){this.current.textRise=s}moveText(s,e){this.current.x=this.current.lineX+=s,this.current.y=this.current.lineY+=e}setLeadingMoveText(s,e){this.setLeading(-e),this.moveText(s,e)}setTextMatrix(s,e,t,a,u,d){this.current.textMatrix=[s,e,t,a,u,d],this.current.textMatrixScale=Math.hypot(s,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(s,e,t,a){const u=this.ctx,d=this.current,l=d.font,w=d.textRenderingMode,Q=d.fontSize/d.fontSizeScale,U=w&i.TextRenderingMode.FILL_STROKE_MASK,$=!!(w&i.TextRenderingMode.ADD_TO_PATH_FLAG),X=d.patternFill&&!l.missingFile;let Z;(l.disableFontFace||$||X)&&(Z=l.getPathGenerator(this.commonObjs,s)),l.disableFontFace||X?(u.save(),u.translate(e,t),u.beginPath(),Z(u,Q),a&&u.setTransform.apply(u,a),(U===i.TextRenderingMode.FILL||U===i.TextRenderingMode.FILL_STROKE)&&u.fill(),(U===i.TextRenderingMode.STROKE||U===i.TextRenderingMode.FILL_STROKE)&&u.stroke(),u.restore()):((U===i.TextRenderingMode.FILL||U===i.TextRenderingMode.FILL_STROKE)&&u.fillText(s,e,t),(U===i.TextRenderingMode.STROKE||U===i.TextRenderingMode.FILL_STROKE)&&u.strokeText(s,e,t)),$&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:u.mozCurrentTransform,x:e,y:t,fontSize:Q,addToPath:Z})}get isFontSubpixelAAEnabled(){const{context:s}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1);s.scale(1.5,1),s.fillText("I",0,10);const e=s.getImageData(0,0,10,10).data;let t=!1;for(let a=3;a<e.length;a+=4)if(e[a]>0&&e[a]<255){t=!0;break}return(0,i.shadow)(this,"isFontSubpixelAAEnabled",t)}showText(s){const e=this.current,t=e.font;if(t.isType3Font)return this.showType3Text(s);const a=e.fontSize;if(0===a)return;const u=this.ctx,d=e.fontSizeScale,l=e.charSpacing,w=e.wordSpacing,Q=e.fontDirection,U=e.textHScale*Q,$=s.length,X=t.vertical,Z=X?1:-1,te=t.defaultVMetrics,he=a*e.fontMatrix[0],ge=e.textRenderingMode===i.TextRenderingMode.FILL&&!t.disableFontFace&&!e.patternFill;let Ee;if(u.save(),u.transform.apply(u,e.textMatrix),u.translate(e.x,e.y+e.textRise),u.scale(U,Q>0?-1:1),e.patternFill){u.save();const Ae=e.fillColor.getPattern(u,this,u.mozCurrentTransformInverse,B.PathType.FILL);Ee=u.mozCurrentTransform,u.restore(),u.fillStyle=Ae}let me=e.lineWidth;const ue=e.textMatrixScale;if(0===ue||0===me){const Ae=e.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;(Ae===i.TextRenderingMode.STROKE||Ae===i.TextRenderingMode.FILL_STROKE)&&(me=this.getSinglePixelWidth())}else me/=ue;1!==d&&(u.scale(d,d),me/=d),u.lineWidth=me;let Fe,Se=0;for(Fe=0;Fe<$;++Fe){const Ae=s[Fe];if("number"==typeof Ae){Se+=Z*Ae*a/1e3;continue}let oe=!1;const fe=(Ae.isSpace?w:0)+l,_e=Ae.fontChar,ie=Ae.accent;let k,Y,de,ae=Ae.width;if(X){const z=Ae.vmetric||te,O=-(Ae.vmetric?z[1]:.5*ae)*he;ae=z?-z[0]:ae,k=O/d,Y=(Se+z[2]*he)/d}else k=Se/d,Y=0;if(t.remeasure&&ae>0){const z=1e3*u.measureText(_e).width/a*d;if(ae<z&&this.isFontSubpixelAAEnabled){const O=ae/z;oe=!0,u.save(),u.scale(O,1),k/=O}else ae!==z&&(k+=(ae-z)/2e3*a/d)}this.contentVisible&&(Ae.isInFont||t.missingFile)&&(ge&&!ie?u.fillText(_e,k,Y):(this.paintChar(_e,k,Y,Ee),ie&&this.paintChar(ie.fontChar,k+a*ie.offset.x/d,Y-a*ie.offset.y/d,Ee))),de=X?ae*he-fe*Q:ae*he+fe*Q,Se+=de,oe&&u.restore()}X?e.y-=Se:e.x+=Se*U,u.restore(),this.compose()}showType3Text(s){const e=this.ctx,t=this.current,a=t.font,u=t.fontSize,d=t.fontDirection,l=a.vertical?1:-1,w=t.charSpacing,Q=t.wordSpacing,U=t.textHScale*d,$=t.fontMatrix||i.FONT_IDENTITY_MATRIX,X=s.length;let te,he,ge,Ee;if(t.textRenderingMode!==i.TextRenderingMode.INVISIBLE&&0!==u){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,e.save(),e.transform.apply(e,t.textMatrix),e.translate(t.x,t.y),e.scale(U,d),te=0;te<X;++te){if(he=s[te],"number"==typeof he){Ee=l*he*u/1e3,this.ctx.translate(Ee,0),t.x+=Ee*U;continue}const me=(he.isSpace?Q:0)+w,ue=a.charProcOperatorList[he.operatorListId];ue?(this.contentVisible&&(this.processingType3=he,this.save(),e.scale(u,u),e.transform.apply(e,$),this.executeOperatorList(ue),this.restore()),ge=i.Util.applyTransform([he.width,0],$)[0]*u+me,e.translate(ge,0),t.x+=ge*U):(0,i.warn)(`Type3 character "${he.operatorListId}" is not available.`)}e.restore(),this.processingType3=null}}setCharWidth(s,e){}setCharWidthAndBounds(s,e,t,a,u,d){this.ctx.rect(t,a,u-t,d-a),this.ctx.clip(),this.endPath()}getColorN_Pattern(s){let e;if("TilingPattern"===s[0]){const t=s[1],a=this.baseTransform||this.ctx.mozCurrentTransform.slice();e=new B.TilingPattern(s,t,this.ctx,{createCanvasGraphics:d=>new J(d,this.commonObjs,this.objs,this.canvasFactory)},a)}else e=this._getPattern(s[1],s[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(s,e,t){var a;const u=(null===(a=this.selectColor)||void 0===a?void 0:a.call(this,s,e,t))||i.Util.makeHexColor(s,e,t);this.ctx.strokeStyle=u,this.current.strokeColor=u}setFillRGBColor(s,e,t){var a;const u=(null===(a=this.selectColor)||void 0===a?void 0:a.call(this,s,e,t))||i.Util.makeHexColor(s,e,t);this.ctx.fillStyle=u,this.current.fillColor=u,this.current.patternFill=!1}_getPattern(s,e=null){let t;return this.cachedPatterns.has(s)?t=this.cachedPatterns.get(s):(t=(0,B.getShadingPattern)(this.objs.get(s)),this.cachedPatterns.set(s,t)),e&&(t.matrix=e),t}shadingFill(s){if(!this.contentVisible)return;const e=this.ctx;this.save();const t=this._getPattern(s);e.fillStyle=t.getPattern(e,this,e.mozCurrentTransformInverse,B.PathType.SHADING);const a=e.mozCurrentTransformInverse;if(a){const u=e.canvas,d=u.width,l=u.height,w=i.Util.applyTransform([0,0],a),Q=i.Util.applyTransform([0,l],a),U=i.Util.applyTransform([d,0],a),$=i.Util.applyTransform([d,l],a),X=Math.min(w[0],Q[0],U[0],$[0]),Z=Math.min(w[1],Q[1],U[1],$[1]),te=Math.max(w[0],Q[0],U[0],$[0]),he=Math.max(w[1],Q[1],U[1],$[1]);this.ctx.fillRect(X,Z,te-X,he-Z)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,i.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,i.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(s,e){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(s)&&6===s.length&&this.transform.apply(this,s),this.baseTransform=this.ctx.mozCurrentTransform,e)&&(this.ctx.rect(e[0],e[1],e[2]-e[0],e[3]-e[1]),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,e),this.clip(),this.endPath())}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(s){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;s.isolated||(0,i.info)("TODO: Support non-isolated groups."),s.knockout&&(0,i.warn)("Knockout groups not supported.");const t=e.mozCurrentTransform;if(s.matrix&&e.transform.apply(e,s.matrix),!s.bbox)throw new Error("Bounding box is required.");let a=i.Util.getAxialAlignedBoundingBox(s.bbox,e.mozCurrentTransform);a=i.Util.intersect(a,[0,0,e.canvas.width,e.canvas.height])||[0,0,0,0];const d=Math.floor(a[0]),l=Math.floor(a[1]);let w=Math.max(Math.ceil(a[2])-d,1),Q=Math.max(Math.ceil(a[3])-l,1),U=1,$=1;w>R&&(U=w/R,w=R),Q>R&&($=Q/R,Q=R),this.current.startNewPathAndClipBox([0,0,w,Q]);let X="groupAt"+this.groupLevel;s.smask&&(X+="_smask_"+this.smaskCounter++%2);const Z=this.cachedCanvases.getCanvas(X,w,Q,!0),te=Z.context;te.scale(1/U,1/$),te.translate(-d,-l),te.transform.apply(te,t),s.smask?this.smaskStack.push({canvas:Z.canvas,context:te,offsetX:d,offsetY:l,scaleX:U,scaleY:$,subtype:s.smask.subtype,backdrop:s.smask.backdrop,transferMap:s.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(d,l),e.scale(U,$),e.save()),p(e,te),this.ctx=te,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(s){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,t=this.groupStack.pop();if(this.ctx=t,this.ctx.imageSmoothingEnabled=!1,s.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const a=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,a);const u=i.Util.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],a);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(u)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(s,e,t,a,u){if(this.save(),Array.isArray(e)&&4===e.length){const d=e[2]-e[0],l=e[3]-e[1];if(u&&this.annotationCanvasMap){(t=t.slice())[4]-=e[0],t[5]-=e[1],(e=e.slice())[0]=e[1]=0,e[2]=d,e[3]=l;const[w,Q]=i.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:U}=this,$=Math.ceil(d*this.outputScaleX*U),X=Math.ceil(l*this.outputScaleY*U);this.annotationCanvas=this.canvasFactory.create($,X);const{canvas:Z,context:te}=this.annotationCanvas,he=`var(--zoom-factor) * ${T.PixelsPerInch.PDF_TO_CSS_UNITS}`;Z.style.width=`calc(${d}px * ${he})`,Z.style.height=`calc(${l}px * ${he})`,this.annotationCanvasMap.set(s,Z),this.annotationCanvas.savedCtx=this.ctx,this.ctx=te,this.ctx.setTransform(w,0,0,-Q,0,l*Q),M(this.ctx),C(this.ctx,this.foregroundColor)}else C(this.ctx,this.foregroundColor),this.ctx.rect(e[0],e[1],d,l),this.ctx.clip(),this.endPath()}this.current=new r(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,t),this.transform.apply(this,a)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(s){if(!this.contentVisible)return;const e=s.count;(s=this.getObject(s.data,s)).count=e;const t=this.ctx,a=this.processingType3;if(a&&(void 0===a.compiled&&(a.compiled=function n(F){const{width:s,height:e}=F;if(s>1e3||e>1e3)return null;const a=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),u=s+1;let l,w,Q,d=new Uint8Array(u*(e+1));const U=s+7&-8;let $=new Uint8Array(U*e),X=0;for(const ue of F.data){let Se=128;for(;Se>0;)$[X++]=ue&Se?0:255,Se>>=1}let Z=0;for(X=0,0!==$[X]&&(d[0]=1,++Z),w=1;w<s;w++)$[X]!==$[X+1]&&(d[w]=$[X]?2:1,++Z),X++;for(0!==$[X]&&(d[w]=2,++Z),l=1;l<e;l++){X=l*U,Q=l*u,$[X-U]!==$[X]&&(d[Q]=$[X]?1:8,++Z);let ue=($[X]?4:0)+($[X-U]?8:0);for(w=1;w<s;w++)ue=(ue>>2)+($[X+1]?4:0)+($[X-U+1]?8:0),a[ue]&&(d[Q+w]=a[ue],++Z),X++;if($[X-U]!==$[X]&&(d[Q+w]=$[X]?2:4,++Z),Z>1e3)return null}for(X=U*(e-1),Q=l*u,0!==$[X]&&(d[Q]=8,++Z),w=1;w<s;w++)$[X]!==$[X+1]&&(d[Q+w]=$[X]?4:8,++Z),X++;if(0!==$[X]&&(d[Q+w]=4,++Z),Z>1e3)return null;const te=new Int32Array([0,u,-1,0,-u,0,0,0,1]);let he,ge,Ee;for(G.isNodeJS?ge=[]:he=new Path2D,l=0;Z&&l<=e;l++){let ue=l*u;const Se=ue+s;for(;ue<Se&&!d[ue];)ue++;if(ue===Se)continue;he?he.moveTo(ue%u,l):Ee=[ue%u,l];const Fe=ue;let Ae=d[ue];do{const oe=te[Ae];do{ue+=oe}while(!d[ue]);const fe=d[ue];5!==fe&&10!==fe?(Ae=fe,d[ue]=0):(Ae=fe&51*Ae>>4,d[ue]&=Ae>>2|Ae<<2),he?he.lineTo(ue%u,ue/u|0):Ee.push(ue%u,ue/u|0),d[ue]||--Z}while(Fe!==ue);he||ge.push(Ee),--l}return $=null,d=null,function(ue){if(ue.save(),ue.scale(1/s,-1/e),ue.translate(0,-e),he)ue.fill(he);else{ue.beginPath();for(const Se of ge){ue.moveTo(Se[0],Se[1]);for(let Fe=2,Ae=Se.length;Fe<Ae;Fe+=2)ue.lineTo(Se[Fe],Se[Fe+1])}ue.fill()}ue.beginPath(),ue.restore()}}(s)),a.compiled))return void a.compiled(t);const u=this._createMaskCanvas(s),d=u.canvas;t.save(),t.setTransform(1,0,0,1,0,0),t.drawImage(d,u.offsetX,u.offsetY),t.restore(),this.compose()}paintImageMaskXObjectRepeat(s,e,t=0,a=0,u,d){if(!this.contentVisible)return;s=this.getObject(s.data,s);const l=this.ctx;l.save();const w=l.mozCurrentTransform;l.transform(e,t,a,u,0,0);const Q=this._createMaskCanvas(s);l.setTransform(1,0,0,1,0,0);for(let U=0,$=d.length;U<$;U+=2){const X=i.Util.transform(w,[e,t,a,u,d[U],d[U+1]]),[Z,te]=i.Util.applyTransform([0,0],X);l.drawImage(Q.canvas,Z,te)}l.restore(),this.compose()}paintImageMaskXObjectGroup(s){if(!this.contentVisible)return;const e=this.ctx,t=this.current.fillColor,a=this.current.patternFill;for(let u=0,d=s.length;u<d;u++){const l=s[u],w=l.width,Q=l.height,U=this.cachedCanvases.getCanvas("maskCanvas",w,Q,!1),$=U.context;$.save(),E($,l),$.globalCompositeOperation="source-in",$.fillStyle=a?t.getPattern($,this,e.mozCurrentTransformInverse,B.PathType.FILL):t,$.fillRect(0,0,w,Q),$.restore(),e.save(),e.transform.apply(e,l.transform),e.scale(1,-1),b(e,U.canvas,0,0,w,Q,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(s){if(!this.contentVisible)return;const e=this.getObject(s);e?this.paintInlineImageXObject(e):(0,i.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(s,e,t,a){if(!this.contentVisible)return;const u=this.getObject(s);if(!u)return void(0,i.warn)("Dependent image isn't ready yet");const d=u.width,l=u.height,w=[];for(let Q=0,U=a.length;Q<U;Q+=2)w.push({transform:[e,0,0,t,a[Q],a[Q+1]],x:0,y:0,w:d,h:l});this.paintInlineImageXObjectGroup(u,w)}paintInlineImageXObject(s){if(!this.contentVisible)return;const e=s.width,t=s.height,a=this.ctx;let u;if(this.save(),a.scale(1/e,-1/t),"function"==typeof HTMLElement&&s instanceof HTMLElement||!s.data)u=s;else{const Q=this.cachedCanvases.getCanvas("inlineImage",e,t,!1);c(Q.context,s,this.current.transferMaps),u=Q.canvas}const d=this._scaleImage(u,a.mozCurrentTransformInverse);a.imageSmoothingEnabled=q(a.mozCurrentTransform,s.interpolate);const[l,w]=b(a,d.img,0,0,d.paintWidth,d.paintHeight,0,-t,e,t);if(this.imageLayer){const Q=this.getCanvasPosition(0,-t);this.imageLayer.appendImage({imgData:s,left:Q[0],top:Q[1],width:l,height:w})}this.compose(),this.restore()}paintInlineImageXObjectGroup(s,e){if(!this.contentVisible)return;const t=this.ctx,a=s.width,u=s.height,d=this.cachedCanvases.getCanvas("inlineImage",a,u,!1);c(d.context,s,this.current.transferMaps);for(let w=0,Q=e.length;w<Q;w++){const U=e[w];if(t.save(),t.transform.apply(t,U.transform),t.scale(1,-1),b(t,d.canvas,U.x,U.y,U.w,U.h,0,-1,1,1),this.imageLayer){const $=this.getCanvasPosition(U.x,U.y);this.imageLayer.appendImage({imgData:s,left:$[0],top:$[1],width:a,height:u})}t.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(s){}markPointProps(s,e){}beginMarkedContent(s){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(s,e){this.markedContentStack.push("OC"===s?{visible:this.optionalContentConfig.isVisible(e)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(s){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(s);const t=this.ctx;this.pendingClip&&(e||(this.pendingClip===le?t.clip("evenodd"):t.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),t.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const s=this.ctx.mozCurrentTransform;if(0===s[1]&&0===s[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(s[0]),Math.abs(s[3]));else{const e=Math.abs(s[0]*s[3]-s[2]*s[1]),t=Math.hypot(s[0],s[2]),a=Math.hypot(s[1],s[3]);this._cachedGetSinglePixelWidth=Math.max(t,a)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:s}=this.current,e=this.ctx.mozCurrentTransform;let t,a;if(0===e[1]&&0===e[2]){const u=Math.abs(e[0]),d=Math.abs(e[3]);if(0===s)t=1/u,a=1/d;else{const l=u*s,w=d*s;t=l<1?1/l:1,a=w<1?1/w:1}}else{const u=Math.abs(e[0]*e[3]-e[2]*e[1]),d=Math.hypot(e[0],e[1]),l=Math.hypot(e[2],e[3]);if(0===s)t=l/u,a=d/u;else{const w=s*u;t=l>w?l/w:1,a=d>w?d/w:1}}this._cachedScaleForStroking=[t,a]}return this._cachedScaleForStroking}rescaleAndStroke(s){const{ctx:e}=this,{lineWidth:t}=this.current,[a,u]=this.getScaleForStroking();if(e.lineWidth=t||1,1===a&&1===u)return void e.stroke();let d,l,w;s&&(d=e.mozCurrentTransform.slice(),l=e.getLineDash().slice(),w=e.lineDashOffset),e.scale(a,u);const Q=Math.max(a,u);e.setLineDash(e.getLineDash().map(U=>U/Q)),e.lineDashOffset/=Q,e.stroke(),s&&(e.setTransform(...d),e.setLineDash(l),e.lineDashOffset=w)}getCanvasPosition(s,e){const t=this.ctx.mozCurrentTransform;return[t[0]*s+t[2]*e+t[4],t[1]*s+t[3]*e+t[5]]}isContentVisible(){for(let s=this.markedContentStack.length-1;s>=0;s--)if(!this.markedContentStack[s].visible)return!1;return!0}}o.CanvasGraphics=J;for(const F in i.OPS)void 0!==J.prototype[F]&&(J.prototype[i.OPS[F]]=J.prototype[F])},(H,o,v)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TilingPattern=o.PathType=void 0,o.getShadingPattern=function I(S){switch(S[0]){case"RadialAxial":return new x(S);case"Mesh":return new V(S);case"Dummy":return new y}throw new Error(`Unknown IR type: ${S[0]}`)};var i=v(1),B=v(3);const L={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function G(S,m){if(!m||B.isNodeJS)return;const M=m[2]-m[0],_=m[3]-m[1],b=new Path2D;b.rect(m[0],m[1],M,_),S.clip(b)}o.PathType=L;class T{constructor(){this.constructor===T&&(0,i.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,i.unreachable)("Abstract method `getPattern` called.")}}class x extends T{constructor(m){super(),this._type=m[1],this._bbox=m[2],this._colorStops=m[3],this._p0=m[4],this._p1=m[5],this._r0=m[6],this._r1=m[7],this.matrix=null}_createGradient(m){let M;"axial"===this._type?M=m.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(M=m.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const _ of this._colorStops)M.addColorStop(_[0],_[1]);return M}getPattern(m,M,_,b){let n;if(b===L.STROKE||b===L.FILL){const r=M.current.getClippedPathBoundingBox(b,m.mozCurrentTransform)||[0,0,0,0],c=Math.ceil(r[2]-r[0])||1,E=Math.ceil(r[3]-r[1])||1,p=M.cachedCanvases.getCanvas("pattern",c,E,!0),C=p.context;C.clearRect(0,0,C.canvas.width,C.canvas.height),C.beginPath(),C.rect(0,0,C.canvas.width,C.canvas.height),C.translate(-r[0],-r[1]),_=i.Util.transform(_,[1,0,0,1,r[0],r[1]]),C.transform.apply(C,M.baseTransform),this.matrix&&C.transform.apply(C,this.matrix),G(C,this._bbox),C.fillStyle=this._createGradient(C),C.fill(),n=m.createPattern(p.canvas,"no-repeat");const f=new DOMMatrix(_);try{n.setTransform(f)}catch(h){(0,i.warn)(`RadialAxialShadingPattern.getPattern: "${null==h?void 0:h.message}".`)}}else G(m,this._bbox),n=this._createGradient(m);return n}}function A(S,m,M,_,b,n,r,c){const E=m.coords,p=m.colors,C=S.data,f=4*S.width;let h;E[M+1]>E[_+1]&&(h=M,M=_,_=h,h=n,n=r,r=h),E[_+1]>E[b+1]&&(h=_,_=b,b=h,h=r,r=c,c=h),E[M+1]>E[_+1]&&(h=M,M=_,_=h,h=n,n=r,r=h);const D=(E[M]+m.offsetX)*m.scaleX,P=(E[M+1]+m.offsetY)*m.scaleY,N=(E[_]+m.offsetX)*m.scaleX,q=(E[_+1]+m.offsetY)*m.scaleY,K=(E[b]+m.offsetX)*m.scaleX,ee=(E[b+1]+m.offsetY)*m.scaleY;if(P>=ee)return;const ne=p[n],le=p[n+1],J=p[n+2],F=p[r],s=p[r+1],e=p[r+2],t=p[c],a=p[c+1],u=p[c+2],d=Math.round(P),l=Math.round(ee);let w,Q,U,$,X,Z,te,he;for(let ge=d;ge<=l;ge++){if(ge<q){let Fe;Fe=ge<P?0:(P-ge)/(P-q),w=D-(D-N)*Fe,Q=ne-(ne-F)*Fe,U=le-(le-s)*Fe,$=J-(J-e)*Fe}else{let Fe;Fe=ge>ee?1:q===ee?0:(q-ge)/(q-ee),w=N-(N-K)*Fe,Q=F-(F-t)*Fe,U=s-(s-a)*Fe,$=e-(e-u)*Fe}let Ee;Ee=ge<P?0:ge>ee?1:(P-ge)/(P-ee),X=D-(D-K)*Ee,Z=ne-(ne-t)*Ee,te=le-(le-a)*Ee,he=J-(J-u)*Ee;const me=Math.round(Math.min(w,X)),ue=Math.round(Math.max(w,X));let Se=f*ge+4*me;for(let Fe=me;Fe<=ue;Fe++)Ee=(w-Fe)/(w-X),Ee<0?Ee=0:Ee>1&&(Ee=1),C[Se++]=Q-(Q-Z)*Ee|0,C[Se++]=U-(U-te)*Ee|0,C[Se++]=$-($-he)*Ee|0,C[Se++]=255}}function R(S,m,M){const _=m.coords,b=m.colors;let n,r;switch(m.type){case"lattice":const c=m.verticesPerRow,E=Math.floor(_.length/c)-1,p=c-1;for(n=0;n<E;n++){let C=n*c;for(let f=0;f<p;f++,C++)A(S,M,_[C],_[C+1],_[C+c],b[C],b[C+1],b[C+c]),A(S,M,_[C+c+1],_[C+1],_[C+c],b[C+c+1],b[C+1],b[C+c])}break;case"triangles":for(n=0,r=_.length;n<r;n+=3)A(S,M,_[n],_[n+1],_[n+2],b[n],b[n+1],b[n+2]);break;default:throw new Error("illegal figure")}}class V extends T{constructor(m){super(),this._coords=m[2],this._colors=m[3],this._figures=m[4],this._bounds=m[5],this._bbox=m[7],this._background=m[8],this.matrix=null}_createMeshCanvas(m,M,_){const c=Math.floor(this._bounds[0]),E=Math.floor(this._bounds[1]),p=Math.ceil(this._bounds[2])-c,C=Math.ceil(this._bounds[3])-E,f=Math.min(Math.ceil(Math.abs(p*m[0]*1.1)),3e3),h=Math.min(Math.ceil(Math.abs(C*m[1]*1.1)),3e3),D=p/f,P=C/h,N={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-E,scaleX:1/D,scaleY:1/P},ee=_.getCanvas("mesh",f+4,h+4,!1),ne=ee.context,le=ne.createImageData(f,h);if(M){const F=le.data;for(let s=0,e=F.length;s<e;s+=4)F[s]=M[0],F[s+1]=M[1],F[s+2]=M[2],F[s+3]=255}for(const F of this._figures)R(le,F,N);return ne.putImageData(le,2,2),{canvas:ee.canvas,offsetX:c-2*D,offsetY:E-2*P,scaleX:D,scaleY:P}}getPattern(m,M,_,b){let n;if(G(m,this._bbox),b===L.SHADING)n=i.Util.singularValueDecompose2dScale(m.mozCurrentTransform);else if(n=i.Util.singularValueDecompose2dScale(M.baseTransform),this.matrix){const c=i.Util.singularValueDecompose2dScale(this.matrix);n=[n[0]*c[0],n[1]*c[1]]}const r=this._createMeshCanvas(n,b===L.SHADING?null:this._background,M.cachedCanvases);return b!==L.SHADING&&(m.setTransform.apply(m,M.baseTransform),this.matrix&&m.transform.apply(m,this.matrix)),m.translate(r.offsetX,r.offsetY),m.scale(r.scaleX,r.scaleY),m.createPattern(r.canvas,"no-repeat")}}class y extends T{getPattern(){return"hotpink"}}class g{static get MAX_PATTERN_SIZE(){return(0,i.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(m,M,_,b,n){this.operatorList=m[2],this.matrix=m[3]||[1,0,0,1,0,0],this.bbox=m[4],this.xstep=m[5],this.ystep=m[6],this.paintType=m[7],this.tilingType=m[8],this.color=M,this.ctx=_,this.canvasGraphicsFactory=b,this.baseTransform=n}createPatternCanvas(m){const M=this.operatorList,_=this.bbox,b=this.xstep,n=this.ystep,r=this.paintType,E=this.color,p=this.canvasGraphicsFactory;(0,i.info)("TilingType: "+this.tilingType);const C=_[0],f=_[1],h=_[2],D=_[3],P=i.Util.singularValueDecompose2dScale(this.matrix),N=i.Util.singularValueDecompose2dScale(this.baseTransform),q=[P[0]*N[0],P[1]*N[1]],K=this.getSizeAndScale(b,this.ctx.canvas.width,q[0]),ee=this.getSizeAndScale(n,this.ctx.canvas.height,q[1]),ne=m.cachedCanvases.getCanvas("pattern",K.size,ee.size,!0),le=ne.context,J=p.createCanvasGraphics(le);J.groupLevel=m.groupLevel,this.setFillAndStrokeStyleToContext(J,r,E);let F=C,s=f,e=h,t=D;return C<0&&(F=0,e+=Math.abs(C)),f<0&&(s=0,t+=Math.abs(f)),le.translate(-K.scale*F,-ee.scale*s),J.transform(K.scale,0,0,ee.scale,0,0),le.save(),this.clipBbox(J,F,s,e,t),J.baseTransform=J.ctx.mozCurrentTransform.slice(),J.executeOperatorList(M),J.endDrawing(),{canvas:ne.canvas,scaleX:K.scale,scaleY:ee.scale,offsetX:F,offsetY:s}}getSizeAndScale(m,M,_){m=Math.abs(m);const b=Math.max(g.MAX_PATTERN_SIZE,M);let n=Math.ceil(m*_);return n>=b?n=b:_=n/m,{scale:_,size:n}}clipBbox(m,M,_,b,n){m.ctx.rect(M,_,b-M,n-_),m.current.updateRectMinMax(m.ctx.mozCurrentTransform,[M,_,b,n]),m.clip(),m.endPath()}setFillAndStrokeStyleToContext(m,M,_){const b=m.ctx,n=m.current;switch(M){case 1:const r=this.ctx;b.fillStyle=r.fillStyle,b.strokeStyle=r.strokeStyle,n.fillColor=r.fillStyle,n.strokeColor=r.strokeStyle;break;case 2:const c=i.Util.makeHexColor(_[0],_[1],_[2]);b.fillStyle=c,b.strokeStyle=c,n.fillColor=c,n.strokeColor=c;break;default:throw new i.FormatError(`Unsupported paint type: ${M}`)}}getPattern(m,M,_,b){let n=_;b!==L.SHADING&&(n=i.Util.transform(n,M.baseTransform),this.matrix&&(n=i.Util.transform(n,this.matrix)));const r=this.createPatternCanvas(M);let c=new DOMMatrix(n);c=c.translate(r.offsetX,r.offsetY),c=c.scale(1/r.scaleX,1/r.scaleY);const E=m.createPattern(r.canvas,"repeat");try{E.setTransform(c)}catch(p){(0,i.warn)(`TilingPattern.getPattern: "${null==p?void 0:p.message}".`)}return E}}o.TilingPattern=g},(H,o,v)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.applyMaskImageData=function B({src:L,srcPos:G=0,dest:T,destPos:x=0,width:A,height:R,inverseDecode:V=!1}){const y=i.FeatureTest.isLittleEndian?4278190080:255,[I,W]=V?[0,y]:[y,0],g=A>>3,S=7&A,m=L.length;T=new Uint32Array(T.buffer);for(let M=0;M<R;M++){for(const b=G+g;G<b;G++){const n=G<m?L[G]:255;T[x++]=128&n?W:I,T[x++]=64&n?W:I,T[x++]=32&n?W:I,T[x++]=16&n?W:I,T[x++]=8&n?W:I,T[x++]=4&n?W:I,T[x++]=2&n?W:I,T[x++]=1&n?W:I}if(0===S)continue;const _=G<m?L[G++]:255;for(let b=0;b<S;b++)T[x++]=_&1<<7-b?W:I}return{srcPos:G,destPos:x}};var i=v(1)},(H,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.GlobalWorkerOptions=void 0;const v=Object.create(null);o.GlobalWorkerOptions=v,v.workerPort=void 0===v.workerPort?null:v.workerPort,v.workerSrc=void 0===v.workerSrc?"":v.workerSrc},(H,o,v)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.MessageHandler=void 0;var i=v(1);function G(x){switch(x instanceof Error||"object"==typeof x&&null!==x||(0,i.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),x.name){case"AbortException":return new i.AbortException(x.message);case"MissingPDFException":return new i.MissingPDFException(x.message);case"PasswordException":return new i.PasswordException(x.message,x.code);case"UnexpectedResponseException":return new i.UnexpectedResponseException(x.message,x.status);case"UnknownErrorException":return new i.UnknownErrorException(x.message,x.details);default:return new i.UnknownErrorException(x.message,x.toString())}}o.MessageHandler=class T{constructor(A,R,V){this.sourceName=A,this.targetName=R,this.comObj=V,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=y=>{const I=y.data;if(I.targetName!==this.sourceName)return;if(I.stream)return void this._processStreamMessage(I);if(I.callback){const g=I.callbackId,S=this.callbackCapabilities[g];if(!S)throw new Error(`Cannot resolve callback ${g}`);if(delete this.callbackCapabilities[g],1===I.callback)S.resolve(I.data);else{if(2!==I.callback)throw new Error("Unexpected callback case");S.reject(G(I.reason))}return}const W=this.actionHandler[I.action];if(!W)throw new Error(`Unknown action from worker: ${I.action}`);if(I.callbackId){const g=this.sourceName,S=I.sourceName;new Promise(function(m){m(W(I.data))}).then(function(m){V.postMessage({sourceName:g,targetName:S,callback:1,callbackId:I.callbackId,data:m})},function(m){V.postMessage({sourceName:g,targetName:S,callback:2,callbackId:I.callbackId,reason:G(m)})})}else I.streamId?this._createStreamSink(I):W(I.data)},V.addEventListener("message",this._onComObjOnMessage)}on(A,R){const V=this.actionHandler;if(V[A])throw new Error(`There is already an actionName called "${A}"`);V[A]=R}send(A,R,V){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:A,data:R},V)}sendWithPromise(A,R,V){const y=this.callbackId++,I=(0,i.createPromiseCapability)();this.callbackCapabilities[y]=I;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:A,callbackId:y,data:R},V)}catch(W){I.reject(W)}return I.promise}sendWithStream(A,R,V,y){const I=this.streamId++,W=this.sourceName,g=this.targetName,S=this.comObj;return new ReadableStream({start:m=>{const M=(0,i.createPromiseCapability)();return this.streamControllers[I]={controller:m,startCall:M,pullCall:null,cancelCall:null,isClosed:!1},S.postMessage({sourceName:W,targetName:g,action:A,streamId:I,data:R,desiredSize:m.desiredSize},y),M.promise},pull:m=>{const M=(0,i.createPromiseCapability)();return this.streamControllers[I].pullCall=M,S.postMessage({sourceName:W,targetName:g,stream:6,streamId:I,desiredSize:m.desiredSize}),M.promise},cancel:m=>{(0,i.assert)(m instanceof Error,"cancel must have a valid reason");const M=(0,i.createPromiseCapability)();return this.streamControllers[I].cancelCall=M,this.streamControllers[I].isClosed=!0,S.postMessage({sourceName:W,targetName:g,stream:1,streamId:I,reason:G(m)}),M.promise}},V)}_createStreamSink(A){const R=A.streamId,V=this.sourceName,y=A.sourceName,I=this.comObj,W=this,g=this.actionHandler[A.action],S={enqueue(m,M=1,_){if(this.isCancelled)return;const b=this.desiredSize;this.desiredSize-=M,b>0&&this.desiredSize<=0&&(this.sinkCapability=(0,i.createPromiseCapability)(),this.ready=this.sinkCapability.promise),I.postMessage({sourceName:V,targetName:y,stream:4,streamId:R,chunk:m},_)},close(){this.isCancelled||(this.isCancelled=!0,I.postMessage({sourceName:V,targetName:y,stream:3,streamId:R}),delete W.streamSinks[R])},error(m){(0,i.assert)(m instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,I.postMessage({sourceName:V,targetName:y,stream:5,streamId:R,reason:G(m)}))},sinkCapability:(0,i.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:A.desiredSize,ready:null};S.sinkCapability.resolve(),S.ready=S.sinkCapability.promise,this.streamSinks[R]=S,new Promise(function(m){m(g(A.data,S))}).then(function(){I.postMessage({sourceName:V,targetName:y,stream:8,streamId:R,success:!0})},function(m){I.postMessage({sourceName:V,targetName:y,stream:8,streamId:R,reason:G(m)})})}_processStreamMessage(A){const R=A.streamId,V=this.sourceName,y=A.sourceName,I=this.comObj,W=this.streamControllers[R],g=this.streamSinks[R];switch(A.stream){case 8:A.success?W.startCall.resolve():W.startCall.reject(G(A.reason));break;case 7:A.success?W.pullCall.resolve():W.pullCall.reject(G(A.reason));break;case 6:if(!g){I.postMessage({sourceName:V,targetName:y,stream:7,streamId:R,success:!0});break}g.desiredSize<=0&&A.desiredSize>0&&g.sinkCapability.resolve(),g.desiredSize=A.desiredSize,new Promise(function(S){S(g.onPull&&g.onPull())}).then(function(){I.postMessage({sourceName:V,targetName:y,stream:7,streamId:R,success:!0})},function(S){I.postMessage({sourceName:V,targetName:y,stream:7,streamId:R,reason:G(S)})});break;case 4:if((0,i.assert)(W,"enqueue should have stream controller"),W.isClosed)break;W.controller.enqueue(A.chunk);break;case 3:if((0,i.assert)(W,"close should have stream controller"),W.isClosed)break;W.isClosed=!0,W.controller.close(),this._deleteStreamController(W,R);break;case 5:(0,i.assert)(W,"error should have stream controller"),W.controller.error(G(A.reason)),this._deleteStreamController(W,R);break;case 2:A.success?W.cancelCall.resolve():W.cancelCall.reject(G(A.reason)),this._deleteStreamController(W,R);break;case 1:if(!g)break;new Promise(function(S){S(g.onCancel&&g.onCancel(G(A.reason)))}).then(function(){I.postMessage({sourceName:V,targetName:y,stream:2,streamId:R,success:!0})},function(S){I.postMessage({sourceName:V,targetName:y,stream:2,streamId:R,reason:G(S)})}),g.sinkCapability.reject(G(A.reason)),g.isCancelled=!0,delete this.streamSinks[R];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(A,R){var V=this;return _asyncToGenerator(function*(){yield Promise.allSettled([A.startCall&&A.startCall.promise,A.pullCall&&A.pullCall.promise,A.cancelCall&&A.cancelCall.promise]),delete V.streamControllers[R]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(H,o,v)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Metadata=void 0;var i=v(1),B=new WeakMap,L=new WeakMap;o.Metadata=class G{constructor({parsedData:x,rawData:A}){_classPrivateFieldInitSpec(this,B,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,L,{writable:!0,value:void 0}),_classPrivateFieldSet(this,B,x),_classPrivateFieldSet(this,L,A)}getRaw(){return _classPrivateFieldGet(this,L)}get(x){var A;return null!==(A=_classPrivateFieldGet(this,B).get(x))&&void 0!==A?A:null}getAll(){return(0,i.objectFromMap)(_classPrivateFieldGet(this,B))}has(x){return _classPrivateFieldGet(this,B).has(x)}}},(H,o,v)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.OptionalContentConfig=void 0;var i=v(1);class B{constructor(T,x){this.visible=!0,this.name=T,this.intent=x}}o.OptionalContentConfig=class L{constructor(T){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==T){this.name=T.name,this.creator=T.creator,this._order=T.order;for(const x of T.groups)this._groups.set(x.id,new B(x.name,x.intent));if("OFF"===T.baseState)for(const x of this._groups)x.visible=!1;for(const x of T.on)this._groups.get(x).visible=!0;for(const x of T.off)this._groups.get(x).visible=!1}}_evaluateVisibilityExpression(T){const x=T.length;if(x<2)return!0;const A=T[0];for(let R=1;R<x;R++){const V=T[R];let y;if(Array.isArray(V))y=this._evaluateVisibilityExpression(V);else{if(!this._groups.has(V))return(0,i.warn)(`Optional content group not found: ${V}`),!0;y=this._groups.get(V).visible}switch(A){case"And":if(!y)return!1;break;case"Or":if(y)return!0;break;case"Not":return!y;default:return!0}}return"And"===A}isVisible(T){if(0===this._groups.size)return!0;if(!T)return(0,i.warn)("Optional content group not defined."),!0;if("OCG"===T.type)return this._groups.has(T.id)?this._groups.get(T.id).visible:((0,i.warn)(`Optional content group not found: ${T.id}`),!0);if("OCMD"===T.type){if(T.expression)return this._evaluateVisibilityExpression(T.expression);if(!T.policy||"AnyOn"===T.policy){for(const x of T.ids){if(!this._groups.has(x))return(0,i.warn)(`Optional content group not found: ${x}`),!0;if(this._groups.get(x).visible)return!0}return!1}if("AllOn"===T.policy){for(const x of T.ids){if(!this._groups.has(x))return(0,i.warn)(`Optional content group not found: ${x}`),!0;if(!this._groups.get(x).visible)return!1}return!0}if("AnyOff"===T.policy){for(const x of T.ids){if(!this._groups.has(x))return(0,i.warn)(`Optional content group not found: ${x}`),!0;if(!this._groups.get(x).visible)return!0}return!1}if("AllOff"===T.policy){for(const x of T.ids){if(!this._groups.has(x))return(0,i.warn)(`Optional content group not found: ${x}`),!0;if(this._groups.get(x).visible)return!1}return!0}return(0,i.warn)(`Unknown optional content policy ${T.policy}.`),!0}return(0,i.warn)(`Unknown group type ${T.type}.`),!0}setVisibility(T,x=!0){this._groups.has(T)?this._groups.get(T).visible=!!x:(0,i.warn)(`Optional content group not found: ${T}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,i.objectFromMap)(this._groups):null}getGroup(T){return this._groups.get(T)||null}}},(H,o,v)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFDataTransportStream=void 0;var i=v(1),B=v(5);o.PDFDataTransportStream=class L{constructor(A,R){(0,i.assert)(R,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=A.progressiveDone||!1,this._contentDispositionFilename=A.contentDispositionFilename||null;const V=A.initialData;if((null==V?void 0:V.length)>0){const y=new Uint8Array(V).buffer;this._queuedChunks.push(y)}this._pdfDataRangeTransport=R,this._isStreamingSupported=!A.disableStream,this._isRangeSupported=!A.disableRange,this._contentLength=A.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((y,I)=>{this._onReceiveData({begin:y,chunk:I})}),this._pdfDataRangeTransport.addProgressListener((y,I)=>{this._onProgress({loaded:y,total:I})}),this._pdfDataRangeTransport.addProgressiveReadListener(y=>{this._onReceiveData({chunk:y})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(A){const R=new Uint8Array(A.chunk).buffer;if(void 0===A.begin)this._fullRequestReader?this._fullRequestReader._enqueue(R):this._queuedChunks.push(R);else{const V=this._rangeReaders.some(function(y){return y._begin===A.begin&&(y._enqueue(R),!0)});(0,i.assert)(V,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var A,R;return null!==(A=null===(R=this._fullRequestReader)||void 0===R?void 0:R._loaded)&&void 0!==A?A:0}_onProgress(A){if(void 0===A.total){const R=this._rangeReaders[0];null!=R&&R.onProgress&&R.onProgress({loaded:A.loaded})}else{const R=this._fullRequestReader;null!=R&&R.onProgress&&R.onProgress({loaded:A.loaded,total:A.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(A){const R=this._rangeReaders.indexOf(A);R>=0&&this._rangeReaders.splice(R,1)}getFullReader(){(0,i.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const A=this._queuedChunks;return this._queuedChunks=null,new G(this,A,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(A,R){if(R<=this._progressiveDataLength)return null;const V=new T(this,A,R);return this._pdfDataRangeTransport.requestDataRange(A,R),this._rangeReaders.push(V),V}cancelAllRequests(A){this._fullRequestReader&&this._fullRequestReader.cancel(A);for(const R of this._rangeReaders.slice(0))R.cancel(A);this._pdfDataRangeTransport.abort()}};class G{constructor(A,R,V=!1,y=null){this._stream=A,this._done=V||!1,this._filename=(0,B.isPdfFile)(y)?y:null,this._queuedChunks=R||[],this._loaded=0;for(const I of this._queuedChunks)this._loaded+=I.byteLength;this._requests=[],this._headersReady=Promise.resolve(),A._fullRequestReader=this,this.onProgress=null}_enqueue(A){this._done||(this._requests.length>0?this._requests.shift().resolve({value:A,done:!1}):this._queuedChunks.push(A),this._loaded+=A.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var A=this;return _asyncToGenerator(function*(){if(A._queuedChunks.length>0)return{value:A._queuedChunks.shift(),done:!1};if(A._done)return{value:void 0,done:!0};const R=(0,i.createPromiseCapability)();return A._requests.push(R),R.promise})()}cancel(A){this._done=!0;for(const R of this._requests)R.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class T{constructor(A,R,V){this._stream=A,this._begin=R,this._end=V,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(A){if(!this._done){if(0===this._requests.length)this._queuedChunk=A;else{this._requests.shift().resolve({value:A,done:!1});for(const V of this._requests)V.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var A=this;return _asyncToGenerator(function*(){if(A._queuedChunk){const V=A._queuedChunk;return A._queuedChunk=null,{value:V,done:!1}}if(A._done)return{value:void 0,done:!0};const R=(0,i.createPromiseCapability)();return A._requests.push(R),R.promise})()}cancel(A){this._done=!0;for(const R of this._requests)R.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(H,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.XfaText=void 0;class v{static textContent(B){const L=[],G={items:L,styles:Object.create(null)};return function T(x){var A;if(!x)return;let R=null;const V=x.name;if("#text"===V)R=x.value;else{if(!v.shouldBuildText(V))return;null!=x&&null!==(A=x.attributes)&&void 0!==A&&A.textContent?R=x.attributes.textContent:x.value&&(R=x.value)}if(null!==R&&L.push({str:R}),x.children)for(const y of x.children)T(y)}(B),G}static shouldBuildText(B){return!("textarea"===B||"input"===B||"option"===B||"select"===B)}}o.XfaText=v},(H,o,v)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.NodeStandardFontDataFactory=o.NodeCanvasFactory=o.NodeCMapReaderFactory=void 0;var i=v(6);const B=function(x){return new Promise((A,R)=>{__webpack_require__(172).readFile(x,(y,I)=>{!y&&I?A(new Uint8Array(I)):R(new Error(y))})})};o.NodeCanvasFactory=class L extends i.BaseCanvasFactory{_createCanvas(A,R){return __webpack_require__(3414).createCanvas(A,R)}},o.NodeCMapReaderFactory=class G extends i.BaseCMapReaderFactory{_fetchData(A,R){return B(A).then(V=>({cMapData:V,compressionType:R}))}},o.NodeStandardFontDataFactory=class T extends i.BaseStandardFontDataFactory{_fetchData(A){return B(A)}}},(H,o,v)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.AnnotationLayer=void 0;var i=v(1),B=v(5),L=v(8),G=v(21),T=v(22);const x=1e3,A=new WeakSet;function R(s){return{width:s[2]-s[0],height:s[3]-s[1]}}class V{static create(e){switch(e.data.annotationType){case i.AnnotationType.LINK:return new I(e);case i.AnnotationType.TEXT:return new W(e);case i.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new S(e);case"Btn":return e.data.radioButton?new M(e):e.data.checkBox?new m(e):new _(e);case"Ch":return new b(e)}return new g(e);case i.AnnotationType.POPUP:return new n(e);case i.AnnotationType.FREETEXT:return new c(e);case i.AnnotationType.LINE:return new E(e);case i.AnnotationType.SQUARE:return new p(e);case i.AnnotationType.CIRCLE:return new C(e);case i.AnnotationType.POLYLINE:return new f(e);case i.AnnotationType.CARET:return new D(e);case i.AnnotationType.INK:return new P(e);case i.AnnotationType.POLYGON:return new h(e);case i.AnnotationType.HIGHLIGHT:return new N(e);case i.AnnotationType.UNDERLINE:return new q(e);case i.AnnotationType.SQUIGGLY:return new K(e);case i.AnnotationType.STRIKEOUT:return new ee(e);case i.AnnotationType.STAMP:return new ne(e);case i.AnnotationType.FILEATTACHMENT:return new le(e);default:return new y(e)}}}class y{constructor(e,{isRenderable:t=!1,ignoreBorder:a=!1,createQuadrilaterals:u=!1}={}){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.page=e.page,this.viewport=e.viewport,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this._mouseState=e.mouseState,t&&(this.container=this._createContainer(a)),u&&(this.quadrilaterals=this._createQuadrilaterals(a))}_createContainer(e=!1){const t=this.data,a=this.page,u=this.viewport,d=document.createElement("section");let{width:l,height:w}=R(t.rect);d.setAttribute("data-annotation-id",t.id);const Q=i.Util.normalizeRect([t.rect[0],a.view[3]-t.rect[1]+a.view[1],t.rect[2],a.view[3]-t.rect[3]+a.view[1]]);if(t.hasOwnCanvas){const U=u.transform.slice(),[$,X]=i.Util.singularValueDecompose2dScale(U);l=Math.ceil(l*$),w=Math.ceil(w*X),Q[0]*=$,Q[1]*=X;for(let Z=0;Z<4;Z++)U[Z]=Math.sign(U[Z]);d.style.transform=`matrix(${U.join(",")})`}else d.style.transform=`matrix(${u.transform.join(",")})`;if(d.style.transformOrigin=`${-Q[0]}px ${-Q[1]}px`,!e&&t.borderStyle.width>0){d.style.borderWidth=`${t.borderStyle.width}px`,t.borderStyle.style!==i.AnnotationBorderStyleType.UNDERLINE&&(l-=2*t.borderStyle.width,w-=2*t.borderStyle.width);const U=t.borderStyle.horizontalCornerRadius,$=t.borderStyle.verticalCornerRadius;switch((U>0||$>0)&&(d.style.borderRadius=`${U}px / ${$}px`),t.borderStyle.style){case i.AnnotationBorderStyleType.SOLID:d.style.borderStyle="solid";break;case i.AnnotationBorderStyleType.DASHED:d.style.borderStyle="dashed";break;case i.AnnotationBorderStyleType.BEVELED:(0,i.warn)("Unimplemented border style: beveled");break;case i.AnnotationBorderStyleType.INSET:(0,i.warn)("Unimplemented border style: inset");break;case i.AnnotationBorderStyleType.UNDERLINE:d.style.borderBottomStyle="solid"}t.borderColor||t.color?d.style.borderColor=i.Util.makeHexColor(0|t.color[0],0|t.color[1],0|t.color[2]):d.style.borderWidth=0}return d.style.left=`${Q[0]}px`,d.style.top=`${Q[1]}px`,t.hasOwnCanvas?d.style.width=d.style.height="auto":(d.style.width=`${l}px`,d.style.height=`${w}px`),d}get _commonActions(){const e=(t,a,u)=>{const d=u.detail[t];u.target.style[a]=G.ColorConverters[`${d[0]}_HTML`](d.slice(1))};return(0,i.shadow)(this,"_commonActions",{display:t=>{const a=t.detail.display%2==1;t.target.style.visibility=a?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:a,print:0===t.detail.display||3===t.detail.display})},print:t=>{this.annotationStorage.setValue(this.data.id,{print:t.detail.print})},hidden:t=>{t.target.style.visibility=t.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:t.detail.hidden})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.detail.readonly?t.target.setAttribute("readonly",""):t.target.removeAttribute("readonly")},required:t=>{t.detail.required?t.target.setAttribute("required",""):t.target.removeAttribute("required")},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)}})}_dispatchEventFromSandbox(e,t){const a=this._commonActions;for(const u of Object.keys(t.detail)){const d=e[u]||a[u];d&&d(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const a=this._commonActions;for(const[u,d]of Object.entries(t)){const l=a[u];l&&(l({detail:d,target:e}),delete t[u])}}_createQuadrilaterals(e=!1){if(!this.data.quadPoints)return null;const t=[],a=this.data.rect;for(const u of this.data.quadPoints)this.data.rect=[u[2].x,u[2].y,u[1].x,u[1].y],t.push(this._createContainer(e));return this.data.rect=a,t}_createPopup(e,t){let a=this.container;this.quadrilaterals&&(e=e||this.quadrilaterals,a=this.quadrilaterals[0]),e||((e=document.createElement("div")).style.height=a.style.height,e.style.width=a.style.width,a.appendChild(e));const d=new r({container:a,trigger:e,color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,hideWrapper:!0}).render();d.style.left=a.style.width,a.appendChild(d)}_renderQuadrilaterals(e){for(const t of this.quadrilaterals)t.className=e;return this.quadrilaterals}render(){(0,i.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const a=[];if(this._fieldObjects){const u=this._fieldObjects[e];if(u)for(const{page:d,id:l,exportValues:w}of u){if(-1===d||l===t)continue;const Q="string"==typeof w?w:null,U=document.getElementById(l);!U||A.has(U)?a.push({id:l,exportValue:Q,domElement:U}):(0,i.warn)(`_getElementsByName - element not allowed: ${l}`)}return a}for(const u of document.getElementsByName(e)){const{id:d,exportValue:l}=u;d!==t&&A.has(u)&&a.push({id:d,exportValue:l,domElement:u})}return a}static get platform(){const e=typeof navigator<"u"?navigator.platform:"";return(0,i.shadow)(this,"platform",{isWin:e.includes("Win"),isMac:e.includes("Mac")})}}class I extends y{constructor(e,t=null){super(e,{isRenderable:!!(e.data.url||e.data.dest||e.data.action||e.data.isTooltipOnly||e.data.resetForm||e.data.actions&&(e.data.actions.Action||e.data.actions["Mouse Up"]||e.data.actions["Mouse Down"])),ignoreBorder:!(null==t||!t.ignoreBorder),createQuadrilaterals:!0})}render(){const{data:e,linkService:t}=this,a=document.createElement("a");if(e.url)t.addLinkAttributes(a,e.url,e.newWindow);else if(e.action)this._bindNamedAction(a,e.action);else if(e.dest)this._bindLink(a,e.dest);else{let u=!1;e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(u=!0,this._bindJSAction(a,e)),e.resetForm?this._bindResetFormAction(a,e.resetForm):u||this._bindLink(a,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((u,d)=>{const l=0===d?a:a.cloneNode();return u.appendChild(l),u}):(this.container.className="linkAnnotation",this.container.appendChild(a),this.container)}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||""===t)&&(e.className="internalLink")}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),e.className="internalLink"}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const a=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const u of Object.keys(t.actions)){const d=a.get(u);d&&(e[d]=()=>{var l;return null===(l=this.linkService.eventBus)||void 0===l||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:u}}),!1})}e.onclick||(e.onclick=()=>!1),e.className="internalLink"}_bindResetFormAction(e,t){const a=e.onclick;if(a||(e.href=this.linkService.getAnchorUrl("")),e.className="internalLink",!this._fieldObjects)return(0,i.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(a||(e.onclick=()=>!1));e.onclick=()=>{a&&a();const{fields:u,refs:d,include:l}=t,w=[];if(0!==u.length||0!==d.length){const X=new Set(d);for(const Z of u){const te=this._fieldObjects[Z]||[];for(const{id:he}of te)X.add(he)}for(const Z of Object.values(this._fieldObjects))for(const te of Z)X.has(te.id)===l&&w.push(te)}else for(const X of Object.values(this._fieldObjects))w.push(...X);const Q=this.annotationStorage,U=[];for(const X of w){const{id:Z}=X;switch(U.push(Z),X.type){case"text":case"combobox":case"listbox":Q.setValue(Z,{value:X.defaultValue||""});break;case"checkbox":case"radiobutton":Q.setValue(Z,{value:X.defaultValue===X.exportValues});break;default:continue}const te=document.getElementById(Z);!te||!A.has(te)||te.dispatchEvent(new Event("resetform"))}var $;return this.enableScripting&&(null===($=this.linkService.eventBus)||void 0===$||$.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:U,name:"ResetForm"}})),!1}}}class W extends y{constructor(e){var t,a,u;super(e,{isRenderable:!!(e.data.hasPopup||null!==(t=e.data.titleObj)&&void 0!==t&&t.str||null!==(a=e.data.contentsObj)&&void 0!==a&&a.str||null!==(u=e.data.richText)&&void 0!==u&&u.str)})}render(){this.container.className="textAnnotation";const e=document.createElement("img");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(e,this.data),this.container.appendChild(e),this.container}}class g extends y{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(e){const{isWin:t,isMac:a}=y.platform;return t&&e.ctrlKey||a&&e.metaKey}_setEventListener(e,t,a,u){t.includes("mouse")?e.addEventListener(t,d=>{var l;null===(l=this.linkService.eventBus)||void 0===l||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:u(d),shift:d.shiftKey,modifier:this._getKeyModifier(d)}})}):e.addEventListener(t,d=>{var l;null===(l=this.linkService.eventBus)||void 0===l||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:u(d)}})})}_setEventListeners(e,t,a){for(const[d,l]of t){var u;("Action"===l||null!==(u=this.data.actions)&&void 0!==u&&u[l])&&this._setEventListener(e,d,l,a)}}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=null===t?"transparent":i.Util.makeHexColor(t[0],t[1],t[2])}}class S extends g{constructor(e){super(e,{isRenderable:e.renderForms||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,t,a,u){const d=this.annotationStorage;for(const l of this._getElementsByName(e.name,e.id))l.domElement&&(l.domElement[t]=a),d.setValue(l.id,{[u]:a})}render(){const e=this.annotationStorage,t=this.data.id;this.container.className="textWidgetAnnotation";let a=null;if(this.renderForms){const d=e.getValue(t,{value:this.data.fieldValue}),l=d.formattedValue||d.value||"",w={userValue:null,formattedValue:null,valueOnFocus:""};this.data.multiLine?(a=document.createElement("textarea"),a.textContent=l):(a=document.createElement("input"),a.type="text",a.setAttribute("value",l)),A.add(a),a.disabled=this.data.readOnly,a.name=this.data.fieldName,a.tabIndex=x,w.userValue=l,a.setAttribute("id",t),a.addEventListener("input",U=>{e.setValue(t,{value:U.target.value}),this.setPropertyOnSiblings(a,"value",U.target.value,"value")}),a.addEventListener("resetform",U=>{var $;const X=null!==($=this.data.defaultFieldValue)&&void 0!==$?$:"";a.value=w.userValue=X,w.formattedValue=null});let Q=U=>{const{formattedValue:$}=w;null!=$&&(U.target.value=$),U.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){var u;a.addEventListener("focus",$=>{w.userValue&&($.target.value=w.userValue),w.valueOnFocus=$.target.value}),a.addEventListener("updatefromsandbox",$=>{this._dispatchEventFromSandbox({value(Z){var te;w.userValue=null!==(te=Z.detail.value)&&void 0!==te?te:"",e.setValue(t,{value:w.userValue.toString()}),Z.target.value=w.userValue},formattedValue(Z){const{formattedValue:te}=Z.detail;w.formattedValue=te,null!=te&&Z.target!==document.activeElement&&(Z.target.value=te),e.setValue(t,{formattedValue:te})},selRange(Z){Z.target.setSelectionRange(...Z.detail.selRange)}},$)}),a.addEventListener("keydown",$=>{var X;let Z=-1;if("Escape"===$.key?Z=0:"Enter"===$.key?Z=2:"Tab"===$.key&&(Z=3),-1===Z)return;const{value:te}=$.target;w.valueOnFocus!==te&&(w.userValue=te,null===(X=this.linkService.eventBus)||void 0===X||X.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:te,willCommit:!0,commitKey:Z,selStart:$.target.selectionStart,selEnd:$.target.selectionEnd}}))});const U=Q;Q=null,a.addEventListener("blur",$=>{const{value:X}=$.target;var Z;w.userValue=X,this._mouseState.isDown&&w.valueOnFocus!==X&&(null===(Z=this.linkService.eventBus)||void 0===Z||Z.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:X,willCommit:!0,commitKey:1,selStart:$.target.selectionStart,selEnd:$.target.selectionEnd}})),U($)}),null!==(u=this.data.actions)&&void 0!==u&&u.Keystroke&&a.addEventListener("beforeinput",$=>{var X;const{data:Z,target:te}=$,{value:he,selectionStart:ge,selectionEnd:Ee}=te;let me=ge,ue=Ee;switch($.inputType){case"deleteWordBackward":{const Se=he.substring(0,ge).match(/\w*[^\w]*$/);Se&&(me-=Se[0].length);break}case"deleteWordForward":{const Se=he.substring(ge).match(/^[^\w]*\w*/);Se&&(ue+=Se[0].length);break}case"deleteContentBackward":ge===Ee&&(me-=1);break;case"deleteContentForward":ge===Ee&&(ue+=1)}$.preventDefault(),null===(X=this.linkService.eventBus)||void 0===X||X.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:he,change:Z||"",willCommit:!1,selStart:me,selEnd:ue}})}),this._setEventListeners(a,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],$=>$.target.value)}if(Q&&a.addEventListener("blur",Q),null!==this.data.maxLen&&(a.maxLength=this.data.maxLen),this.data.comb){const $=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;a.classList.add("comb"),a.style.letterSpacing=`calc(${$}px - 1ch)`}}else a=document.createElement("div"),a.textContent=this.data.fieldValue,a.style.verticalAlign="middle",a.style.display="table-cell";return this._setTextStyle(a),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.appendChild(a),this.container}_setTextStyle(e){const{fontSize:a,fontColor:u}=this.data.defaultAppearanceData,d=e.style;a&&(d.fontSize=`${a}px`),d.color=i.Util.makeHexColor(u[0],u[1],u[2]),null!==this.data.textAlignment&&(d.textAlign=["left","center","right"][this.data.textAlignment])}}class m extends g{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,a=t.id;let u=e.getValue(a,{value:t.exportValue===t.fieldValue}).value;"string"==typeof u&&(u="Off"!==u,e.setValue(a,{value:u})),this.container.className="buttonWidgetAnnotation checkBox";const d=document.createElement("input");return A.add(d),d.disabled=t.readOnly,d.type="checkbox",d.name=t.fieldName,u&&d.setAttribute("checked",!0),d.setAttribute("id",a),d.setAttribute("exportValue",t.exportValue),d.tabIndex=x,d.addEventListener("change",l=>{const{name:w,checked:Q}=l.target;for(const U of this._getElementsByName(w,a)){const $=Q&&U.exportValue===t.exportValue;U.domElement&&(U.domElement.checked=$),e.setValue(U.id,{value:$})}e.setValue(a,{value:Q})}),d.addEventListener("resetform",l=>{l.target.checked=(t.defaultFieldValue||"Off")===t.exportValue}),this.enableScripting&&this.hasJSActions&&(d.addEventListener("updatefromsandbox",l=>{this._dispatchEventFromSandbox({value(Q){Q.target.checked="Off"!==Q.detail.value,e.setValue(a,{value:Q.target.checked})}},l)}),this._setEventListeners(d,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(d),this._setDefaultPropertiesFromJS(d),this.container.appendChild(d),this.container}}class M extends g{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const e=this.annotationStorage,t=this.data,a=t.id;let u=e.getValue(a,{value:t.fieldValue===t.buttonValue}).value;"string"==typeof u&&(u=u!==t.buttonValue,e.setValue(a,{value:u}));const d=document.createElement("input");if(A.add(d),d.disabled=t.readOnly,d.type="radio",d.name=t.fieldName,u&&d.setAttribute("checked",!0),d.setAttribute("id",a),d.tabIndex=x,d.addEventListener("change",l=>{const{name:w,checked:Q}=l.target;for(const U of this._getElementsByName(w,a))e.setValue(U.id,{value:!1});e.setValue(a,{value:Q})}),d.addEventListener("resetform",l=>{const w=t.defaultFieldValue;l.target.checked=null!=w&&w===t.buttonValue}),this.enableScripting&&this.hasJSActions){const l=t.buttonValue;d.addEventListener("updatefromsandbox",w=>{this._dispatchEventFromSandbox({value:U=>{const $=l===U.detail.value;for(const X of this._getElementsByName(U.target.name)){const Z=$&&X.id===a;X.domElement&&(X.domElement.checked=Z),e.setValue(X.id,{value:Z})}}},w)}),this._setEventListeners(d,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],w=>w.target.checked)}return this._setBackgroundColor(d),this._setDefaultPropertiesFromJS(d),this.container.appendChild(d),this.container}}class _ extends I{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();return e.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(e.title=this.data.alternativeText),this._setDefaultPropertiesFromJS(e),e}}class b extends g{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const e=this.annotationStorage,t=this.data.id,a=e.getValue(t,{value:this.data.fieldValue});let{fontSize:u}=this.data.defaultAppearanceData;u||(u=9);const d=`calc(${u}px * var(--zoom-factor))`,l=document.createElement("select");A.add(l),l.disabled=this.data.readOnly,l.name=this.data.fieldName,l.setAttribute("id",t),l.tabIndex=x,l.style.fontSize=`${u}px`,this.data.combo||(l.size=this.data.options.length,this.data.multiSelect&&(l.multiple=!0)),l.addEventListener("resetform",U=>{const $=this.data.defaultFieldValue;for(const X of l.options)X.selected=X.value===$});for(const U of this.data.options){const $=document.createElement("option");$.textContent=U.displayValue,$.value=U.exportValue,this.data.combo&&($.style.fontSize=d),a.value.includes(U.exportValue)&&$.setAttribute("selected",!0),l.appendChild($)}const w=(U,$)=>{const X=$?"value":"textContent",Z=U.target.options;return U.target.multiple?Array.prototype.filter.call(Z,te=>te.selected).map(te=>te[X]):-1===Z.selectedIndex?null:Z[Z.selectedIndex][X]},Q=U=>Array.prototype.map.call(U.target.options,X=>({displayValue:X.textContent,exportValue:X.value}));return this.enableScripting&&this.hasJSActions?(l.addEventListener("updatefromsandbox",U=>{this._dispatchEventFromSandbox({value(X){const Z=X.detail.value,te=new Set(Array.isArray(Z)?Z:[Z]);for(const he of l.options)he.selected=te.has(he.value);e.setValue(t,{value:w(X,!0)})},multipleSelection(X){l.multiple=!0},remove(X){const Z=l.options,te=X.detail.remove;Z[te].selected=!1,l.remove(te),Z.length>0&&-1===Array.prototype.findIndex.call(Z,ge=>ge.selected)&&(Z[0].selected=!0),e.setValue(t,{value:w(X,!0),items:Q(X)})},clear(X){for(;0!==l.length;)l.remove(0);e.setValue(t,{value:null,items:[]})},insert(X){const{index:Z,displayValue:te,exportValue:he}=X.detail.insert,ge=document.createElement("option");ge.textContent=te,ge.value=he,l.insertBefore(ge,l.children[Z]),e.setValue(t,{value:w(X,!0),items:Q(X)})},items(X){const{items:Z}=X.detail;for(;0!==l.length;)l.remove(0);for(const te of Z){const{displayValue:he,exportValue:ge}=te,Ee=document.createElement("option");Ee.textContent=he,Ee.value=ge,l.appendChild(Ee)}l.options.length>0&&(l.options[0].selected=!0),e.setValue(t,{value:w(X,!0),items:Q(X)})},indices(X){const Z=new Set(X.detail.indices);for(const te of X.target.options)te.selected=Z.has(te.index);e.setValue(t,{value:w(X,!0)})},editable(X){X.target.disabled=!X.detail.editable}},U)}),l.addEventListener("input",U=>{var $;const X=w(U,!0),Z=w(U,!1);e.setValue(t,{value:X}),null===($=this.linkService.eventBus)||void 0===$||$.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:Z,changeEx:X,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(l,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],U=>U.target.checked)):l.addEventListener("input",function(U){e.setValue(t,{value:w(U,!0)})}),this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.appendChild(l),this.container}}class n extends y{constructor(e){var t,a,u;super(e,{isRenderable:!!(null!==(t=e.data.titleObj)&&void 0!==t&&t.str||null!==(a=e.data.contentsObj)&&void 0!==a&&a.str||null!==(u=e.data.richText)&&void 0!==u&&u.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const a=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===a.length)return this.container;const u=new r({container:this.container,trigger:Array.from(a),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),d=this.page,l=i.Util.normalizeRect([this.data.parentRect[0],d.view[3]-this.data.parentRect[1]+d.view[1],this.data.parentRect[2],d.view[3]-this.data.parentRect[3]+d.view[1]]),w=l[0]+this.data.parentRect[2]-this.data.parentRect[0],Q=l[1];return this.container.style.transformOrigin=`${-w}px ${-Q}px`,this.container.style.left=`${w}px`,this.container.style.top=`${Q}px`,this.container.appendChild(u.render()),this.container}}class r{constructor(e){this.container=e.container,this.trigger=e.trigger,this.color=e.color,this.titleObj=e.titleObj,this.modificationDate=e.modificationDate,this.contentsObj=e.contentsObj,this.richText=e.richText,this.hideWrapper=e.hideWrapper||!1,this.pinned=!1}render(){var e,t;const u=document.createElement("div");u.className="popupWrapper",this.hideElement=this.hideWrapper?u:this.container,this.hideElement.hidden=!0;const d=document.createElement("div");d.className="popup";const l=this.color;l&&(d.style.backgroundColor=i.Util.makeHexColor(0|.7*(255-l[0])+l[0],0|.7*(255-l[1])+l[1],0|.7*(255-l[2])+l[2]));const w=document.createElement("h1");w.dir=this.titleObj.dir,w.textContent=this.titleObj.str,d.appendChild(w);const Q=B.PDFDateString.toDateObject(this.modificationDate);if(Q){const U=document.createElement("span");U.className="popupDate",U.textContent="{{date}}, {{time}}",U.dataset.l10nId="annotation_date_string",U.dataset.l10nArgs=JSON.stringify({date:Q.toLocaleDateString(),time:Q.toLocaleTimeString()}),d.appendChild(U)}if(null===(e=this.richText)||void 0===e||!e.str||null!==(t=this.contentsObj)&&void 0!==t&&t.str&&this.contentsObj.str!==this.richText.str){const U=this._formatContents(this.contentsObj);d.appendChild(U)}else T.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:d}),d.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const U of this.trigger)U.addEventListener("click",this._toggle.bind(this)),U.addEventListener("mouseover",this._show.bind(this,!1)),U.addEventListener("mouseout",this._hide.bind(this,!1));return d.addEventListener("click",this._hide.bind(this,!0)),u.appendChild(d),u}_formatContents({str:e,dir:t}){const a=document.createElement("p");a.className="popupContent",a.dir=t;const u=e.split(/(?:\r\n?|\n)/);for(let d=0,l=u.length;d<l;++d)a.appendChild(document.createTextNode(u[d])),d<l-1&&a.appendChild(document.createElement("br"));return a}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(e=!1){e&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(e=!0){e&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class c extends y{constructor(e){var t,a,u;super(e,{isRenderable:!!(e.data.hasPopup||null!==(t=e.data.titleObj)&&void 0!==t&&t.str||null!==(a=e.data.contentsObj)&&void 0!==a&&a.str||null!==(u=e.data.richText)&&void 0!==u&&u.str),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class E extends y{constructor(e){var t,a,u;super(e,{isRenderable:!!(e.data.hasPopup||null!==(t=e.data.titleObj)&&void 0!==t&&t.str||null!==(a=e.data.contentsObj)&&void 0!==a&&a.str||null!==(u=e.data.richText)&&void 0!==u&&u.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const e=this.data,{width:t,height:a}=R(e.rect),u=this.svgFactory.create(t,a),d=this.svgFactory.createElement("svg:line");return d.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),d.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),d.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),d.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),d.setAttribute("stroke-width",e.borderStyle.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),u.appendChild(d),this.container.append(u),this._createPopup(d,e),this.container}}class p extends y{constructor(e){var t,a,u;super(e,{isRenderable:!!(e.data.hasPopup||null!==(t=e.data.titleObj)&&void 0!==t&&t.str||null!==(a=e.data.contentsObj)&&void 0!==a&&a.str||null!==(u=e.data.richText)&&void 0!==u&&u.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const e=this.data,{width:t,height:a}=R(e.rect),u=this.svgFactory.create(t,a),d=e.borderStyle.width,l=this.svgFactory.createElement("svg:rect");return l.setAttribute("x",d/2),l.setAttribute("y",d/2),l.setAttribute("width",t-d),l.setAttribute("height",a-d),l.setAttribute("stroke-width",d||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),u.appendChild(l),this.container.append(u),this._createPopup(l,e),this.container}}class C extends y{constructor(e){var t,a,u;super(e,{isRenderable:!!(e.data.hasPopup||null!==(t=e.data.titleObj)&&void 0!==t&&t.str||null!==(a=e.data.contentsObj)&&void 0!==a&&a.str||null!==(u=e.data.richText)&&void 0!==u&&u.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const e=this.data,{width:t,height:a}=R(e.rect),u=this.svgFactory.create(t,a),d=e.borderStyle.width,l=this.svgFactory.createElement("svg:ellipse");return l.setAttribute("cx",t/2),l.setAttribute("cy",a/2),l.setAttribute("rx",t/2-d/2),l.setAttribute("ry",a/2-d/2),l.setAttribute("stroke-width",d||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),u.appendChild(l),this.container.append(u),this._createPopup(l,e),this.container}}class f extends y{constructor(e){var t,a,u;super(e,{isRenderable:!!(e.data.hasPopup||null!==(t=e.data.titleObj)&&void 0!==t&&t.str||null!==(a=e.data.contentsObj)&&void 0!==a&&a.str||null!==(u=e.data.richText)&&void 0!==u&&u.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:t,height:a}=R(e.rect),u=this.svgFactory.create(t,a);let d=[];for(const w of e.vertices)d.push(w.x-e.rect[0]+","+(e.rect[3]-w.y));d=d.join(" ");const l=this.svgFactory.createElement(this.svgElementName);return l.setAttribute("points",d),l.setAttribute("stroke-width",e.borderStyle.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),u.appendChild(l),this.container.append(u),this._createPopup(l,e),this.container}}class h extends f{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class D extends y{constructor(e){var t,a,u;super(e,{isRenderable:!!(e.data.hasPopup||null!==(t=e.data.titleObj)&&void 0!==t&&t.str||null!==(a=e.data.contentsObj)&&void 0!==a&&a.str||null!==(u=e.data.richText)&&void 0!==u&&u.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class P extends y{constructor(e){var t,a,u;super(e,{isRenderable:!!(e.data.hasPopup||null!==(t=e.data.titleObj)&&void 0!==t&&t.str||null!==(a=e.data.contentsObj)&&void 0!==a&&a.str||null!==(u=e.data.richText)&&void 0!==u&&u.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:t,height:a}=R(e.rect),u=this.svgFactory.create(t,a);for(const d of e.inkLists){let l=[];for(const Q of d)l.push(`${Q.x-e.rect[0]},${e.rect[3]-Q.y}`);l=l.join(" ");const w=this.svgFactory.createElement(this.svgElementName);w.setAttribute("points",l),w.setAttribute("stroke-width",e.borderStyle.width||1),w.setAttribute("stroke","transparent"),w.setAttribute("fill","transparent"),this._createPopup(w,e),u.appendChild(w)}return this.container.append(u),this.container}}class N extends y{constructor(e){var t,a,u;super(e,{isRenderable:!!(e.data.hasPopup||null!==(t=e.data.titleObj)&&void 0!==t&&t.str||null!==(a=e.data.contentsObj)&&void 0!==a&&a.str||null!==(u=e.data.richText)&&void 0!==u&&u.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class q extends y{constructor(e){var t,a,u;super(e,{isRenderable:!!(e.data.hasPopup||null!==(t=e.data.titleObj)&&void 0!==t&&t.str||null!==(a=e.data.contentsObj)&&void 0!==a&&a.str||null!==(u=e.data.richText)&&void 0!==u&&u.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class K extends y{constructor(e){var t,a,u;super(e,{isRenderable:!!(e.data.hasPopup||null!==(t=e.data.titleObj)&&void 0!==t&&t.str||null!==(a=e.data.contentsObj)&&void 0!==a&&a.str||null!==(u=e.data.richText)&&void 0!==u&&u.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class ee extends y{constructor(e){var t,a,u;super(e,{isRenderable:!!(e.data.hasPopup||null!==(t=e.data.titleObj)&&void 0!==t&&t.str||null!==(a=e.data.contentsObj)&&void 0!==a&&a.str||null!==(u=e.data.richText)&&void 0!==u&&u.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class ne extends y{constructor(e){var t,a,u;super(e,{isRenderable:!!(e.data.hasPopup||null!==(t=e.data.titleObj)&&void 0!==t&&t.str||null!==(a=e.data.contentsObj)&&void 0!==a&&a.str||null!==(u=e.data.richText)&&void 0!==u&&u.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class le extends y{constructor(e){var t;super(e,{isRenderable:!0});const{filename:a,content:u}=this.data.file;this.filename=(0,B.getFilenameFromUrl)(a),this.content=u,null===(t=this.linkService.eventBus)||void 0===t||t.dispatch("fileattachmentannotation",{source:this,filename:a,content:u})}render(){var e,t;this.container.className="fileAttachmentAnnotation";const a=document.createElement("div");return a.style.height=this.container.style.height,a.style.width=this.container.style.width,a.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(null!==(e=this.data.titleObj)&&void 0!==e&&e.str||null!==(t=this.data.contentsObj)&&void 0!==t&&t.str||this.data.richText)&&this._createPopup(a,this.data),this.container.appendChild(a),this.container}_download(){var e;null===(e=this.downloadManager)||void 0===e||e.openOrDownloadData(this.container,this.content,this.filename)}}class J{static render(e){const t=[],a=[];for(const d of e.annotations){if(!d)continue;const{width:l,height:w}=R(d.rect);if(!(l<=0||w<=0)){if(d.annotationType===i.AnnotationType.POPUP){a.push(d);continue}t.push(d)}}a.length&&t.push(...a);const u=e.div;for(const d of t){const l=V.create({data:d,layer:u,page:e.page,viewport:e.viewport,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new B.DOMSVGFactory,annotationStorage:e.annotationStorage||new L.AnnotationStorage,enableScripting:e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,mouseState:e.mouseState||{isDown:!1}});if(l.isRenderable){const w=l.render();if(d.hidden&&(w.style.visibility="hidden"),Array.isArray(w))for(const Q of w)u.appendChild(Q);else l instanceof n?u.prepend(w):u.appendChild(w)}}_classStaticPrivateMethodGet(this,J,F).call(this,u,e.annotationCanvasMap)}static update(e){const{page:t,viewport:a,annotations:u,annotationCanvasMap:d,div:l}=e,w=a.transform,Q=`matrix(${w.join(",")})`;let U,$;for(const X of u){const Z=l.querySelectorAll(`[data-annotation-id="${X.id}"]`);if(Z)for(const te of Z)if(X.hasOwnCanvas){const he=i.Util.normalizeRect([X.rect[0],t.view[3]-X.rect[1]+t.view[1],X.rect[2],t.view[3]-X.rect[3]+t.view[1]]);if(!$){U=Math.abs(w[0]||w[1]);const me=w.slice();for(let ue=0;ue<4;ue++)me[ue]=Math.sign(me[ue]);$=`matrix(${me.join(",")})`}const ge=he[0]*U,Ee=he[1]*U;te.style.left=`${ge}px`,te.style.top=`${Ee}px`,te.style.transformOrigin=`${-ge}px ${-Ee}px`,te.style.transform=$}else te.style.transform=Q}_classStaticPrivateMethodGet(this,J,F).call(this,l,d),l.hidden=!1}}function F(s,e){if(e){for(const[t,a]of e){const u=s.querySelector(`[data-annotation-id="${t}"]`);if(!u)continue;const{firstChild:d}=u;"CANVAS"===d.nodeName?u.replaceChild(a,d):u.insertBefore(a,d)}e.clear()}}o.AnnotationLayer=J},(H,o)=>{function v(B){return Math.floor(255*Math.max(0,Math.min(1,B))).toString(16).padStart(2,"0")}Object.defineProperty(o,"__esModule",{value:!0}),o.ColorConverters=void 0,o.ColorConverters=class i{static CMYK_G([L,G,T,x]){return["G",1-Math.min(1,.3*L+.59*T+.11*G+x)]}static G_CMYK([L]){return["CMYK",0,0,0,1-L]}static G_RGB([L]){return["RGB",L,L,L]}static G_HTML([L]){const G=v(L);return`#${G}${G}${G}`}static RGB_G([L,G,T]){return["G",.3*L+.59*G+.11*T]}static RGB_HTML([L,G,T]){return`#${v(L)}${v(G)}${v(T)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([L,G,T,x]){return["RGB",1-Math.min(1,L+x),1-Math.min(1,T+x),1-Math.min(1,G+x)]}static CMYK_HTML(L){return this.RGB_HTML(this.CMYK_RGB(L))}static RGB_CMYK([L,G,T]){const x=1-L,A=1-G,R=1-T;return["CMYK",x,A,R,Math.min(x,A,R)]}}},(H,o,v)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.XfaLayer=void 0;var i=v(18);o.XfaLayer=class B{static setupStorage(G,T,x,A,R){const V=A.getValue(T,{value:null});switch(x.name){case"textarea":if(null!==V.value&&(G.textContent=V.value),"print"===R)break;G.addEventListener("input",y=>{A.setValue(T,{value:y.target.value})});break;case"input":if("radio"===x.attributes.type||"checkbox"===x.attributes.type){if(V.value===x.attributes.xfaOn?G.setAttribute("checked",!0):V.value===x.attributes.xfaOff&&G.removeAttribute("checked"),"print"===R)break;G.addEventListener("change",y=>{A.setValue(T,{value:y.target.getAttribute(y.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==V.value&&G.setAttribute("value",V.value),"print"===R)break;G.addEventListener("input",y=>{A.setValue(T,{value:y.target.value})})}break;case"select":if(null!==V.value)for(const y of x.children)y.attributes.value===V.value&&(y.attributes.selected=!0);G.addEventListener("input",y=>{const I=y.target.options;A.setValue(T,{value:-1===I.selectedIndex?"":I[I.selectedIndex].value})})}}static setAttributes({html:G,element:T,storage:x=null,intent:A,linkService:R}){const{attributes:V}=T,y=G instanceof HTMLAnchorElement;"radio"===V.type&&(V.name=`${V.name}-${A}`);for(const[I,W]of Object.entries(V))if(null!=W&&"dataId"!==I)if("style"!==I)if("textContent"===I)G.textContent=W;else if("class"===I)W.length&&G.setAttribute(I,W.join(" "));else{if(y&&("href"===I||"newWindow"===I))continue;G.setAttribute(I,W)}else Object.assign(G.style,W);y&&R.addLinkAttributes(G,V.href,V.newWindow),x&&V.dataId&&this.setupStorage(G,V.dataId,T,x)}static render(G){const T=G.annotationStorage,x=G.linkService,A=G.xfaHtml,R=G.intent||"display",V=document.createElement(A.name);A.attributes&&this.setAttributes({html:V,element:A,intent:R,linkService:x});const y=[[A,-1,V]],I=G.div;if(I.appendChild(V),G.viewport){const S=`matrix(${G.viewport.transform.join(",")})`;I.style.transform=S}"richText"!==R&&I.setAttribute("class","xfaLayer xfaFont");const W=[];for(;y.length>0;){var g;const[S,m,M]=y[y.length-1];if(m+1===S.children.length){y.pop();continue}const _=S.children[++y[y.length-1][1]];if(null===_)continue;const{name:b}=_;if("#text"===b){const r=document.createTextNode(_.value);W.push(r),M.appendChild(r);continue}let n;if(n=null!=_&&null!==(g=_.attributes)&&void 0!==g&&g.xmlns?document.createElementNS(_.attributes.xmlns,b):document.createElement(b),M.appendChild(n),_.attributes&&this.setAttributes({html:n,element:_,storage:T,intent:R,linkService:x}),_.children&&_.children.length>0)y.push([_,-1,n]);else if(_.value){const r=document.createTextNode(_.value);i.XfaText.shouldBuildText(b)&&W.push(r),n.appendChild(r)}}for(const S of I.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))S.setAttribute("readOnly",!0);return{textDivs:W}}static update(G){const T=`matrix(${G.viewport.transform.join(",")})`;G.div.style.transform=T,G.div.hidden=!1}}},(H,o,v)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.renderTextLayer=function m(M){const _=new S({textContent:M.textContent,textContentStream:M.textContentStream,container:M.container,viewport:M.viewport,textDivs:M.textDivs,textContentItemsStr:M.textContentItemsStr,enhanceTextSelection:M.enhanceTextSelection});return _._render(M.timeout),_};var i=v(1);const L=30,T=new Map,x=/^\s+$/g;function R(M,_,b,n){const r=document.createElement("span"),c=M._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==_.str,hasEOL:_.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==_.str,hasEOL:_.hasEOL};M._textDivs.push(r);const E=i.Util.transform(M._viewport.transform,_.transform);let p=Math.atan2(E[1],E[0]);const C=b[_.fontName];C.vertical&&(p+=Math.PI/2);const f=Math.hypot(E[2],E[3]),h=f*function A(M,_){const b=T.get(M);if(b)return b;_.save(),_.font=`30px ${M}`;const n=_.measureText("");let r=n.fontBoundingBoxAscent,c=Math.abs(n.fontBoundingBoxDescent);if(r){_.restore();const p=r/(r+c);return T.set(M,p),p}_.strokeStyle="red",_.clearRect(0,0,L,L),_.strokeText("g",0,0);let E=_.getImageData(0,0,L,L).data;c=0;for(let p=E.length-1-3;p>=0;p-=4)if(E[p]>0){c=Math.ceil(p/4/L);break}_.clearRect(0,0,L,L),_.strokeText("A",0,L),E=_.getImageData(0,0,L,L).data,r=0;for(let p=0,C=E.length;p<C;p+=4)if(E[p]>0){r=L-Math.floor(p/4/L);break}if(_.restore(),r){const p=r/(r+c);return T.set(M,p),p}return T.set(M,.8),.8}(C.fontFamily,n);let D,P;0===p?(D=E[4],P=E[5]-h):(D=E[4]+h*Math.sin(p),P=E[5]-h*Math.cos(p)),r.style.left=`${D}px`,r.style.top=`${P}px`,r.style.fontSize=`${f}px`,r.style.fontFamily=C.fontFamily,r.setAttribute("role","presentation"),r.textContent=_.str,r.dir=_.dir,M._fontInspectorEnabled&&(r.dataset.fontName=_.fontName),0!==p&&(c.angle=p*(180/Math.PI));let N=!1;if(_.str.length>1||M._enhanceTextSelection&&x.test(_.str))N=!0;else if(" "!==_.str&&_.transform[0]!==_.transform[3]){const q=Math.abs(_.transform[0]),K=Math.abs(_.transform[3]);q!==K&&Math.max(q,K)/Math.min(q,K)>1.5&&(N=!0)}if(N&&(c.canvasWidth=C.vertical?_.height*M._viewport.scale:_.width*M._viewport.scale),M._textDivProperties.set(r,c),M._textContentStream&&M._layoutText(r),M._enhanceTextSelection&&c.hasText){let q=1,K=0;0!==p&&(q=Math.cos(p),K=Math.sin(p));const ee=(C.vertical?_.height:_.width)*M._viewport.scale,ne=f;let le,J;0!==p?(le=[q,K,-K,q,D,P],J=i.Util.getAxialAlignedBoundingBox([0,0,ee,ne],le)):J=[D,P,D+ee,P+ne],M._bounds.push({left:J[0],top:J[1],right:J[2],bottom:J[3],div:r,size:[ee,ne],m:le})}}function V(M){if(M._canceled)return;const _=M._textDivs,b=M._capability,n=_.length;if(n>1e5)return M._renderingDone=!0,void b.resolve();if(!M._textContentStream)for(let r=0;r<n;r++)M._layoutText(_[r]);M._renderingDone=!0,b.resolve()}function y(M,_,b){let n=0;for(let r=0;r<b;r++){const c=M[_++];c>0&&(n=n?Math.min(c,n):c)}return n}function g(M,_){_.sort(function(r,c){return r.x1-c.x1||r.index-c.index});const n=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const r of _){let c=0;for(;c<n.length&&n[c].end<=r.y1;)c++;let E=n.length-1;for(;E>=0&&n[E].start>=r.y2;)E--;let p,C,f,h,D=-1/0;for(f=c;f<=E;f++){let q;p=n[f],C=p.boundary,q=C.x2>r.x1?C.index>r.index?C.x1New:r.x1:void 0===C.x2New?(C.x2+r.x1)/2:C.x2New,q>D&&(D=q)}for(r.x1New=D,f=c;f<=E;f++)p=n[f],C=p.boundary,void 0===C.x2New?C.x2>r.x1?C.index>r.index&&(C.x2New=C.x2):C.x2New=D:C.x2New>D&&(C.x2New=Math.max(D,C.x2));const P=[];let N=null;for(f=c;f<=E;f++){p=n[f],C=p.boundary;const q=C.x2>r.x2?C:r;N===q?P[P.length-1].end=p.end:(P.push({start:p.start,end:p.end,boundary:q}),N=q)}for(n[c].start<r.y1&&(P[0].start=r.y1,P.unshift({start:n[c].start,end:r.y1,boundary:n[c].boundary})),r.y2<n[E].end&&(P[P.length-1].end=r.y2,P.push({start:r.y2,end:n[E].end,boundary:n[E].boundary})),f=c;f<=E;f++){if(p=n[f],C=p.boundary,void 0!==C.x2New)continue;let q=!1;for(h=c-1;!q&&h>=0&&n[h].start>=C.y1;h--)q=n[h].boundary===C;for(h=E+1;!q&&h<n.length&&n[h].end<=C.y2;h++)q=n[h].boundary===C;for(h=0;!q&&h<P.length;h++)q=P[h].boundary===C;q||(C.x2New=D)}Array.prototype.splice.apply(n,[c,E-c+1].concat(P))}for(const r of n){const c=r.boundary;void 0===c.x2New&&(c.x2New=Math.max(M,c.x2))}}class S{constructor({textContent:_,textContentStream:b,container:n,viewport:r,textDivs:c,textContentItemsStr:E,enhanceTextSelection:p}){var C;this._textContent=_,this._textContentStream=b,this._container=n,this._document=n.ownerDocument,this._viewport=r,this._textDivs=c||[],this._textContentItemsStr=E||[],this._enhanceTextSelection=!!p,this._fontInspectorEnabled=!(null===(C=globalThis.FontInspector)||void 0===C||!C.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,i.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new i.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(_,b){for(let n=0,r=_.length;n<r;n++)if(void 0!==_[n].str)this._textContentItemsStr.push(_[n].str),R(this,_[n],b,this._layoutTextCtx);else if("beginMarkedContentProps"===_[n].type||"beginMarkedContent"===_[n].type){const c=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==_[n].id&&this._container.setAttribute("id",`${_[n].id}`),c.appendChild(this._container)}else"endMarkedContent"===_[n].type&&(this._container=this._container.parentNode)}_layoutText(_){const b=this._textDivProperties.get(_);let n="";if(0!==b.canvasWidth&&b.hasText){const{fontSize:r,fontFamily:c}=_.style;(r!==this._layoutTextLastFontSize||c!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${r} ${c}`,this._layoutTextLastFontSize=r,this._layoutTextLastFontFamily=c);const{width:E}=this._layoutTextCtx.measureText(_.textContent);if(E>0){const p=b.canvasWidth/E;this._enhanceTextSelection&&(b.scale=p),n=`scaleX(${p})`}}if(0!==b.angle&&(n=`rotate(${b.angle}deg) ${n}`),n.length>0&&(this._enhanceTextSelection&&(b.originalTransform=n),_.style.transform=n),b.hasText&&this._container.appendChild(_),b.hasEOL){const r=document.createElement("br");r.setAttribute("role","presentation"),this._container.appendChild(r)}}_render(_=0){const b=(0,i.createPromiseCapability)();let n=Object.create(null);const r=this._document.createElement("canvas");if(r.height=r.width=L,this._layoutTextCtx=r.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),b.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const c=()=>{this._reader.read().then(({value:E,done:p})=>{p?b.resolve():(Object.assign(n,E.styles),this._processItems(E.items,n),c())},b.reject)};this._reader=this._textContentStream.getReader(),c()}}b.promise.then(()=>{n=null,_?this._renderTimer=setTimeout(()=>{V(this),this._renderTimer=null},_):V(this)},this._capability.reject)}expandTextDivs(_=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function I(M){const _=M._bounds,b=M._viewport,n=function W(M,_,b){const n=b.map(function(c,E){return{x1:c.left,y1:c.top,x2:c.right,y2:c.bottom,index:E,x1New:void 0,x2New:void 0}});g(M,n);const r=new Array(b.length);for(const c of n)r[c.index]={left:c.x1New,top:0,right:c.x2New,bottom:0};b.map(function(c,E){const p=r[E],C=n[E];C.x1=c.top,C.y1=M-p.right,C.x2=c.bottom,C.y2=M-p.left,C.index=E,C.x1New=void 0,C.x2New=void 0}),g(_,n);for(const c of n){const E=c.index;r[E].top=c.x1New,r[E].bottom=c.x2New}return r}(b.width,b.height,_);for(let r=0;r<n.length;r++){const c=_[r].div,E=M._textDivProperties.get(c);if(0===E.angle){E.paddingLeft=_[r].left-n[r].left,E.paddingTop=_[r].top-n[r].top,E.paddingRight=n[r].right-_[r].right,E.paddingBottom=n[r].bottom-_[r].bottom,M._textDivProperties.set(c,E);continue}const p=n[r],C=_[r],f=C.m,h=f[0],D=f[1],P=[[0,0],[0,C.size[1]],[C.size[0],0],C.size],N=new Float64Array(64);for(let K=0,ee=P.length;K<ee;K++){const ne=i.Util.applyTransform(P[K],f);N[K+0]=h&&(p.left-ne[0])/h,N[K+4]=D&&(p.top-ne[1])/D,N[K+8]=h&&(p.right-ne[0])/h,N[K+12]=D&&(p.bottom-ne[1])/D,N[K+16]=D&&(p.left-ne[0])/-D,N[K+20]=h&&(p.top-ne[1])/h,N[K+24]=D&&(p.right-ne[0])/-D,N[K+28]=h&&(p.bottom-ne[1])/h,N[K+32]=h&&(p.left-ne[0])/-h,N[K+36]=D&&(p.top-ne[1])/-D,N[K+40]=h&&(p.right-ne[0])/-h,N[K+44]=D&&(p.bottom-ne[1])/-D,N[K+48]=D&&(p.left-ne[0])/D,N[K+52]=h&&(p.top-ne[1])/-h,N[K+56]=D&&(p.right-ne[0])/D,N[K+60]=h&&(p.bottom-ne[1])/-h}const q=1+Math.min(Math.abs(h),Math.abs(D));E.paddingLeft=y(N,32,16)/q,E.paddingTop=y(N,48,16)/q,E.paddingRight=y(N,0,16)/q,E.paddingBottom=y(N,16,16)/q,M._textDivProperties.set(c,E)}}(this),this._bounds=null);const b=[],n=[];for(let r=0,c=this._textDivs.length;r<c;r++){const E=this._textDivs[r],p=this._textDivProperties.get(E);p.hasText&&(_?(b.length=0,n.length=0,p.originalTransform&&b.push(p.originalTransform),p.paddingTop>0?(n.push(`${p.paddingTop}px`),b.push(`translateY(${-p.paddingTop}px)`)):n.push(0),n.push(p.paddingRight>0?p.paddingRight/p.scale+"px":0),n.push(p.paddingBottom>0?`${p.paddingBottom}px`:0),p.paddingLeft>0?(n.push(p.paddingLeft/p.scale+"px"),b.push(`translateX(${-p.paddingLeft/p.scale}px)`)):n.push(0),E.style.padding=n.join(" "),b.length&&(E.style.transform=b.join(" "))):(E.style.padding=null,E.style.transform=p.originalTransform))}}}},(H,o,v)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SVGGraphics=void 0;var i=v(1),B=v(5),L=v(3);let G=class{constructor(){(0,i.unreachable)("Not implemented: SVGGraphics")}};o.SVGGraphics=G;{let g=function(n){let r=[];const c=[];for(const E of n)"save"!==E.fn?"restore"===E.fn?r=c.pop():r.push(E):(r.push({fnId:92,fn:"group",items:[]}),c.push(r),r=r[r.length-1].items);return r},S=function(n){if(Number.isInteger(n))return n.toString();const r=n.toFixed(10);let c=r.length-1;if("0"!==r[c])return r;do{c--}while("0"===r[c]);return r.substring(0,"."===r[c]?c:c+1)},m=function(n){if(0===n[4]&&0===n[5]){if(0===n[1]&&0===n[2])return 1===n[0]&&1===n[3]?"":`scale(${S(n[0])} ${S(n[3])})`;if(n[0]===n[3]&&n[1]===-n[2]){const r=180*Math.acos(n[0])/Math.PI;return`rotate(${S(r)})`}}else if(1===n[0]&&0===n[1]&&0===n[2]&&1===n[3])return`translate(${S(n[4])} ${S(n[5])})`;return`matrix(${S(n[0])} ${S(n[1])} ${S(n[2])} ${S(n[3])} ${S(n[4])} ${S(n[5])})`};const T={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},x="http://www.w3.org/XML/1998/namespace",A="http://www.w3.org/1999/xlink",R=["butt","round","square"],V=["miter","round","bevel"],y=function(n,r="",c=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!c)return URL.createObjectURL(new Blob([n],{type:r}));const E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let p=`data:${r};base64,`;for(let C=0,f=n.length;C<f;C+=3){const h=255&n[C],D=255&n[C+1],P=255&n[C+2];p+=E[h>>2]+E[(3&h)<<4|D>>4]+E[C+1<f?(15&D)<<2|P>>6:64]+E[C+2<f?63&P:64]}return p},I=function(){const n=new Uint8Array([137,80,78,71,13,10,26,10]),c=new Int32Array(256);for(let P=0;P<256;P++){let N=P;for(let q=0;q<8;q++)N=1&N?3988292384^N>>1&2147483647:N>>1&2147483647;c[P]=N}function p(P,N,q,K){let ee=K;const ne=N.length;q[ee]=ne>>24&255,q[ee+1]=ne>>16&255,q[ee+2]=ne>>8&255,q[ee+3]=255&ne,ee+=4,q[ee]=255&P.charCodeAt(0),q[ee+1]=255&P.charCodeAt(1),q[ee+2]=255&P.charCodeAt(2),q[ee+3]=255&P.charCodeAt(3),ee+=4,q.set(N,ee),ee+=N.length;const le=function E(P,N,q){let K=-1;for(let ee=N;ee<q;ee++)K=K>>>8^c[255&(K^P[ee])];return-1^K}(q,K+4,ee);q[ee]=le>>24&255,q[ee+1]=le>>16&255,q[ee+2]=le>>8&255,q[ee+3]=255&le}function h(P){let N=P.length;const q=65535,K=Math.ceil(N/q),ee=new Uint8Array(2+N+5*K+4);let ne=0;ee[ne++]=120,ee[ne++]=156;let le=0;for(;N>q;)ee[ne++]=0,ee[ne++]=255,ee[ne++]=255,ee[ne++]=0,ee[ne++]=0,ee.set(P.subarray(le,le+q),ne),ne+=q,le+=q,N-=q;ee[ne++]=1,ee[ne++]=255&N,ee[ne++]=N>>8&255,ee[ne++]=255&~N,ee[ne++]=(65535&~N)>>8&255,ee.set(P.subarray(le),ne),ne+=P.length-le;const J=function C(P,N,q){let K=1,ee=0;for(let ne=N;ne<q;++ne)K=(K+(255&P[ne]))%65521,ee=(ee+K)%65521;return ee<<16|K}(P,0,P.length);return ee[ne++]=J>>24&255,ee[ne++]=J>>16&255,ee[ne++]=J>>8&255,ee[ne++]=255&J,ee}return function(N,q,K){return function D(P,N,q,K){const ee=P.width,ne=P.height;let le,J,F;const s=P.data;switch(N){case i.ImageKind.GRAYSCALE_1BPP:J=0,le=1,F=ee+7>>3;break;case i.ImageKind.RGB_24BPP:J=2,le=8,F=3*ee;break;case i.ImageKind.RGBA_32BPP:J=6,le=8,F=4*ee;break;default:throw new Error("invalid format")}const e=new Uint8Array((1+F)*ne);let t=0,a=0;for(let U=0;U<ne;++U)e[t++]=0,e.set(s.subarray(a,a+F),t),a+=F,t+=F;if(N===i.ImageKind.GRAYSCALE_1BPP&&K){t=0;for(let U=0;U<ne;U++){t++;for(let $=0;$<F;$++)e[t++]^=255}}const u=new Uint8Array([ee>>24&255,ee>>16&255,ee>>8&255,255&ee,ne>>24&255,ne>>16&255,ne>>8&255,255&ne,le,J,0,0,0]),d=function f(P){if(!L.isNodeJS)return h(P);try{let N;N=parseInt(process.versions.node)>=8?P:Buffer.from(P);const q=__webpack_require__(2258).deflateSync(N,{level:9});return q instanceof Uint8Array?q:new Uint8Array(q)}catch(N){(0,i.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+N)}return h(P)}(e),w=new Uint8Array(n.length+36+u.length+d.length);let Q=0;return w.set(n,Q),Q+=n.length,p("IHDR",u,w,Q),Q+=12+u.length,p("IDATA",d,w,Q),Q+=12+d.length,p("IEND",new Uint8Array(0),w,Q),y(w,"image/png",q)}(N,void 0===N.kind?i.ImageKind.GRAYSCALE_1BPP:N.kind,q,K)}}();class W{constructor(){this.fontSizeScale=1,this.fontWeight=T.fontWeight,this.fontSize=0,this.textMatrix=i.IDENTITY_MATRIX,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=i.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=T.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(r,c){this.x=r,this.y=c}}let M=0,_=0,b=0;o.SVGGraphics=G=class{constructor(n,r,c=!1){this.svgFactory=new B.DOMSVGFactory,this.current=new W,this.transformMatrix=i.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=n,this.objs=r,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!c,this._operatorIdMapping=[];for(const E in i.OPS)this._operatorIdMapping[i.OPS[E]]=E}save(){this.transformStack.push(this.transformMatrix);const n=this.current;this.extraStack.push(n),this.current=n.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(n){this.save(),this.executeOpTree(n),this.restore()}loadDependencies(n){const r=n.fnArray,c=n.argsArray;for(let E=0,p=r.length;E<p;E++)if(r[E]===i.OPS.dependency)for(const C of c[E]){const f=C.startsWith("g_")?this.commonObjs:this.objs,h=new Promise(D=>{f.get(C,D)});this.current.dependencies.push(h)}return Promise.all(this.current.dependencies)}transform(n,r,c,E,p,C){this.transformMatrix=i.Util.transform(this.transformMatrix,[n,r,c,E,p,C]),this.tgrp=null}getSVG(n,r){this.viewport=r;const c=this._initialize(r);return this.loadDependencies(n).then(()=>(this.transformMatrix=i.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(n)),c))}convertOpList(n){const r=this._operatorIdMapping,c=n.argsArray,E=n.fnArray,p=[];for(let C=0,f=E.length;C<f;C++){const h=E[C];p.push({fnId:h,fn:r[h],args:c[C]})}return g(p)}executeOpTree(n){for(const r of n){const c=r.fn,p=r.args;switch(0|r.fnId){case i.OPS.beginText:this.beginText();break;case i.OPS.dependency:break;case i.OPS.setLeading:this.setLeading(p);break;case i.OPS.setLeadingMoveText:this.setLeadingMoveText(p[0],p[1]);break;case i.OPS.setFont:this.setFont(p);break;case i.OPS.showText:case i.OPS.showSpacedText:this.showText(p[0]);break;case i.OPS.endText:this.endText();break;case i.OPS.moveText:this.moveText(p[0],p[1]);break;case i.OPS.setCharSpacing:this.setCharSpacing(p[0]);break;case i.OPS.setWordSpacing:this.setWordSpacing(p[0]);break;case i.OPS.setHScale:this.setHScale(p[0]);break;case i.OPS.setTextMatrix:this.setTextMatrix(p[0],p[1],p[2],p[3],p[4],p[5]);break;case i.OPS.setTextRise:this.setTextRise(p[0]);break;case i.OPS.setTextRenderingMode:this.setTextRenderingMode(p[0]);break;case i.OPS.setLineWidth:this.setLineWidth(p[0]);break;case i.OPS.setLineJoin:this.setLineJoin(p[0]);break;case i.OPS.setLineCap:this.setLineCap(p[0]);break;case i.OPS.setMiterLimit:this.setMiterLimit(p[0]);break;case i.OPS.setFillRGBColor:this.setFillRGBColor(p[0],p[1],p[2]);break;case i.OPS.setStrokeRGBColor:this.setStrokeRGBColor(p[0],p[1],p[2]);break;case i.OPS.setStrokeColorN:this.setStrokeColorN(p);break;case i.OPS.setFillColorN:this.setFillColorN(p);break;case i.OPS.shadingFill:this.shadingFill(p[0]);break;case i.OPS.setDash:this.setDash(p[0],p[1]);break;case i.OPS.setRenderingIntent:this.setRenderingIntent(p[0]);break;case i.OPS.setFlatness:this.setFlatness(p[0]);break;case i.OPS.setGState:this.setGState(p[0]);break;case i.OPS.fill:this.fill();break;case i.OPS.eoFill:this.eoFill();break;case i.OPS.stroke:this.stroke();break;case i.OPS.fillStroke:this.fillStroke();break;case i.OPS.eoFillStroke:this.eoFillStroke();break;case i.OPS.clip:this.clip("nonzero");break;case i.OPS.eoClip:this.clip("evenodd");break;case i.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case i.OPS.paintImageXObject:this.paintImageXObject(p[0]);break;case i.OPS.paintInlineImageXObject:this.paintInlineImageXObject(p[0]);break;case i.OPS.paintImageMaskXObject:this.paintImageMaskXObject(p[0]);break;case i.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(p[0],p[1]);break;case i.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case i.OPS.closePath:this.closePath();break;case i.OPS.closeStroke:this.closeStroke();break;case i.OPS.closeFillStroke:this.closeFillStroke();break;case i.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case i.OPS.nextLine:this.nextLine();break;case i.OPS.transform:this.transform(p[0],p[1],p[2],p[3],p[4],p[5]);break;case i.OPS.constructPath:this.constructPath(p[0],p[1]);break;case i.OPS.endPath:this.endPath();break;case 92:this.group(r.items);break;default:(0,i.warn)(`Unimplemented operator ${c}`)}}}setWordSpacing(n){this.current.wordSpacing=n}setCharSpacing(n){this.current.charSpacing=n}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(n,r,c,E,p,C){const f=this.current;f.textMatrix=f.lineMatrix=[n,r,c,E,p,C],f.textMatrixScale=Math.hypot(n,r),f.x=f.lineX=0,f.y=f.lineY=0,f.xcoords=[],f.ycoords=[],f.tspan=this.svgFactory.createElement("svg:tspan"),f.tspan.setAttributeNS(null,"font-family",f.fontFamily),f.tspan.setAttributeNS(null,"font-size",`${S(f.fontSize)}px`),f.tspan.setAttributeNS(null,"y",S(-f.y)),f.txtElement=this.svgFactory.createElement("svg:text"),f.txtElement.appendChild(f.tspan)}beginText(){const n=this.current;n.x=n.lineX=0,n.y=n.lineY=0,n.textMatrix=i.IDENTITY_MATRIX,n.lineMatrix=i.IDENTITY_MATRIX,n.textMatrixScale=1,n.tspan=this.svgFactory.createElement("svg:tspan"),n.txtElement=this.svgFactory.createElement("svg:text"),n.txtgrp=this.svgFactory.createElement("svg:g"),n.xcoords=[],n.ycoords=[]}moveText(n,r){const c=this.current;c.x=c.lineX+=n,c.y=c.lineY+=r,c.xcoords=[],c.ycoords=[],c.tspan=this.svgFactory.createElement("svg:tspan"),c.tspan.setAttributeNS(null,"font-family",c.fontFamily),c.tspan.setAttributeNS(null,"font-size",`${S(c.fontSize)}px`),c.tspan.setAttributeNS(null,"y",S(-c.y))}showText(n){const r=this.current,c=r.font,E=r.fontSize;if(0===E)return;const p=r.fontSizeScale,C=r.charSpacing,f=r.wordSpacing,h=r.fontDirection,D=r.textHScale*h,P=c.vertical,N=P?1:-1,q=c.defaultVMetrics,K=E*r.fontMatrix[0];let ee=0;for(const J of n){if(null===J){ee+=h*f;continue}if("number"==typeof J){ee+=N*J*E/1e3;continue}const F=(J.isSpace?f:0)+C,s=J.fontChar;let e,t,u,a=J.width;if(P){let d;const l=J.vmetric||q;d=J.vmetric?l[1]:.5*a,d=-d*K,a=l?-l[0]:a,e=d/p,t=(ee+l[2]*K)/p}else e=ee/p,t=0;(J.isInFont||c.missingFile)&&(r.xcoords.push(r.x+e),P&&r.ycoords.push(-r.y+t),r.tspan.textContent+=s),u=P?a*K-F*h:a*K+F*h,ee+=u}r.tspan.setAttributeNS(null,"x",r.xcoords.map(S).join(" ")),r.tspan.setAttributeNS(null,"y",P?r.ycoords.map(S).join(" "):S(-r.y)),P?r.y-=ee:r.x+=ee*D,r.tspan.setAttributeNS(null,"font-family",r.fontFamily),r.tspan.setAttributeNS(null,"font-size",`${S(r.fontSize)}px`),r.fontStyle!==T.fontStyle&&r.tspan.setAttributeNS(null,"font-style",r.fontStyle),r.fontWeight!==T.fontWeight&&r.tspan.setAttributeNS(null,"font-weight",r.fontWeight);const ne=r.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;ne===i.TextRenderingMode.FILL||ne===i.TextRenderingMode.FILL_STROKE?(r.fillColor!==T.fillColor&&r.tspan.setAttributeNS(null,"fill",r.fillColor),r.fillAlpha<1&&r.tspan.setAttributeNS(null,"fill-opacity",r.fillAlpha)):r.tspan.setAttributeNS(null,"fill",r.textRenderingMode===i.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(ne===i.TextRenderingMode.STROKE||ne===i.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(r.tspan,1/(r.textMatrixScale||1));let le=r.textMatrix;0!==r.textRise&&(le=le.slice(),le[5]+=r.textRise),r.txtElement.setAttributeNS(null,"transform",`${m(le)} scale(${S(D)}, -1)`),r.txtElement.setAttributeNS(x,"xml:space","preserve"),r.txtElement.appendChild(r.tspan),r.txtgrp.appendChild(r.txtElement),this._ensureTransformGroup().appendChild(r.txtElement)}setLeadingMoveText(n,r){this.setLeading(-r),this.moveText(n,r)}addFontStyle(n){if(!n.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const r=y(n.data,n.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${n.loadedName}"; src: url(${r}); }\n`}setFont(n){const r=this.current,c=this.commonObjs.get(n[0]);let E=n[1];r.font=c,this.embedFonts&&!c.missingFile&&!this.embeddedFonts[c.loadedName]&&(this.addFontStyle(c),this.embeddedFonts[c.loadedName]=c),r.fontMatrix=c.fontMatrix||i.FONT_IDENTITY_MATRIX;let p="normal";c.black?p="900":c.bold&&(p="bold");const C=c.italic?"italic":"normal";E<0?(E=-E,r.fontDirection=-1):r.fontDirection=1,r.fontSize=E,r.fontFamily=c.loadedName,r.fontWeight=p,r.fontStyle=C,r.tspan=this.svgFactory.createElement("svg:tspan"),r.tspan.setAttributeNS(null,"y",S(-r.y)),r.xcoords=[],r.ycoords=[]}endText(){var n;const r=this.current;r.textRenderingMode&i.TextRenderingMode.ADD_TO_PATH_FLAG&&null!==(n=r.txtElement)&&void 0!==n&&n.hasChildNodes()&&(r.element=r.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(n){n>0&&(this.current.lineWidth=n)}setLineCap(n){this.current.lineCap=R[n]}setLineJoin(n){this.current.lineJoin=V[n]}setMiterLimit(n){this.current.miterLimit=n}setStrokeAlpha(n){this.current.strokeAlpha=n}setStrokeRGBColor(n,r,c){this.current.strokeColor=i.Util.makeHexColor(n,r,c)}setFillAlpha(n){this.current.fillAlpha=n}setFillRGBColor(n,r,c){this.current.fillColor=i.Util.makeHexColor(n,r,c),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(n){this.current.strokeColor=this._makeColorN_Pattern(n)}setFillColorN(n){this.current.fillColor=this._makeColorN_Pattern(n)}shadingFill(n){const r=this.viewport.width,c=this.viewport.height,E=i.Util.inverseTransform(this.transformMatrix),p=i.Util.applyTransform([0,0],E),C=i.Util.applyTransform([0,c],E),f=i.Util.applyTransform([r,0],E),h=i.Util.applyTransform([r,c],E),D=Math.min(p[0],C[0],f[0],h[0]),P=Math.min(p[1],C[1],f[1],h[1]),N=Math.max(p[0],C[0],f[0],h[0]),q=Math.max(p[1],C[1],f[1],h[1]),K=this.svgFactory.createElement("svg:rect");K.setAttributeNS(null,"x",D),K.setAttributeNS(null,"y",P),K.setAttributeNS(null,"width",N-D),K.setAttributeNS(null,"height",q-P),K.setAttributeNS(null,"fill",this._makeShadingPattern(n)),this.current.fillAlpha<1&&K.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(K)}_makeColorN_Pattern(n){return"TilingPattern"===n[0]?this._makeTilingPattern(n):this._makeShadingPattern(n)}_makeTilingPattern(n){const r=n[1],c=n[2],E=n[3]||i.IDENTITY_MATRIX,[p,C,f,h]=n[4],D=n[5],P=n[6],N=n[7],q="shading"+b++,[K,ee,ne,le]=i.Util.normalizeRect([...i.Util.applyTransform([p,C],E),...i.Util.applyTransform([f,h],E)]),[J,F]=i.Util.singularValueDecompose2dScale(E),s=D*J,e=P*F,t=this.svgFactory.createElement("svg:pattern");t.setAttributeNS(null,"id",q),t.setAttributeNS(null,"patternUnits","userSpaceOnUse"),t.setAttributeNS(null,"width",s),t.setAttributeNS(null,"height",e),t.setAttributeNS(null,"x",`${K}`),t.setAttributeNS(null,"y",`${ee}`);const a=this.svg,u=this.transformMatrix,d=this.current.fillColor,l=this.current.strokeColor,w=this.svgFactory.create(ne-K,le-ee);if(this.svg=w,this.transformMatrix=E,2===N){const Q=i.Util.makeHexColor(...r);this.current.fillColor=Q,this.current.strokeColor=Q}return this.executeOpTree(this.convertOpList(c)),this.svg=a,this.transformMatrix=u,this.current.fillColor=d,this.current.strokeColor=l,t.appendChild(w.childNodes[0]),this.defs.appendChild(t),`url(#${q})`}_makeShadingPattern(n){switch("string"==typeof n&&(n=this.objs.get(n)),n[0]){case"RadialAxial":const r="shading"+b++,c=n[3];let E;switch(n[1]){case"axial":const p=n[4],C=n[5];E=this.svgFactory.createElement("svg:linearGradient"),E.setAttributeNS(null,"id",r),E.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),E.setAttributeNS(null,"x1",p[0]),E.setAttributeNS(null,"y1",p[1]),E.setAttributeNS(null,"x2",C[0]),E.setAttributeNS(null,"y2",C[1]);break;case"radial":const f=n[4],h=n[5],D=n[6],P=n[7];E=this.svgFactory.createElement("svg:radialGradient"),E.setAttributeNS(null,"id",r),E.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),E.setAttributeNS(null,"cx",h[0]),E.setAttributeNS(null,"cy",h[1]),E.setAttributeNS(null,"r",P),E.setAttributeNS(null,"fx",f[0]),E.setAttributeNS(null,"fy",f[1]),E.setAttributeNS(null,"fr",D);break;default:throw new Error(`Unknown RadialAxial type: ${n[1]}`)}for(const p of c){const C=this.svgFactory.createElement("svg:stop");C.setAttributeNS(null,"offset",p[0]),C.setAttributeNS(null,"stop-color",p[1]),E.appendChild(C)}return this.defs.appendChild(E),`url(#${r})`;case"Mesh":return(0,i.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${n[0]}`)}}setDash(n,r){this.current.dashArray=n,this.current.dashPhase=r}constructPath(n,r){const c=this.current;let E=c.x,p=c.y,C=[],f=0;for(const h of n)switch(0|h){case i.OPS.rectangle:E=r[f++],p=r[f++];const N=E+r[f++],q=p+r[f++];C.push("M",S(E),S(p),"L",S(N),S(p),"L",S(N),S(q),"L",S(E),S(q),"Z");break;case i.OPS.moveTo:E=r[f++],p=r[f++],C.push("M",S(E),S(p));break;case i.OPS.lineTo:E=r[f++],p=r[f++],C.push("L",S(E),S(p));break;case i.OPS.curveTo:E=r[f+4],p=r[f+5],C.push("C",S(r[f]),S(r[f+1]),S(r[f+2]),S(r[f+3]),S(E),S(p)),f+=6;break;case i.OPS.curveTo2:C.push("C",S(E),S(p),S(r[f]),S(r[f+1]),S(r[f+2]),S(r[f+3])),E=r[f+2],p=r[f+3],f+=4;break;case i.OPS.curveTo3:E=r[f+2],p=r[f+3],C.push("C",S(r[f]),S(r[f+1]),S(E),S(p),S(E),S(p)),f+=4;break;case i.OPS.closePath:C.push("Z")}C=C.join(" "),c.path&&n.length>0&&n[0]!==i.OPS.rectangle&&n[0]!==i.OPS.moveTo?C=c.path.getAttributeNS(null,"d")+C:(c.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(c.path)),c.path.setAttributeNS(null,"d",C),c.path.setAttributeNS(null,"fill","none"),c.element=c.path,c.setCurrentPoint(E,p)}endPath(){const n=this.current;if(n.path=null,!this.pendingClip)return;if(!n.element)return void(this.pendingClip=null);const r="clippath"+M++,c=this.svgFactory.createElement("svg:clipPath");c.setAttributeNS(null,"id",r),c.setAttributeNS(null,"transform",m(this.transformMatrix));const E=n.element.cloneNode(!0);if(E.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,c.appendChild(E),this.defs.appendChild(c),n.activeClipUrl){n.clipGroup=null;for(const p of this.extraStack)p.clipGroup=null;c.setAttributeNS(null,"clip-path",n.activeClipUrl)}n.activeClipUrl=`url(#${r})`,this.tgrp=null}clip(n){this.pendingClip=n}closePath(){const n=this.current;if(n.path){const r=`${n.path.getAttributeNS(null,"d")}Z`;n.path.setAttributeNS(null,"d",r)}}setLeading(n){this.current.leading=-n}setTextRise(n){this.current.textRise=n}setTextRenderingMode(n){this.current.textRenderingMode=n}setHScale(n){this.current.textHScale=n/100}setRenderingIntent(n){}setFlatness(n){}setGState(n){for(const[r,c]of n)switch(r){case"LW":this.setLineWidth(c);break;case"LC":this.setLineCap(c);break;case"LJ":this.setLineJoin(c);break;case"ML":this.setMiterLimit(c);break;case"D":this.setDash(c[0],c[1]);break;case"RI":this.setRenderingIntent(c);break;case"FL":this.setFlatness(c);break;case"Font":this.setFont(c);break;case"CA":this.setStrokeAlpha(c);break;case"ca":this.setFillAlpha(c);break;default:(0,i.warn)(`Unimplemented graphic state operator ${r}`)}}fill(){const n=this.current;n.element&&(n.element.setAttributeNS(null,"fill",n.fillColor),n.element.setAttributeNS(null,"fill-opacity",n.fillAlpha),this.endPath())}stroke(){const n=this.current;n.element&&(this._setStrokeAttributes(n.element),n.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(n,r=1){const c=this.current;let E=c.dashArray;1!==r&&E.length>0&&(E=E.map(function(p){return r*p})),n.setAttributeNS(null,"stroke",c.strokeColor),n.setAttributeNS(null,"stroke-opacity",c.strokeAlpha),n.setAttributeNS(null,"stroke-miterlimit",S(c.miterLimit)),n.setAttributeNS(null,"stroke-linecap",c.lineCap),n.setAttributeNS(null,"stroke-linejoin",c.lineJoin),n.setAttributeNS(null,"stroke-width",S(r*c.lineWidth)+"px"),n.setAttributeNS(null,"stroke-dasharray",E.map(S).join(" ")),n.setAttributeNS(null,"stroke-dashoffset",S(r*c.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const n=this.svgFactory.createElement("svg:rect");n.setAttributeNS(null,"x","0"),n.setAttributeNS(null,"y","0"),n.setAttributeNS(null,"width","1px"),n.setAttributeNS(null,"height","1px"),n.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(n)}paintImageXObject(n){const r=n.startsWith("g_")?this.commonObjs.get(n):this.objs.get(n);r?this.paintInlineImageXObject(r):(0,i.warn)(`Dependent image with object ID ${n} is not ready yet`)}paintInlineImageXObject(n,r){const c=n.width,E=n.height,p=I(n,this.forceDataSchema,!!r),C=this.svgFactory.createElement("svg:rect");C.setAttributeNS(null,"x","0"),C.setAttributeNS(null,"y","0"),C.setAttributeNS(null,"width",S(c)),C.setAttributeNS(null,"height",S(E)),this.current.element=C,this.clip("nonzero");const f=this.svgFactory.createElement("svg:image");f.setAttributeNS(A,"xlink:href",p),f.setAttributeNS(null,"x","0"),f.setAttributeNS(null,"y",S(-E)),f.setAttributeNS(null,"width",S(c)+"px"),f.setAttributeNS(null,"height",S(E)+"px"),f.setAttributeNS(null,"transform",`scale(${S(1/c)} ${S(-1/E)})`),r?r.appendChild(f):this._ensureTransformGroup().appendChild(f)}paintImageMaskXObject(n){const r=this.current,c=n.width,E=n.height,p=r.fillColor;r.maskId="mask"+_++;const C=this.svgFactory.createElement("svg:mask");C.setAttributeNS(null,"id",r.maskId);const f=this.svgFactory.createElement("svg:rect");f.setAttributeNS(null,"x","0"),f.setAttributeNS(null,"y","0"),f.setAttributeNS(null,"width",S(c)),f.setAttributeNS(null,"height",S(E)),f.setAttributeNS(null,"fill",p),f.setAttributeNS(null,"mask",`url(#${r.maskId})`),this.defs.appendChild(C),this._ensureTransformGroup().appendChild(f),this.paintInlineImageXObject(n,C)}paintFormXObjectBegin(n,r){if(Array.isArray(n)&&6===n.length&&this.transform(n[0],n[1],n[2],n[3],n[4],n[5]),r){const c=r[2]-r[0],E=r[3]-r[1],p=this.svgFactory.createElement("svg:rect");p.setAttributeNS(null,"x",r[0]),p.setAttributeNS(null,"y",r[1]),p.setAttributeNS(null,"width",S(c)),p.setAttributeNS(null,"height",S(E)),this.current.element=p,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(n){const r=this.svgFactory.create(n.width,n.height),c=this.svgFactory.createElement("svg:defs");r.appendChild(c),this.defs=c;const E=this.svgFactory.createElement("svg:g");return E.setAttributeNS(null,"transform",m(n.transform)),r.appendChild(E),this.svg=E,r}_ensureClipGroup(){if(!this.current.clipGroup){const n=this.svgFactory.createElement("svg:g");n.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(n),this.current.clipGroup=n}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",m(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(H,o,v)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFNodeStream=void 0;var i=v(1),B=v(26);const L=__webpack_require__(172),G=__webpack_require__(2001),T=__webpack_require__(3779),x=__webpack_require__(6558),A=/^file:\/\/\/[a-zA-Z]:\//;o.PDFNodeStream=class V{constructor(b){this.source=b,this.url=function R(_){const b=x.parse(_);return"file:"===b.protocol||b.host?b:/^[a-z]:[/\\]/i.test(_)?x.parse(`file:///${_}`):(b.host||(b.protocol="file:"),b)}(b.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&b.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var b,n;return null!==(b=null===(n=this._fullRequestReader)||void 0===n?void 0:n._loaded)&&void 0!==b?b:0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new m(this):new g(this),this._fullRequestReader}getRangeReader(b,n){if(n<=this._progressiveDataLength)return null;const r=this.isFsUrl?new M(this,b,n):new S(this,b,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(b){this._fullRequestReader&&this._fullRequestReader.cancel(b);for(const n of this._rangeRequestReaders.slice(0))n.cancel(b)}};class y{constructor(b){this._url=b.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=b.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=(0,i.createPromiseCapability)(),this._headersCapability=(0,i.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var b=this;return _asyncToGenerator(function*(){if(yield b._readCapability.promise,b._done)return{value:void 0,done:!0};if(b._storedError)throw b._storedError;const n=b._readableStream.read();return null===n?(b._readCapability=(0,i.createPromiseCapability)(),b.read()):(b._loaded+=n.length,b.onProgress&&b.onProgress({loaded:b._loaded,total:b._contentLength}),{value:new Uint8Array(n).buffer,done:!1})})()}cancel(b){this._readableStream?this._readableStream.destroy(b):this._error(b)}_error(b){this._storedError=b,this._readCapability.resolve()}_setReadableStream(b){this._readableStream=b,b.on("readable",()=>{this._readCapability.resolve()}),b.on("end",()=>{b.destroy(),this._done=!0,this._readCapability.resolve()}),b.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new i.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class I{constructor(b){this._url=b.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,i.createPromiseCapability)(),this._isStreamingSupported=!b.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var b=this;return _asyncToGenerator(function*(){if(yield b._readCapability.promise,b._done)return{value:void 0,done:!0};if(b._storedError)throw b._storedError;const n=b._readableStream.read();return null===n?(b._readCapability=(0,i.createPromiseCapability)(),b.read()):(b._loaded+=n.length,b.onProgress&&b.onProgress({loaded:b._loaded}),{value:new Uint8Array(n).buffer,done:!1})})()}cancel(b){this._readableStream?this._readableStream.destroy(b):this._error(b)}_error(b){this._storedError=b,this._readCapability.resolve()}_setReadableStream(b){this._readableStream=b,b.on("readable",()=>{this._readCapability.resolve()}),b.on("end",()=>{b.destroy(),this._done=!0,this._readCapability.resolve()}),b.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function W(_,b){return{protocol:_.protocol,auth:_.auth,host:_.hostname,port:_.port,path:_.path,method:"GET",headers:b}}class g extends y{constructor(b){super(b);const n=r=>{if(404===r.statusCode){const C=new i.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=C,void this._headersCapability.reject(C)}this._headersCapability.resolve(),this._setReadableStream(r);const c=C=>this._readableStream.headers[C.toLowerCase()],{allowRangeRequests:E,suggestedLength:p}=(0,B.validateRangeRequestCapabilities)({getResponseHeader:c,isHttp:b.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=E,this._contentLength=p||this._contentLength,this._filename=(0,B.extractFilenameFromHeader)(c)};this._request=null,this._request="http:"===this._url.protocol?G.request(W(this._url,b.httpHeaders),n):T.request(W(this._url,b.httpHeaders),n),this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class S extends I{constructor(b,n,r){super(b),this._httpHeaders={};for(const E in b.httpHeaders){const p=b.httpHeaders[E];typeof p>"u"||(this._httpHeaders[E]=p)}this._httpHeaders.Range=`bytes=${n}-${r-1}`;const c=E=>{if(404!==E.statusCode)this._setReadableStream(E);else{const p=new i.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=p}};this._request=null,this._request="http:"===this._url.protocol?G.request(W(this._url,this._httpHeaders),c):T.request(W(this._url,this._httpHeaders),c),this._request.on("error",E=>{this._storedError=E}),this._request.end()}}class m extends y{constructor(b){super(b);let n=decodeURIComponent(this._url.path);A.test(this._url.href)&&(n=n.replace(/^\//,"")),L.lstat(n,(r,c)=>{if(r)return"ENOENT"===r.code&&(r=new i.MissingPDFException(`Missing PDF "${n}".`)),this._storedError=r,void this._headersCapability.reject(r);this._contentLength=c.size,this._setReadableStream(L.createReadStream(n)),this._headersCapability.resolve()})}}class M extends I{constructor(b,n,r){super(b);let c=decodeURIComponent(this._url.path);A.test(this._url.href)&&(c=c.replace(/^\//,"")),this._setReadableStream(L.createReadStream(c,{start:n,end:r-1}))}}},(H,o,v)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createResponseStatusError=function x(R,V){return 404===R||0===R&&V.startsWith("file:")?new i.MissingPDFException('Missing PDF "'+V+'".'):new i.UnexpectedResponseException(`Unexpected server response (${R}) while retrieving PDF "${V}".`,R)},o.extractFilenameFromHeader=function T(R){const V=R("Content-Disposition");if(V){let y=(0,B.getFilenameFromContentDispositionHeader)(V);if(y.includes("%"))try{y=decodeURIComponent(y)}catch(I){}if((0,L.isPdfFile)(y))return y}return null},o.validateRangeRequestCapabilities=function G({getResponseHeader:R,isHttp:V,rangeChunkSize:y,disableRange:I}){const W={allowRangeRequests:!1,suggestedLength:void 0},g=parseInt(R("Content-Length"),10);return!Number.isInteger(g)||(W.suggestedLength=g,g<=2*y)||I||!V||"bytes"!==R("Accept-Ranges")||"identity"!==(R("Content-Encoding")||"identity")||(W.allowRangeRequests=!0),W},o.validateResponseStatus=function A(R){return 200===R||206===R};var i=v(1),B=v(27),L=v(5)},(H,o,v)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getFilenameFromContentDispositionHeader=function B(L){let G=!0,T=x("filename\\*","i").exec(L);if(T){T=T[1];let g=y(T);return g=unescape(g),g=I(g),g=W(g),R(g)}if(T=function V(g){const S=[];let m;const M=x("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(m=M.exec(g));){let[,b,n,r]=m;if(b=parseInt(b,10),b in S){if(0===b)break}else S[b]=[n,r]}const _=[];for(let b=0;b<S.length&&b in S;++b){let[n,r]=S[b];r=y(r),n&&(r=unescape(r),0===b&&(r=I(r))),_.push(r)}return _.join("")}(L),T)return R(W(T));if(T=x("filename","i").exec(L),T){T=T[1];let g=y(T);return g=W(g),R(g)}function x(g,S){return new RegExp("(?:^|;)\\s*"+g+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',S)}function A(g,S){if(g){if(!/^[\x00-\xFF]+$/.test(S))return S;try{const m=new TextDecoder(g,{fatal:!0}),M=(0,i.stringToBytes)(S);S=m.decode(M),G=!1}catch(m){}}return S}function R(g){return G&&/[\x80-\xff]/.test(g)&&(g=A("utf-8",g),G&&(g=A("iso-8859-1",g))),g}function y(g){if(g.startsWith('"')){const S=g.slice(1).split('\\"');for(let m=0;m<S.length;++m){const M=S[m].indexOf('"');-1!==M&&(S[m]=S[m].slice(0,M),S.length=m+1),S[m]=S[m].replace(/\\(.)/g,"$1")}g=S.join('"')}return g}function I(g){const S=g.indexOf("'");return-1===S?g:A(g.slice(0,S),g.slice(S+1).replace(/^[^']*'/,""))}function W(g){return!g.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(g)?g:g.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(S,m,M,_){if("q"===M||"Q"===M)return A(m,_=(_=_.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(b,n){return String.fromCharCode(parseInt(n,16))}));try{_=atob(_)}catch(b){}return A(m,_)})}return""};var i=v(1)},(H,o,v)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFNetworkStream=void 0;var i=v(1),B=v(26);class x{constructor(I,W={}){this.url=I,this.isHttp=/^https?:/i.test(I),this.httpHeaders=this.isHttp&&W.httpHeaders||Object.create(null),this.withCredentials=W.withCredentials||!1,this.getXhr=W.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(I,W,g){const S={begin:I,end:W};for(const m in g)S[m]=g[m];return this.request(S)}requestFull(I){return this.request(I)}request(I){const W=this.getXhr(),g=this.currXhrId++,S=this.pendingRequests[g]={xhr:W};W.open("GET",this.url),W.withCredentials=this.withCredentials;for(const m in this.httpHeaders){const M=this.httpHeaders[m];typeof M>"u"||W.setRequestHeader(m,M)}return this.isHttp&&"begin"in I&&"end"in I?(W.setRequestHeader("Range",`bytes=${I.begin}-${I.end-1}`),S.expectedStatus=206):S.expectedStatus=200,W.responseType="arraybuffer",I.onError&&(W.onerror=function(m){I.onError(W.status)}),W.onreadystatechange=this.onStateChange.bind(this,g),W.onprogress=this.onProgress.bind(this,g),S.onHeadersReceived=I.onHeadersReceived,S.onDone=I.onDone,S.onError=I.onError,S.onProgress=I.onProgress,W.send(null),g}onProgress(I,W){var g;const S=this.pendingRequests[I];S&&(null===(g=S.onProgress)||void 0===g||g.call(S,W))}onStateChange(I,W){const g=this.pendingRequests[I];if(!g)return;const S=g.xhr;if(S.readyState>=2&&g.onHeadersReceived&&(g.onHeadersReceived(),delete g.onHeadersReceived),4!==S.readyState||!(I in this.pendingRequests))return;var m;if(delete this.pendingRequests[I],0===S.status&&this.isHttp)return void(null===(m=g.onError)||void 0===m||m.call(g,S.status));const M=S.status||200;var b;if((200!==M||206!==g.expectedStatus)&&M!==g.expectedStatus)return void(null===(b=g.onError)||void 0===b||b.call(g,S.status));const n=function T(y){const I=y.response;return"string"!=typeof I?I:(0,i.stringToBytes)(I).buffer}(S);if(206===M){const c=S.getResponseHeader("Content-Range"),E=/bytes (\d+)-(\d+)\/(\d+)/.exec(c);g.onDone({begin:parseInt(E[1],10),chunk:n})}else if(n)g.onDone({begin:0,chunk:n});else{var r;null===(r=g.onError)||void 0===r||r.call(g,S.status)}}getRequestXhr(I){return this.pendingRequests[I].xhr}isPendingRequest(I){return I in this.pendingRequests}abortRequest(I){const W=this.pendingRequests[I].xhr;delete this.pendingRequests[I],W.abort()}}o.PDFNetworkStream=class A{constructor(I){this._source=I,this._manager=new x(I.url,{httpHeaders:I.httpHeaders,withCredentials:I.withCredentials}),this._rangeChunkSize=I.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(I){const W=this._rangeRequestReaders.indexOf(I);W>=0&&this._rangeRequestReaders.splice(W,1)}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new R(this._manager,this._source),this._fullRequestReader}getRangeReader(I,W){const g=new V(this._manager,I,W);return g.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(g),g}cancelAllRequests(I){var W;null===(W=this._fullRequestReader)||void 0===W||W.cancel(I);for(const g of this._rangeRequestReaders.slice(0))g.cancel(I)}};class R{constructor(I,W){this._manager=I;const g={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=W.url,this._fullRequestId=I.requestFull(g),this._headersReceivedCapability=(0,i.createPromiseCapability)(),this._disableRange=W.disableRange||!1,this._contentLength=W.length,this._rangeChunkSize=W.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const I=this._fullRequestId,W=this._manager.getRequestXhr(I),g=M=>W.getResponseHeader(M),{allowRangeRequests:S,suggestedLength:m}=(0,B.validateRangeRequestCapabilities)({getResponseHeader:g,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});S&&(this._isRangeSupported=!0),this._contentLength=m||this._contentLength,this._filename=(0,B.extractFilenameFromHeader)(g),this._isRangeSupported&&this._manager.abortRequest(I),this._headersReceivedCapability.resolve()}_onDone(I){if(I&&(this._requests.length>0?this._requests.shift().resolve({value:I.chunk,done:!1}):this._cachedChunks.push(I.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const W of this._requests)W.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(I){this._storedError=(0,B.createResponseStatusError)(I,this._url),this._headersReceivedCapability.reject(this._storedError);for(const W of this._requests)W.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(I){var W;null===(W=this.onProgress)||void 0===W||W.call(this,{loaded:I.loaded,total:I.lengthComputable?I.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var I=this;return _asyncToGenerator(function*(){if(I._storedError)throw I._storedError;if(I._cachedChunks.length>0)return{value:I._cachedChunks.shift(),done:!1};if(I._done)return{value:void 0,done:!0};const W=(0,i.createPromiseCapability)();return I._requests.push(W),W.promise})()}cancel(I){this._done=!0,this._headersReceivedCapability.reject(I);for(const W of this._requests)W.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class V{constructor(I,W,g){this._manager=I;const S={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=I.url,this._requestId=I.requestRange(W,g,S),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var I;null===(I=this.onClosed)||void 0===I||I.call(this,this)}_onDone(I){const W=I.chunk;this._requests.length>0?this._requests.shift().resolve({value:W,done:!1}):this._queuedChunk=W,this._done=!0;for(const g of this._requests)g.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(I){this._storedError=(0,B.createResponseStatusError)(I,this._url);for(const W of this._requests)W.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(I){var W;this.isStreamingSupported||null===(W=this.onProgress)||void 0===W||W.call(this,{loaded:I.loaded})}get isStreamingSupported(){return!1}read(){var I=this;return _asyncToGenerator(function*(){if(I._storedError)throw I._storedError;if(null!==I._queuedChunk){const g=I._queuedChunk;return I._queuedChunk=null,{value:g,done:!1}}if(I._done)return{value:void 0,done:!0};const W=(0,i.createPromiseCapability)();return I._requests.push(W),W.promise})()}cancel(I){this._done=!0;for(const W of this._requests)W.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(H,o,v)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFFetchStream=void 0;var i=v(1),B=v(26);function L(R,V,y){return{method:"GET",headers:R,signal:null==y?void 0:y.signal,mode:"cors",credentials:V?"include":"same-origin",redirect:"follow"}}function G(R){const V=new Headers;for(const y in R){const I=R[y];typeof I>"u"||V.append(y,I)}return V}o.PDFFetchStream=class T{constructor(V){this.source=V,this.isHttp=/^https?:/i.test(V.url),this.httpHeaders=this.isHttp&&V.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var V,y;return null!==(V=null===(y=this._fullRequestReader)||void 0===y?void 0:y._loaded)&&void 0!==V?V:0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new x(this),this._fullRequestReader}getRangeReader(V,y){if(y<=this._progressiveDataLength)return null;const I=new A(this,V,y);return this._rangeRequestReaders.push(I),I}cancelAllRequests(V){this._fullRequestReader&&this._fullRequestReader.cancel(V);for(const y of this._rangeRequestReaders.slice(0))y.cancel(V)}};class x{constructor(V){this._stream=V,this._reader=null,this._loaded=0,this._filename=null;const y=V.source;this._withCredentials=y.withCredentials||!1,this._contentLength=y.length,this._headersCapability=(0,i.createPromiseCapability)(),this._disableRange=y.disableRange||!1,this._rangeChunkSize=y.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!y.disableStream,this._isRangeSupported=!y.disableRange,this._headers=G(this._stream.httpHeaders);const I=y.url;fetch(I,L(this._headers,this._withCredentials,this._abortController)).then(W=>{if(!(0,B.validateResponseStatus)(W.status))throw(0,B.createResponseStatusError)(W.status,I);this._reader=W.body.getReader(),this._headersCapability.resolve();const g=M=>W.headers.get(M),{allowRangeRequests:S,suggestedLength:m}=(0,B.validateRangeRequestCapabilities)({getResponseHeader:g,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=S,this._contentLength=m||this._contentLength,this._filename=(0,B.extractFilenameFromHeader)(g),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new i.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var V=this;return _asyncToGenerator(function*(){yield V._headersCapability.promise;const{value:y,done:I}=yield V._reader.read();return I?{value:y,done:I}:(V._loaded+=y.byteLength,V.onProgress&&V.onProgress({loaded:V._loaded,total:V._contentLength}),{value:new Uint8Array(y).buffer,done:!1})})()}cancel(V){this._reader&&this._reader.cancel(V),this._abortController&&this._abortController.abort()}}class A{constructor(V,y,I){this._stream=V,this._reader=null,this._loaded=0;const W=V.source;this._withCredentials=W.withCredentials||!1,this._readCapability=(0,i.createPromiseCapability)(),this._isStreamingSupported=!W.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=G(this._stream.httpHeaders),this._headers.append("Range",`bytes=${y}-${I-1}`);const g=W.url;fetch(g,L(this._headers,this._withCredentials,this._abortController)).then(S=>{if(!(0,B.validateResponseStatus)(S.status))throw(0,B.createResponseStatusError)(S.status,g);this._readCapability.resolve(),this._reader=S.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var V=this;return _asyncToGenerator(function*(){yield V._readCapability.promise;const{value:y,done:I}=yield V._reader.read();return I?{value:y,done:I}:(V._loaded+=y.byteLength,V.onProgress&&V.onProgress({loaded:V._loaded}),{value:new Uint8Array(y).buffer,done:!1})})()}cancel(V){this._reader&&this._reader.cancel(V),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(H){var o=__webpack_module_cache__[H];if(void 0!==o)return o.exports;var v=__webpack_module_cache__[H]={exports:{}};return __webpack_modules__[H](v,v.exports,__w_pdfjs_require__),v.exports}var __webpack_exports__={};return(()=>{var H=__webpack_exports__;Object.defineProperty(H,"__esModule",{value:!0}),Object.defineProperty(H,"AnnotationLayer",{enumerable:!0,get:function(){return B.AnnotationLayer}}),Object.defineProperty(H,"AnnotationMode",{enumerable:!0,get:function(){return o.AnnotationMode}}),Object.defineProperty(H,"CMapCompressionType",{enumerable:!0,get:function(){return o.CMapCompressionType}}),Object.defineProperty(H,"GlobalWorkerOptions",{enumerable:!0,get:function(){return L.GlobalWorkerOptions}}),Object.defineProperty(H,"InvalidPDFException",{enumerable:!0,get:function(){return o.InvalidPDFException}}),Object.defineProperty(H,"LoopbackPort",{enumerable:!0,get:function(){return v.LoopbackPort}}),Object.defineProperty(H,"MissingPDFException",{enumerable:!0,get:function(){return o.MissingPDFException}}),Object.defineProperty(H,"OPS",{enumerable:!0,get:function(){return o.OPS}}),Object.defineProperty(H,"PDFDataRangeTransport",{enumerable:!0,get:function(){return v.PDFDataRangeTransport}}),Object.defineProperty(H,"PDFDateString",{enumerable:!0,get:function(){return i.PDFDateString}}),Object.defineProperty(H,"PDFWorker",{enumerable:!0,get:function(){return v.PDFWorker}}),Object.defineProperty(H,"PasswordResponses",{enumerable:!0,get:function(){return o.PasswordResponses}}),Object.defineProperty(H,"PermissionFlag",{enumerable:!0,get:function(){return o.PermissionFlag}}),Object.defineProperty(H,"PixelsPerInch",{enumerable:!0,get:function(){return i.PixelsPerInch}}),Object.defineProperty(H,"RenderingCancelledException",{enumerable:!0,get:function(){return i.RenderingCancelledException}}),Object.defineProperty(H,"SVGGraphics",{enumerable:!0,get:function(){return x.SVGGraphics}}),Object.defineProperty(H,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return o.UNSUPPORTED_FEATURES}}),Object.defineProperty(H,"UnexpectedResponseException",{enumerable:!0,get:function(){return o.UnexpectedResponseException}}),Object.defineProperty(H,"Util",{enumerable:!0,get:function(){return o.Util}}),Object.defineProperty(H,"VerbosityLevel",{enumerable:!0,get:function(){return o.VerbosityLevel}}),Object.defineProperty(H,"XfaLayer",{enumerable:!0,get:function(){return A.XfaLayer}}),Object.defineProperty(H,"build",{enumerable:!0,get:function(){return v.build}}),Object.defineProperty(H,"createPromiseCapability",{enumerable:!0,get:function(){return o.createPromiseCapability}}),Object.defineProperty(H,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return o.createValidAbsoluteUrl}}),Object.defineProperty(H,"getDocument",{enumerable:!0,get:function(){return v.getDocument}}),Object.defineProperty(H,"getFilenameFromUrl",{enumerable:!0,get:function(){return i.getFilenameFromUrl}}),Object.defineProperty(H,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return i.getPdfFilenameFromUrl}}),Object.defineProperty(H,"getXfaPageViewport",{enumerable:!0,get:function(){return i.getXfaPageViewport}}),Object.defineProperty(H,"isPdfFile",{enumerable:!0,get:function(){return i.isPdfFile}}),Object.defineProperty(H,"loadScript",{enumerable:!0,get:function(){return i.loadScript}}),Object.defineProperty(H,"renderTextLayer",{enumerable:!0,get:function(){return T.renderTextLayer}}),Object.defineProperty(H,"shadow",{enumerable:!0,get:function(){return o.shadow}}),Object.defineProperty(H,"version",{enumerable:!0,get:function(){return v.version}});var o=__w_pdfjs_require__(1),v=__w_pdfjs_require__(4),i=__w_pdfjs_require__(5),B=__w_pdfjs_require__(20),L=__w_pdfjs_require__(13),G=__w_pdfjs_require__(3),T=__w_pdfjs_require__(23),x=__w_pdfjs_require__(24),A=__w_pdfjs_require__(22);if(G.isNodeJS){const{PDFNodeStream:y}=__w_pdfjs_require__(25);(0,v.setPDFNetworkStreamFactory)(I=>new y(I))}else{const{PDFNetworkStream:y}=__w_pdfjs_require__(28),{PDFFetchStream:I}=__w_pdfjs_require__(29);(0,v.setPDFNetworkStreamFactory)(W=>(0,i.isValidFetchUrl)(W.url)?new I(W):new y(W))}})(),__webpack_exports__})(),module.exports=v()},2813:function(H,o,v){var y,i=v(5661).default,B=v(1860).default,L=v(9159).default,G=v(5764).default,T=v(4467).default,x=v(468).default,A=v(7156).default;y=()=>(()=>{"use strict";var R=[,(W,g,S)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.DefaultXfaLayerFactory=g.DefaultTextLayerFactory=g.DefaultStructTreeLayerFactory=g.DefaultAnnotationLayerFactory=void 0;var m=S(2),M=S(4),_=S(5),b=S(7),n=S(8),r=S(9);g.DefaultAnnotationLayerFactory=class c{createAnnotationLayerBuilder(h,D,P=null,N="",q=!0,K=M.NullL10n,ee=!1,ne=null,le=null,J=null,F=null){return new m.AnnotationLayerBuilder({pageDiv:h,pdfPage:D,imageResourcesPath:N,renderForms:q,linkService:new _.SimpleLinkService,l10n:K,annotationStorage:P,enableScripting:ee,hasJSActionsPromise:ne,fieldObjectsPromise:J,mouseState:le,annotationCanvasMap:F})}},g.DefaultStructTreeLayerFactory=class E{createStructTreeLayerBuilder(h){return new b.StructTreeLayerBuilder({pdfPage:h})}},g.DefaultTextLayerFactory=class p{createTextLayerBuilder(h,D,P,N=!1,q,K){return new n.TextLayerBuilder({textLayerDiv:h,pageIndex:D,viewport:P,enhanceTextSelection:N,eventBus:q,highlighter:K})}},g.DefaultXfaLayerFactory=class C{createXfaLayerBuilder(h,D,P=null,N=null){return new r.XfaLayerBuilder({pageDiv:h,pdfPage:D,annotationStorage:P,linkService:new _.SimpleLinkService,xfaHtml:N})}}},(W,g,S)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.AnnotationLayerBuilder=void 0;var m=S(3),M=S(4);g.AnnotationLayerBuilder=class _{constructor({pageDiv:n,pdfPage:r,linkService:c,downloadManager:E,annotationStorage:p=null,imageResourcesPath:C="",renderForms:f=!0,l10n:h=M.NullL10n,enableScripting:D=!1,hasJSActionsPromise:P=null,fieldObjectsPromise:N=null,mouseState:q=null,annotationCanvasMap:K=null}){this.pageDiv=n,this.pdfPage=r,this.linkService=c,this.downloadManager=E,this.imageResourcesPath=C,this.renderForms=f,this.l10n=h,this.annotationStorage=p,this.enableScripting=D,this._hasJSActionsPromise=P,this._fieldObjectsPromise=N,this._mouseState=q,this._annotationCanvasMap=K,this.div=null,this._cancelled=!1}render(n,r="display"){var c=this;return A(function*(){const[E,p=!1,C=null]=yield Promise.all([c.pdfPage.getAnnotations({intent:r}),c._hasJSActionsPromise,c._fieldObjectsPromise]);if(c._cancelled||0===E.length)return;const f={viewport:n.clone({dontFlip:!0}),div:c.div,annotations:E,page:c.pdfPage,imageResourcesPath:c.imageResourcesPath,renderForms:c.renderForms,linkService:c.linkService,downloadManager:c.downloadManager,annotationStorage:c.annotationStorage,enableScripting:c.enableScripting,hasJSActions:p,fieldObjects:C,mouseState:c._mouseState,annotationCanvasMap:c._annotationCanvasMap};c.div?m.AnnotationLayer.update(f):(c.div=document.createElement("div"),c.div.className="annotationLayer",c.pageDiv.appendChild(c.div),f.div=c.div,m.AnnotationLayer.render(f),c.l10n.translate(c.div))})()}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},W=>{let g;g=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:v(6036),W.exports=g},(W,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.NullL10n=void 0,g.fixupLangCode=function _(r){return M[null==r?void 0:r.toLowerCase()]||r},g.getL10nFallback=m;const S={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function m(r,c){switch(r){case"find_match_count":r=`find_match_count[${1===c.total?"one":"other"}]`;break;case"find_match_count_limit":r=`find_match_count_limit[${1===c.limit?"one":"other"}]`}return S[r]||""}const M={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};g.NullL10n={getLanguage:()=>A(function*(){return"en-us"})(),getDirection:()=>A(function*(){return"ltr"})(),get:(r,c=null,E=m(r,c))=>A(function*(){return function b(r,c){return c?r.replace(/\{\{\s*(\w+)\s*\}\}/g,(E,p)=>p in c?c[p]:"{{"+p+"}}"):r}(E,c)})(),translate:r=>A(function*(){})()}},(W,g,S)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.SimpleLinkService=g.PDFLinkService=g.LinkTarget=void 0;var m=S(6);const _={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function b(f,{url:h,target:D,rel:P,enabled:N=!0}={}){if(!h||"string"!=typeof h)throw new Error('A valid "url" parameter must provided.');const q=(0,m.removeNullCharacters)(h);N?f.href=f.title=q:(f.href="",f.title=`Disabled: ${q}`,f.onclick=()=>!1);let K="";switch(D){case _.NONE:break;case _.SELF:K="_self";break;case _.BLANK:K="_blank";break;case _.PARENT:K="_parent";break;case _.TOP:K="_top"}f.target=K,f.rel="string"==typeof P?P:"noopener noreferrer nofollow"}g.LinkTarget=_;var n=new WeakMap,r=new WeakSet;class c{constructor({eventBus:h,externalLinkTarget:D=null,externalLinkRel:P=null,ignoreDestinationZoom:N=!1}={}){B(this,r),L(this,n,{writable:!0,value:new Map}),this.eventBus=h,this.externalLinkTarget=D,this.externalLinkRel=P,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=N,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(h,D=null){this.baseUrl=D,this.pdfDocument=h,x(this,n).clear()}setViewer(h){this.pdfViewer=h}setHistory(h){this.pdfHistory=h}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(h){this.pdfViewer.currentPageNumber=h}get rotation(){return this.pdfViewer.pagesRotation}set rotation(h){this.pdfViewer.pagesRotation=h}goToDestination(h){var D=this;return A(function*(){if(!D.pdfDocument)return;let P,N;"string"==typeof h?(P=h,N=yield D.pdfDocument.getDestination(h)):(P=null,N=yield h),Array.isArray(N)?T(D,r,E).call(D,h,P,N):console.error(`PDFLinkService.goToDestination: "${N}" is not a valid destination array, for dest="${h}".`)})()}goToPage(h){if(!this.pdfDocument)return;const D="string"==typeof h&&this.pdfViewer.pageLabelToPageNumber(h)||0|h;Number.isInteger(D)&&D>0&&D<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(D)),this.pdfViewer.scrollPageIntoView({pageNumber:D})):console.error(`PDFLinkService.goToPage: "${h}" is not a valid page.`)}addLinkAttributes(h,D,P=!1){b(h,{url:D,target:P?_.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(h){if("string"==typeof h){if(h.length>0)return this.getAnchorUrl("#"+escape(h))}else if(Array.isArray(h)){const D=JSON.stringify(h);if(D.length>0)return this.getAnchorUrl("#"+escape(D))}return this.getAnchorUrl("")}getAnchorUrl(h){return(this.baseUrl||"")+h}setHash(h){if(!this.pdfDocument)return;let D,P;if(h.includes("=")){const N=(0,m.parseQueryString)(h);if(N.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:N.get("search").replace(/"/g,""),phraseSearch:"true"===N.get("phrase")}),N.has("page")&&(D=0|N.get("page")||1),N.has("zoom")){const q=N.get("zoom").split(","),K=q[0],ee=parseFloat(K);K.includes("Fit")?"Fit"===K||"FitB"===K?P=[null,{name:K}]:"FitH"===K||"FitBH"===K||"FitV"===K||"FitBV"===K?P=[null,{name:K},q.length>1?0|q[1]:null]:"FitR"===K?5!==q.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):P=[null,{name:K},0|q[1],0|q[2],0|q[3],0|q[4]]:console.error(`PDFLinkService.setHash: "${K}" is not a valid zoom value.`):P=[null,{name:"XYZ"},q.length>1?0|q[1]:null,q.length>2?0|q[2]:null,ee?ee/100:K]}P?this.pdfViewer.scrollPageIntoView({pageNumber:D||this.page,destArray:P,allowNegativeOffset:!0}):D&&(this.page=D),N.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:N.get("pagemode")}),N.has("nameddest")&&this.goToDestination(N.get("nameddest"))}else{P=unescape(h);try{P=JSON.parse(P),Array.isArray(P)||(P=P.toString())}catch(N){}if("string"==typeof P||G(c,c,p).call(c,P))return void this.goToDestination(P);console.error(`PDFLinkService.setHash: "${unescape(h)}" is not a valid destination.`)}}executeNamedAction(h){var D,P;switch(h){case"GoBack":null===(D=this.pdfHistory)||void 0===D||D.back();break;case"GoForward":null===(P=this.pdfHistory)||void 0===P||P.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:h})}cachePageRef(h,D){if(!D)return;const P=0===D.gen?`${D.num}R`:`${D.num}R${D.gen}`;x(this,n).set(P,h)}_cachedPageNumber(h){if(!h)return null;const D=0===h.gen?`${h.num}R`:`${h.num}R${h.gen}`;return x(this,n).get(D)||null}isPageVisible(h){return this.pdfViewer.isPageVisible(h)}isPageCached(h){return this.pdfViewer.isPageCached(h)}}function E(f,h=null,D){const P=D[0];let N;if("object"==typeof P&&null!==P){if(N=this._cachedPageNumber(P),!N)return void this.pdfDocument.getPageIndex(P).then(q=>{this.cachePageRef(q+1,P),T(this,r,E).call(this,f,h,D)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${P}" is not a valid page reference, for dest="${f}".`)})}else{if(!Number.isInteger(P))return void console.error(`PDFLinkService.#goToDestinationHelper: "${P}" is not a valid destination reference, for dest="${f}".`);N=P+1}!N||N<1||N>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${N}" is not a valid page number, for dest="${f}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:h,explicitDest:D,pageNumber:N})),this.pdfViewer.scrollPageIntoView({pageNumber:N,destArray:D,ignoreDestinationZoom:this._ignoreDestinationZoom}))}function p(f){if(!Array.isArray(f))return!1;const h=f.length;if(h<2)return!1;const D=f[0];if(!("object"==typeof D&&Number.isInteger(D.num)&&Number.isInteger(D.gen)||Number.isInteger(D)&&D>=0))return!1;const P=f[1];if("object"!=typeof P||"string"!=typeof P.name)return!1;let N=!0;switch(P.name){case"XYZ":if(5!==h)return!1;break;case"Fit":case"FitB":return 2===h;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==h)return!1;break;case"FitR":if(6!==h)return!1;N=!1;break;default:return!1}for(let q=2;q<h;q++){const K=f[q];if(!("number"==typeof K||N&&null===K))return!1}return!0}g.PDFLinkService=c,g.SimpleLinkService=class C{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(h){}get rotation(){return 0}set rotation(h){}goToDestination(h){return A(function*(){})()}goToPage(h){}addLinkAttributes(h,D,P=!1){b(h,{url:D,enabled:this.externalLinkEnabled})}getDestinationHash(h){return"#"}getAnchorUrl(h){return"#"}setHash(h){}executeNamedAction(h){}cachePageRef(h,D){}isPageVisible(h){return!0}isPageCached(h){return!0}}},(W,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.animationStarted=g.VERTICAL_PADDING=g.UNKNOWN_SCALE=g.TextLayerMode=g.SpreadMode=g.SidebarView=g.ScrollMode=g.SCROLLBAR_PADDING=g.RenderingStates=g.RendererType=g.ProgressBar=g.PresentationModeState=g.OutputScale=g.MIN_SCALE=g.MAX_SCALE=g.MAX_AUTO_SCALE=g.DEFAULT_SCALE_VALUE=g.DEFAULT_SCALE_DELTA=g.DEFAULT_SCALE=g.AutoPrintRegExp=void 0,g.apiPageLayoutToViewerModes=function Fe(oe){let fe=P.VERTICAL,_e=N.NONE;switch(oe){case"SinglePage":fe=P.PAGE;break;case"OneColumn":break;case"TwoPageLeft":fe=P.PAGE;case"TwoColumnLeft":_e=N.ODD;break;case"TwoPageRight":fe=P.PAGE;case"TwoColumnRight":_e=N.EVEN}return{scrollMode:fe,spreadMode:_e}},g.apiPageModeToSidebarView=function Ae(oe){switch(oe){case"UseNone":return f.NONE;case"UseThumbs":return f.THUMBS;case"UseOutlines":return f.OUTLINE;case"UseAttachments":return f.ATTACHMENTS;case"UseOC":return f.LAYERS}return f.NONE},g.approximateFraction=function t(oe){if(Math.floor(oe)===oe)return[oe,1];const fe=1/oe;if(fe>8)return[1,8];if(Math.floor(fe)===fe)return[1,fe];const ie=oe>1?fe:oe;let z,k=0,Y=1,ae=1,de=1;for(;;){const O=k+ae,j=Y+de;if(j>8)break;ie<=O/j?(ae=O,de=j):(k=O,Y=j)}return z=ie-k/Y<ae/de-ie?ie===oe?[k,Y]:[Y,k]:ie===oe?[ae,de]:[de,ae],z},g.backtrackBeforeAllVisibleElements=d,g.binarySearchFirstItem=e,g.getActiveOrFocusedElement=function Se(){let oe=document,fe=oe.activeElement||oe.querySelector(":focus");for(;null!==(_e=fe)&&void 0!==_e&&_e.shadowRoot;){var _e;oe=fe.shadowRoot,fe=oe.activeElement||oe.querySelector(":focus")}return fe},g.getPageSizeInches=function u({view:oe,userUnit:fe,rotate:_e}){const[ie,k,Y,ae]=oe,de=_e%180!=0,z=(Y-ie)/72*fe,O=(ae-k)/72*fe;return{width:de?O:z,height:de?z:O}},g.getVisibleElements=function l({scrollEl:oe,views:fe,sortByVisibility:_e=!1,horizontal:ie=!1,rtl:k=!1}){const Y=oe.scrollTop,ae=Y+oe.clientHeight,de=oe.scrollLeft,z=de+oe.clientWidth,re=[],be=new Set,we=fe.length;let se=e(fe,ie?function j(pe){const Pe=pe.div,ye=Pe.offsetLeft+Pe.clientLeft;return k?ye<z:ye+Pe.clientWidth>de}:function O(pe){const Pe=pe.div;return Pe.offsetTop+Pe.clientTop+Pe.clientHeight>Y});se>0&&se<we&&!ie&&(se=d(se,fe,Y));let ce=ie?z:-1;for(let pe=se;pe<we;pe++){const Pe=fe[pe],ye=Pe.div,De=ye.offsetLeft+ye.clientLeft,xe=ye.offsetTop+ye.clientTop,Te=ye.clientWidth,Me=ye.clientHeight,Oe=De+Te,Be=xe+Me;if(-1===ce)Be>=ae&&(ce=Be);else if((ie?De:xe)>ce)break;if(Be<=Y||xe>=ae||Oe<=de||De>=z)continue;const Re=Math.max(0,Y-xe)+Math.max(0,Be-ae),Ie=(Te-(Math.max(0,de-De)+Math.max(0,Oe-z)))/Te;re.push({id:Pe.id,x:De,y:xe,view:Pe,percent:(Me-Re)/Me*Ie*100|0,widthPercent:100*Ie|0}),be.add(Pe.id)}const Ce=re[0],ve=re[re.length-1];return _e&&re.sort(function(pe,Pe){const ye=pe.percent-Pe.percent;return Math.abs(ye)>.001?-ye:pe.id-Pe.id}),{first:Ce,last:ve,views:re,ids:be}},g.isPortraitOrientation=function te(oe){return oe.width<=oe.height},g.isValidRotation=function $(oe){return Number.isInteger(oe)&&oe%90==0},g.isValidScrollMode=function X(oe){return Number.isInteger(oe)&&Object.values(P).includes(oe)&&oe!==P.UNKNOWN},g.isValidSpreadMode=function Z(oe){return Number.isInteger(oe)&&Object.values(N).includes(oe)&&oe!==N.UNKNOWN},g.noContextMenuHandler=function w(oe){oe.preventDefault()},g.normalizeWheelEventDelta=function U(oe){let fe=Q(oe);return 0===oe.deltaMode?fe/=900:1===oe.deltaMode&&(fe/=30),fe},g.normalizeWheelEventDirection=Q,g.parseQueryString=function le(oe){const fe=new Map;for(const[_e,ie]of new URLSearchParams(oe))fe.set(_e.toLowerCase(),ie);return fe},g.removeNullCharacters=function s(oe,fe=!1){return"string"!=typeof oe?(console.error("The argument must be a string."),oe):(fe&&(oe=oe.replace(F," ")),oe.replace(J,""))},g.roundToDivide=function a(oe,fe){const _e=oe%fe;return 0===_e?oe:Math.round(oe-_e+fe)},g.scrollIntoView=function ee(oe,fe,_e=!1){let ie=oe.offsetParent;if(!ie)return void console.error("offsetParent is not set -- cannot scroll");let k=oe.offsetTop+oe.clientTop,Y=oe.offsetLeft+oe.clientLeft;for(;ie.clientHeight===ie.scrollHeight&&ie.clientWidth===ie.scrollWidth||_e&&(ie.classList.contains("markedContent")||"hidden"===getComputedStyle(ie).overflow);)if(k+=ie.offsetTop,Y+=ie.offsetLeft,ie=ie.offsetParent,!ie)return;fe&&(void 0!==fe.top&&(k+=fe.top),void 0!==fe.left&&(Y+=fe.left,ie.scrollLeft=Y)),ie.scrollTop=k},g.watchScroll=function ne(oe,fe){const _e=function(Y){k||(k=window.requestAnimationFrame(function(){k=null;const de=oe.scrollLeft,z=ie.lastX;de!==z&&(ie.right=de>z),ie.lastX=de;const O=oe.scrollTop,j=ie.lastY;O!==j&&(ie.down=O>j),ie.lastY=O,fe(ie)}))},ie={right:!0,down:!0,lastX:oe.scrollLeft,lastY:oe.scrollTop,_eventHandler:_e};let k=null;return oe.addEventListener("scroll",_e,!0),ie},g.DEFAULT_SCALE_VALUE="auto",g.DEFAULT_SCALE=1,g.DEFAULT_SCALE_DELTA=1.1,g.MIN_SCALE=.1,g.MAX_SCALE=10,g.UNKNOWN_SCALE=0,g.MAX_AUTO_SCALE=1.25,g.SCROLLBAR_PADDING=40,g.VERTICAL_PADDING=5,g.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},g.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const f={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};g.SidebarView=f,g.RendererType={CANVAS:"canvas",SVG:"svg"},g.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const P={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};g.ScrollMode=P;const N={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};g.SpreadMode=N,g.AutoPrintRegExp=/\bprint\s*\(/,g.OutputScale=class K{constructor(){const fe=window.devicePixelRatio||1;this.sx=fe,this.sy=fe}get scaled(){return 1!==this.sx||1!==this.sy}};const J=/\x00/g,F=/[\x01-\x1F]/g;function e(oe,fe,_e=0){let ie=_e,k=oe.length-1;if(k<0||!fe(oe[k]))return oe.length;if(fe(oe[ie]))return ie;for(;ie<k;){const Y=ie+k>>1;fe(oe[Y])?k=Y:ie=Y+1}return ie}function d(oe,fe,_e){if(oe<2)return oe;let ie=fe[oe].div,k=ie.offsetTop+ie.clientTop;k>=_e&&(ie=fe[oe-1].div,k=ie.offsetTop+ie.clientTop);for(let Y=oe-2;Y>=0&&(ie=fe[Y].div,!(ie.offsetTop+ie.clientTop+ie.clientHeight<=k));--Y)oe=Y;return oe}function Q(oe){let fe=Math.hypot(oe.deltaX,oe.deltaY);const _e=Math.atan2(oe.deltaY,oe.deltaX);return-.25*Math.PI<_e&&_e<.75*Math.PI&&(fe=-fe),fe}const he=new Promise(function(oe){window.requestAnimationFrame(oe)});g.animationStarted=he;var Ee=new WeakSet;function ue(){this._indeterminate?this.div.classList.add("indeterminate"):(this.div.classList.remove("indeterminate"),document.documentElement.style.setProperty("--progressBar-percent",`${this._percent}%`))}g.ProgressBar=class me{constructor(fe){if(B(this,Ee),arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");this.visible=!0,this.div=document.querySelector(fe+" .progress"),this.bar=this.div.parentNode,this.percent=0}get percent(){return this._percent}set percent(fe){this._indeterminate=isNaN(fe),this._percent=function ge(oe,fe,_e){return Math.min(Math.max(oe,fe),_e)}(fe,0,100),T(this,Ee,ue).call(this)}setWidth(fe){if(!fe)return;const ie=fe.parentNode.offsetWidth-fe.offsetWidth;ie>0&&document.documentElement.style.setProperty("--progressBar-end-offset",`${ie}px`)}hide(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(W,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.StructTreeLayerBuilder=void 0;const S={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},m=/^H(\d+)$/;g.StructTreeLayerBuilder=class M{constructor({pdfPage:b}){this.pdfPage=b}render(b){return this._walk(b)}_setAttributes(b,n){void 0!==b.alt&&n.setAttribute("aria-label",b.alt),void 0!==b.id&&n.setAttribute("aria-owns",b.id),void 0!==b.lang&&n.setAttribute("lang",b.lang)}_walk(b){if(!b)return null;const n=document.createElement("span");if("role"in b){const{role:r}=b,c=r.match(m);c?(n.setAttribute("role","heading"),n.setAttribute("aria-level",c[1])):S[r]&&n.setAttribute("role",S[r])}if(this._setAttributes(b,n),b.children)if(1===b.children.length&&"id"in b.children[0])this._setAttributes(b.children[0],n);else for(const r of b.children)n.appendChild(this._walk(r));return n}}},(W,g,S)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.TextLayerBuilder=void 0;var m=S(3);g.TextLayerBuilder=class _{constructor({textLayerDiv:n,eventBus:r,pageIndex:c,viewport:E,highlighter:p=null,enhanceTextSelection:C=!1}){this.textLayerDiv=n,this.eventBus=r,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=c+1,this.viewport=E,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=p,this.enhanceTextSelection=C,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const n=document.createElement("div");n.className="endOfContent",this.textLayerDiv.appendChild(n)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(n=0){var r;if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,null===(r=this.highlighter)||void 0===r||r.setTextMapping(this.textDivs,this.textContentItemsStr);const c=document.createDocumentFragment();this.textLayerRenderTask=(0,m.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:c,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:n,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{var E;this.textLayerDiv.appendChild(c),this._finishRendering(),null===(E=this.highlighter)||void 0===E||E.enable()},function(E){})}cancel(){var n;this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),null===(n=this.highlighter)||void 0===n||n.disable()}setTextContentStream(n){this.cancel(),this.textContentStream=n}setTextContent(n){this.cancel(),this.textContent=n}_bindMouse(){const n=this.textLayerDiv;let r=null;n.addEventListener("mousedown",c=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(r&&(clearTimeout(r),r=null));const E=n.querySelector(".endOfContent");if(!E)return;let p=c.target!==n;if(p=p&&"none"!==window.getComputedStyle(E).getPropertyValue("-moz-user-select"),p){const C=n.getBoundingClientRect(),f=Math.max(0,(c.pageY-C.top)/C.height);E.style.top=(100*f).toFixed(2)+"%"}E.classList.add("active")}),n.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(r=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),r=null},300));const c=n.querySelector(".endOfContent");c&&(c.style.top="",c.classList.remove("active"))})}}},(W,g,S)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.XfaLayerBuilder=void 0;var m=S(3);g.XfaLayerBuilder=class M{constructor({pageDiv:b,pdfPage:n,annotationStorage:r=null,linkService:c,xfaHtml:E=null}){this.pageDiv=b,this.pdfPage=n,this.annotationStorage=r,this.linkService=c,this.xfaHtml=E,this.div=null,this._cancelled=!1}render(b,n="display"){if("print"===n){const r={viewport:b.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:n},c=document.createElement("div");this.pageDiv.appendChild(c),r.div=c;const E=m.XfaLayer.render(r);return Promise.resolve(E)}return this.pdfPage.getXfa().then(r=>{if(this._cancelled||!r)return{textDivs:[]};const c={viewport:b.clone({dontFlip:!0}),div:this.div,xfaHtml:r,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:n};return this.div?m.XfaLayer.update(c):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),c.div=this.div,m.XfaLayer.render(c))}).catch(r=>{console.error(r)})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},(W,g,S)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFViewer=g.PDFSinglePageViewer=void 0;var m=S(6),M=S(11);g.PDFViewer=class _ extends M.BaseViewer{},g.PDFSinglePageViewer=class b extends M.BaseViewer{_resetView(){super._resetView(),this._scrollMode=m.ScrollMode.PAGE,this._spreadMode=m.SpreadMode.NONE}set scrollMode(r){}_updateScrollMode(){}set spreadMode(r){}_updateSpreadMode(){}}},(W,g,S)=>{let m;Object.defineProperty(g,"__esModule",{value:!0}),g.PagesCountLimit=g.PDFPageViewBuffer=g.BaseViewer=void 0;var M=S(3),_=S(6),b=S(2),n=S(4),r=S(12),c=S(14),E=S(5),p=S(7),C=S(15),f=S(8),h=S(9);const P="enablePermissions",N={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};g.PagesCountLimit=N;var q=new WeakMap,K=new WeakMap,ee=new WeakSet;m=Symbol.iterator;class ne{constructor(k){B(this,ee),L(this,q,{writable:!0,value:new Set}),L(this,K,{writable:!0,value:0}),i(this,K,k)}push(k){const Y=x(this,q);Y.has(k)&&Y.delete(k),Y.add(k),Y.size>x(this,K)&&T(this,ee,le).call(this)}resize(k,Y=null){i(this,K,k);const ae=x(this,q);if(Y){const de=ae.size;let z=1;for(const O of ae)if(Y.has(O.id)&&(ae.delete(O),ae.add(O)),++z>de)break}for(;ae.size>x(this,K);)T(this,ee,le).call(this)}has(k){return x(this,q).has(k)}[m](){return x(this,q).keys()}}function le(){const ie=x(this,q).keys().next().value;null==ie||ie.destroy(),x(this,q).delete(ie)}g.PDFPageViewBuffer=ne;var J=new WeakMap,F=new WeakMap,s=new WeakMap,e=new WeakMap,t=new WeakMap,a=new WeakMap,u=new WeakMap,d=new WeakSet,l=new WeakSet,w=new WeakSet,Q=new WeakSet,U=new WeakSet,$=new WeakSet,X=new WeakSet,Z=new WeakSet,te=new WeakSet;class he{constructor(k){var Y,ae,de,z;if(B(this,te),B(this,Z),B(this,X),B(this,$),B(this,U),B(this,Q),B(this,w),B(this,l),B(this,d),L(this,J,{writable:!0,value:null}),L(this,F,{writable:!0,value:M.AnnotationMode.ENABLE_FORMS}),L(this,s,{writable:!0,value:null}),L(this,e,{writable:!0,value:!1}),L(this,t,{writable:!0,value:0}),L(this,a,{writable:!0,value:null}),L(this,u,{writable:!0,value:null}),this.constructor===he)throw new Error("Cannot initialize BaseViewer.");const O="2.14.305";if(M.version!==O)throw new Error(`The API version "${M.version}" does not match the Viewer version "${O}".`);if(this.container=k.container,this.viewer=k.viewer||k.container.firstElementChild,"DIV"!==(null===(Y=this.container)||void 0===Y?void 0:Y.tagName.toUpperCase())||"DIV"!==(null===(ae=this.viewer)||void 0===ae?void 0:ae.tagName.toUpperCase()))throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=k.eventBus,this.linkService=k.linkService||new E.SimpleLinkService,this.downloadManager=k.downloadManager||null,this.findController=k.findController||null,this._scriptingManager=k.scriptingManager||null,this.removePageBorders=k.removePageBorders||!1,this.textLayerMode=null!==(de=k.textLayerMode)&&void 0!==de?de:_.TextLayerMode.ENABLE,i(this,F,null!==(z=k.annotationMode)&&void 0!==z?z:M.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=k.imageResourcesPath||"",this.enablePrintAutoRotate=k.enablePrintAutoRotate||!1,this.renderer=k.renderer||_.RendererType.CANVAS,this.useOnlyCssZoom=k.useOnlyCssZoom||!1,this.maxCanvasPixels=k.maxCanvasPixels,this.l10n=k.l10n||n.NullL10n,i(this,e,k.enablePermissions||!1),this.pageColors=k.pageColors||null,k.pageColors&&(!CSS.supports("color",k.pageColors.background)||!CSS.supports("color",k.pageColors.foreground))&&((k.pageColors.background||k.pageColors.foreground)&&console.warn("Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!k.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new c.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=k.renderingQueue,this._doc=document.documentElement,this.scroll=(0,_.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=_.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss(),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(k){return this._pages[k]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(k){return null==k?void 0:k.pdfPage})}get renderForms(){return x(this,F)===M.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(k){if(!Number.isInteger(k))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(k,!0)||console.error(`currentPageNumber: "${k}" is not a valid page.`))}_setCurrentPageNumber(k,Y=!1){var ae,de;if(this._currentPageNumber===k)return Y&&T(this,$,Fe).call(this),!0;if(!(0<k&&k<=this.pagesCount))return!1;const z=this._currentPageNumber;return this._currentPageNumber=k,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:k,pageLabel:null!==(ae=null===(de=this._pageLabels)||void 0===de?void 0:de[k-1])&&void 0!==ae?ae:null,previous:z}),Y&&T(this,$,Fe).call(this),!0}get currentPageLabel(){var k,Y;return null!==(k=null===(Y=this._pageLabels)||void 0===Y?void 0:Y[this._currentPageNumber-1])&&void 0!==k?k:null}set currentPageLabel(k){if(!this.pdfDocument)return;let Y=0|k;if(this._pageLabels){const ae=this._pageLabels.indexOf(k);ae>=0&&(Y=ae+1)}this._setCurrentPageNumber(Y,!0)||console.error(`currentPageLabel: "${k}" is not a valid page.`)}get currentScale(){return this._currentScale!==_.UNKNOWN_SCALE?this._currentScale:_.DEFAULT_SCALE}set currentScale(k){if(isNaN(k))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(k,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(k){this.pdfDocument&&this._setScale(k,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(k){if(!(0,_.isValidRotation)(k))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((k%=360)<0&&(k+=360),this._pagesRotation===k))return;this._pagesRotation=k;const Y=this._currentPageNumber,ae={rotation:k};for(const de of this._pages)de.update(ae);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:k,pageNumber:Y}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(k){var Y=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=k,!k)return;const ae=k.isPureXfa,de=k.numPages,z=k.getPage(1),O=k.getOptionalContentConfig(),j=x(this,e)?k.getPermissions():Promise.resolve();if(de>N.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const re=this._scrollMode=_.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:re})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:de})},()=>{}),this._onBeforeDraw=re=>{const be=this._pages[re.pageNumber-1];be&&x(this,J).push(be)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=re=>{re.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:re.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,x(this,u)&&(document.removeEventListener("visibilitychange",x(this,u)),i(this,u,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([z,j]).then(([re,be])=>{if(k!==this.pdfDocument)return;this._firstPageCapability.resolve(re),this._optionalContentConfigPromise=O,T(this,d,ge).call(this,be);const we=this._scrollMode===_.ScrollMode.PAGE?null:this.viewer,se=this.currentScale,ce=re.getViewport({scale:se*M.PixelsPerInch.PDF_TO_CSS_UNITS}),Ce=this.textLayerMode===_.TextLayerMode.DISABLE||ae?null:this,ve=x(this,F)!==M.AnnotationMode.DISABLE?this:null,pe=ae?this:null;for(let ye=1;ye<=de;++ye){const De=new r.PDFPageView({container:we,eventBus:this.eventBus,id:ye,scale:se,defaultViewport:ce.clone(),optionalContentConfigPromise:O,renderingQueue:this.renderingQueue,textLayerFactory:Ce,textLayerMode:this.textLayerMode,annotationLayerFactory:ve,annotationMode:x(this,F),xfaLayerFactory:pe,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(De)}const Pe=this._pages[0];Pe&&(Pe.setPdfPage(re),this.linkService.cachePageRef(1,re.ref)),this._scrollMode===_.ScrollMode.PAGE?T(this,w,me).call(this):this._spreadMode!==_.SpreadMode.NONE&&this._updateSpreadMode(),T(this,l,Ee).call(this).then(A(function*(){if(Y.findController&&Y.findController.setDocument(k),Y._scriptingManager&&Y._scriptingManager.setDocument(k),k.loadingParams.disableAutoFetch||de>N.FORCE_LAZY_PAGE_INIT)return void Y._pagesCapability.resolve();let ye=de-1;if(ye<=0)Y._pagesCapability.resolve();else for(let De=2;De<=de;++De){const xe=k.getPage(De).then(Te=>{const Me=Y._pages[De-1];Me.pdfPage||Me.setPdfPage(Te),Y.linkService.cachePageRef(De,Te.ref),0==--ye&&Y._pagesCapability.resolve()},Te=>{console.error(`Unable to get page ${De} to initialize viewer`,Te),0==--ye&&Y._pagesCapability.resolve()});De%N.PAUSE_EAGER_PAGE_INIT==0&&(yield xe)}})),this.eventBus.dispatch("pagesinit",{source:this}),k.getMetadata().then(({info:ye})=>{k===this.pdfDocument&&ye.Language&&(this.viewer.lang=ye.Language)}),this.defaultRenderingQueue&&this.update()}).catch(re=>{console.error("Unable to initialize viewer",re),this._pagesCapability.reject(re)})}setPageLabels(k){if(this.pdfDocument){k?Array.isArray(k)&&this.pdfDocument.numPages===k.length?this._pageLabels=k:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let de=0,z=this._pages.length;de<z;de++){var Y,ae;this._pages[de].setPageLabel(null!==(Y=null===(ae=this._pageLabels)||void 0===ae?void 0:ae[de])&&void 0!==Y?Y:null)}}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=_.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,i(this,J,new ne(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,M.createPromiseCapability)(),this._onePageRenderedCapability=(0,M.createPromiseCapability)(),this._pagesCapability=(0,M.createPromiseCapability)(),this._scrollMode=_.ScrollMode.VERTICAL,this._previousScrollMode=_.ScrollMode.UNKNOWN,this._spreadMode=_.SpreadMode.NONE,i(this,a,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),x(this,u)&&(document.removeEventListener("visibilitychange",x(this,u)),i(this,u,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(P),null!==x(this,s)&&(i(this,F,x(this,s)),i(this,s,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_setScaleUpdatePages(k,Y,ae=!1,de=!1){if(this._currentScaleValue=Y.toString(),T(this,U,Se).call(this,k))return void(de&&this.eventBus.dispatch("scalechanging",{source:this,scale:k,presetValue:Y}));this._doc.style.setProperty("--zoom-factor",k);const z={scale:k};for(const O of this._pages)O.update(z);if(this._currentScale=k,!ae){let j,O=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(O=this._location.pageNumber,j=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:O,destArray:j,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:k,presetValue:de?Y:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==_.SpreadMode.NONE&&this._scrollMode!==_.ScrollMode.HORIZONTAL?2:1}_setScale(k,Y=!1){let ae=parseFloat(k);if(ae>0)this._setScaleUpdatePages(ae,k,Y,!1);else{const de=this._pages[this._currentPageNumber-1];if(!de)return;let z=_.SCROLLBAR_PADDING,O=_.VERTICAL_PADDING;this.isInPresentationMode?z=O=4:this.removePageBorders?z=O=0:this._scrollMode===_.ScrollMode.HORIZONTAL&&([z,O]=[O,z]);const j=(this.container.clientWidth-z)/de.width*de.scale/this._pageWidthScaleFactor,re=(this.container.clientHeight-O)/de.height*de.scale;switch(k){case"page-actual":ae=1;break;case"page-width":ae=j;break;case"page-height":ae=re;break;case"page-fit":ae=Math.min(j,re);break;case"auto":const be=(0,_.isPortraitOrientation)(de)?j:Math.min(re,j);ae=Math.min(_.MAX_AUTO_SCALE,be);break;default:return void console.error(`_setScale: "${k}" is an unknown zoom value.`)}this._setScaleUpdatePages(ae,k,Y,!0)}}pageLabelToPageNumber(k){if(!this._pageLabels)return null;const Y=this._pageLabels.indexOf(k);return Y<0?null:Y+1}scrollPageIntoView({pageNumber:k,destArray:Y=null,allowNegativeOffset:ae=!1,ignoreDestinationZoom:de=!1}){if(!this.pdfDocument)return;const z=Number.isInteger(k)&&this._pages[k-1];if(!z)return void console.error(`scrollPageIntoView: "${k}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!Y)return void this._setCurrentPageNumber(k,!0);let we,se,O=0,j=0,re=0,be=0;const ce=z.rotation%180!=0,Ce=(ce?z.height:z.width)/z.scale/M.PixelsPerInch.PDF_TO_CSS_UNITS,ve=(ce?z.width:z.height)/z.scale/M.PixelsPerInch.PDF_TO_CSS_UNITS;let pe=0;switch(Y[1].name){case"XYZ":O=Y[2],j=Y[3],pe=Y[4],O=null!==O?O:0,j=null!==j?j:ve;break;case"Fit":case"FitB":pe="page-fit";break;case"FitH":case"FitBH":j=Y[2],pe="page-width",null===j&&this._location?(O=this._location.left,j=this._location.top):("number"!=typeof j||j<0)&&(j=ve);break;case"FitV":case"FitBV":O=Y[2],re=Ce,be=ve,pe="page-height";break;case"FitR":O=Y[2],j=Y[3],re=Y[4]-O,be=Y[5]-j,we=(this.container.clientWidth-(this.removePageBorders?0:_.SCROLLBAR_PADDING))/re/M.PixelsPerInch.PDF_TO_CSS_UNITS,se=(this.container.clientHeight-(this.removePageBorders?0:_.VERTICAL_PADDING))/be/M.PixelsPerInch.PDF_TO_CSS_UNITS,pe=Math.min(Math.abs(we),Math.abs(se));break;default:return void console.error(`scrollPageIntoView: "${Y[1].name}" is not a valid destination type.`)}if(de||(pe&&pe!==this._currentScale?this.currentScaleValue=pe:this._currentScale===_.UNKNOWN_SCALE&&(this.currentScaleValue=_.DEFAULT_SCALE_VALUE)),"page-fit"===pe&&!Y[4])return void T(this,Q,ue).call(this,z);const Pe=[z.viewport.convertToViewportPoint(O,j),z.viewport.convertToViewportPoint(O+re,j+be)];let ye=Math.min(Pe[0][0],Pe[1][0]),De=Math.min(Pe[0][1],Pe[1][1]);ae||(ye=Math.max(ye,0),De=Math.max(De,0)),T(this,Q,ue).call(this,z,{left:ye,top:De})}_updateLocation(k){const Y=this._currentScale,ae=this._currentScaleValue,de=parseFloat(ae)===Y?Math.round(1e4*Y)/100:ae,z=k.id,j=this.container,re=this._pages[z-1].getPagePoint(j.scrollLeft-k.x,j.scrollTop-k.y),be=Math.round(re[0]),we=Math.round(re[1]);let se=`#page=${z}`;this.isInPresentationMode||(se+=`&zoom=${de},${be},${we}`),this._location={pageNumber:z,scale:de,top:we,left:be,rotation:this._pagesRotation,pdfOpenParams:se}}update(){const k=this._getVisiblePages(),Y=k.views,ae=Y.length;if(0===ae)return;const de=Math.max(10,2*ae+1);x(this,J).resize(de,k.ids),this.renderingQueue.renderHighestPriority(k);const z=this._spreadMode===_.SpreadMode.NONE&&(this._scrollMode===_.ScrollMode.PAGE||this._scrollMode===_.ScrollMode.VERTICAL),O=this._currentPageNumber;let j=!1;for(const re of Y){if(re.percent<100)break;if(re.id===O&&z){j=!0;break}}this._setCurrentPageNumber(j?O:Y[0].id),this._updateLocation(k.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(k){return this.container.contains(k)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===_.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===_.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const k=this._scrollMode===_.ScrollMode.PAGE?x(this,a).pages:this._pages,Y=this._scrollMode===_.ScrollMode.HORIZONTAL;return(0,_.getVisibleElements)({scrollEl:this.container,views:k,sortByVisibility:!0,horizontal:Y,rtl:Y&&this._isContainerRtl})}isPageVisible(k){return!!this.pdfDocument&&(Number.isInteger(k)&&k>0&&k<=this.pagesCount?this._getVisiblePages().ids.has(k):(console.error(`isPageVisible: "${k}" is not a valid page.`),!1))}isPageCached(k){if(!this.pdfDocument)return!1;if(!(Number.isInteger(k)&&k>0&&k<=this.pagesCount))return console.error(`isPageCached: "${k}" is not a valid page.`),!1;const Y=this._pages[k-1];return x(this,J).has(Y)}cleanup(){for(const k of this._pages)k.renderingState!==_.RenderingStates.FINISHED&&k.reset()}_cancelRendering(){for(const k of this._pages)k.cancelRendering()}forceRendering(k){const Y=k||this._getVisiblePages(),ae=T(this,Z,fe).call(this,Y),z=this.renderingQueue.getHighestPriority(Y,this._pages,ae,this._spreadMode!==_.SpreadMode.NONE&&this._scrollMode!==_.ScrollMode.HORIZONTAL);return T(this,te,_e).call(this,Y.ids),!!z&&(T(this,X,Ae).call(this,z).then(()=>{this.renderingQueue.renderView(z)}),!0)}createTextLayerBuilder(k,Y,ae,de=!1,z,O){return new f.TextLayerBuilder({textLayerDiv:k,eventBus:z,pageIndex:Y,viewport:ae,enhanceTextSelection:!this.isInPresentationMode&&de,highlighter:O})}createTextHighlighter(k,Y){return new C.TextHighlighter({eventBus:Y,pageIndex:k,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(k,Y,ae=null,de="",z=!0,O=n.NullL10n,j=null,re=null,be=null,we=null,se=null){var ce,Ce,ve,pe;return new b.AnnotationLayerBuilder({pageDiv:k,pdfPage:Y,annotationStorage:ae||(null===(ce=this.pdfDocument)||void 0===ce?void 0:ce.annotationStorage),imageResourcesPath:de,renderForms:z,linkService:this.linkService,downloadManager:this.downloadManager,l10n:O,enableScripting:null!=j?j:this.enableScripting,hasJSActionsPromise:re||(null===(Ce=this.pdfDocument)||void 0===Ce?void 0:Ce.hasJSActions()),fieldObjectsPromise:we||(null===(ve=this.pdfDocument)||void 0===ve?void 0:ve.getFieldObjects()),mouseState:be||(null===(pe=this._scriptingManager)||void 0===pe?void 0:pe.mouseState),annotationCanvasMap:se})}createXfaLayerBuilder(k,Y,ae=null){var de;return new h.XfaLayerBuilder({pageDiv:k,pdfPage:Y,annotationStorage:ae||(null===(de=this.pdfDocument)||void 0===de?void 0:de.annotationStorage),linkService:this.linkService})}createStructTreeLayerBuilder(k){return new p.StructTreeLayerBuilder({pdfPage:k})}get hasEqualPageSizes(){const k=this._pages[0];for(let Y=1,ae=this._pages.length;Y<ae;++Y){const de=this._pages[Y];if(de.width!==k.width||de.height!==k.height)return!1}return!0}getPagesOverview(){return this._pages.map(k=>{const Y=k.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,_.isPortraitOrientation)(Y)?{width:Y.width,height:Y.height,rotation:Y.rotation}:{width:Y.height,height:Y.width,rotation:(Y.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(k){if(!(k instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${k}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=k;const Y={optionalContentConfigPromise:k};for(const ae of this._pages)ae.update(Y);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:k})}get scrollMode(){return this._scrollMode}set scrollMode(k){if(this._scrollMode!==k){if(!(0,_.isValidScrollMode)(k))throw new Error(`Invalid scroll mode: ${k}`);this.pagesCount>N.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=k,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:k}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(k=null){const Y=this._scrollMode,ae=this.viewer;ae.classList.toggle("scrollHorizontal",Y===_.ScrollMode.HORIZONTAL),ae.classList.toggle("scrollWrapped",Y===_.ScrollMode.WRAPPED),this.pdfDocument&&k&&(Y===_.ScrollMode.PAGE?T(this,w,me).call(this):this._previousScrollMode===_.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(k,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(k){if(this._spreadMode!==k){if(!(0,_.isValidSpreadMode)(k))throw new Error(`Invalid spread mode: ${k}`);this._spreadMode=k,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:k}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(k=null){if(!this.pdfDocument)return;const Y=this.viewer,ae=this._pages;if(this._scrollMode===_.ScrollMode.PAGE)T(this,w,me).call(this);else if(Y.textContent="",this._spreadMode===_.SpreadMode.NONE)for(const de of this._pages)Y.appendChild(de.div);else{const de=this._spreadMode-1;let z=null;for(let O=0,j=ae.length;O<j;++O)null===z?(z=document.createElement("div"),z.className="spread",Y.appendChild(z)):O%2===de&&(z=z.cloneNode(!1),Y.appendChild(z)),z.appendChild(ae[O].div)}k&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(k,!0),this.update())}_getPageAdvance(k,Y=!1){switch(this._scrollMode){case _.ScrollMode.WRAPPED:{const{views:ae}=this._getVisiblePages(),de=new Map;for(const{id:z,y:O,percent:j,widthPercent:re}of ae){if(0===j||re<100)continue;let be=de.get(O);be||de.set(O,be||(be=[])),be.push(z)}for(const z of de.values()){const O=z.indexOf(k);if(-1===O)continue;const j=z.length;if(1===j)break;if(Y)for(let re=O-1,be=0;re>=be;re--){const se=z[re+1]-1;if(z[re]<se)return k-se}else for(let re=O+1,be=j;re<be;re++){const se=z[re-1]+1;if(z[re]>se)return se-k}if(Y){const re=z[0];if(re<k)return k-re+1}else{const re=z[j-1];if(re>k)return re-k+1}break}break}case _.ScrollMode.HORIZONTAL:break;case _.ScrollMode.PAGE:case _.ScrollMode.VERTICAL:{if(this._spreadMode===_.SpreadMode.NONE)break;const ae=this._spreadMode-1;if(Y&&k%2!==ae)break;if(!Y&&k%2===ae)break;const{views:de}=this._getVisiblePages(),z=Y?k-1:k+1;for(const{id:O,percent:j,widthPercent:re}of de)if(O===z){if(j>0&&100===re)return 2;break}break}}return 1}nextPage(){const k=this._currentPageNumber,Y=this.pagesCount;if(k>=Y)return!1;const ae=this._getPageAdvance(k,!1)||1;return this.currentPageNumber=Math.min(k+ae,Y),!0}previousPage(){const k=this._currentPageNumber;if(k<=1)return!1;const Y=this._getPageAdvance(k,!0)||1;return this.currentPageNumber=Math.max(k-Y,1),!0}increaseScale(k=1){let Y=this._currentScale;do{Y=(Y*_.DEFAULT_SCALE_DELTA).toFixed(2),Y=Math.ceil(10*Y)/10,Y=Math.min(_.MAX_SCALE,Y)}while(--k>0&&Y<_.MAX_SCALE);this.currentScaleValue=Y}decreaseScale(k=1){let Y=this._currentScale;do{Y=(Y/_.DEFAULT_SCALE_DELTA).toFixed(2),Y=Math.floor(10*Y)/10,Y=Math.max(_.MIN_SCALE,Y)}while(--k>0&&Y>_.MIN_SCALE);this.currentScaleValue=Y}updateContainerHeightCss(){const k=this.container.clientHeight;k!==x(this,t)&&(i(this,t,k),this._doc.style.setProperty("--viewer-container-height",`${k}px`))}}function ge(ie){ie&&(ie.includes(M.PermissionFlag.COPY)||this.viewer.classList.add(P),!ie.includes(M.PermissionFlag.MODIFY_ANNOTATIONS)&&!ie.includes(M.PermissionFlag.FILL_INTERACTIVE_FORMS)&&x(this,F)===M.AnnotationMode.ENABLE_FORMS&&(i(this,s,x(this,F)),i(this,F,M.AnnotationMode.ENABLE)))}function Ee(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const ie=new Promise(k=>{i(this,u,()=>{"hidden"===document.visibilityState&&(k(),document.removeEventListener("visibilitychange",x(this,u)),i(this,u,null))}),document.addEventListener("visibilitychange",x(this,u))});return Promise.race([this._onePageRenderedCapability.promise,ie])}function me(){if(this._scrollMode!==_.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const ie=this._currentPageNumber,k=x(this,a),Y=this.viewer;if(Y.textContent="",k.pages.length=0,this._spreadMode!==_.SpreadMode.NONE||this.isInPresentationMode){const ae=new Set,de=this._spreadMode-1;-1===de?ae.add(ie-1):ie%2!==de?(ae.add(ie-1),ae.add(ie)):(ae.add(ie-2),ae.add(ie-1));const z=document.createElement("div");if(z.className="spread",this.isInPresentationMode){const O=document.createElement("div");O.className="dummyPage",z.appendChild(O)}for(const O of ae){const j=this._pages[O];j&&(z.appendChild(j.div),k.pages.push(j))}Y.appendChild(z)}else{const ae=this._pages[ie-1];Y.appendChild(ae.div),k.pages.push(ae)}k.scrollDown=ie>=k.previousPageNumber,k.previousPageNumber=ie}function ue(ie,k=null){const{div:Y,id:ae}=ie;if(this._scrollMode===_.ScrollMode.PAGE&&(this._setCurrentPageNumber(ae),T(this,w,me).call(this),this.update()),!k&&!this.isInPresentationMode){const de=Y.offsetLeft+Y.clientLeft,z=de+Y.clientWidth,{scrollLeft:O,clientWidth:j}=this.container;(this._scrollMode===_.ScrollMode.HORIZONTAL||de<O||z>O+j)&&(k={left:0,top:0})}(0,_.scrollIntoView)(Y,k)}function Se(ie){return ie===this._currentScale||Math.abs(ie-this._currentScale)<1e-15}function Fe(){const ie=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),T(this,Q,ue).call(this,ie)}function Ae(ie){return oe.apply(this,arguments)}function oe(){return(oe=A(function*(ie){if(ie.pdfPage)return ie.pdfPage;try{var k,Y;const ae=yield this.pdfDocument.getPage(ie.id);return ie.pdfPage||ie.setPdfPage(ae),null!==(k=(Y=this.linkService)._cachedPageNumber)&&void 0!==k&&k.call(Y,ae.ref)||this.linkService.cachePageRef(ie.id,ae.ref),ae}catch(ae){return console.error("Unable to get page for page view",ae),null}})).apply(this,arguments)}function fe(ie){var k,Y;if(1===(null===(k=ie.first)||void 0===k?void 0:k.id))return!0;if((null===(Y=ie.last)||void 0===Y?void 0:Y.id)===this.pagesCount)return!1;switch(this._scrollMode){case _.ScrollMode.PAGE:return x(this,a).scrollDown;case _.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}function _e(ie){for(const k of ie){const Y=this._pages[k-1];null==Y||Y.toggleLoadingIconSpinner(!0)}for(const k of x(this,J))ie.has(k.id)||k.toggleLoadingIconSpinner(!1)}g.BaseViewer=he},(W,g,S)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFPageView=void 0;var m=S(3),M=S(6),_=S(13),b=S(4);const n=_.compatibilityParams.maxCanvasPixels||16777216;var r=new WeakMap;g.PDFPageView=class c{constructor(p){var C,f,h,D;L(this,r,{writable:!0,value:m.AnnotationMode.ENABLE_FORMS});const P=p.container,N=p.defaultViewport;this.id=p.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=p.scale||M.DEFAULT_SCALE,this.viewport=N,this.pdfPageRotate=N.rotation,this._optionalContentConfigPromise=p.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=null!==(C=p.textLayerMode)&&void 0!==C?C:M.TextLayerMode.ENABLE,i(this,r,null!==(f=p.annotationMode)&&void 0!==f?f:m.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=p.imageResourcesPath||"",this.useOnlyCssZoom=p.useOnlyCssZoom||!1,this.maxCanvasPixels=p.maxCanvasPixels||n,this.pageColors=p.pageColors||null,this.eventBus=p.eventBus,this.renderingQueue=p.renderingQueue,this.textLayerFactory=p.textLayerFactory,this.annotationLayerFactory=p.annotationLayerFactory,this.xfaLayerFactory=p.xfaLayerFactory,this.textHighlighter=null===(h=p.textHighlighterFactory)||void 0===h?void 0:h.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=p.structTreeLayerFactory,this.renderer=p.renderer||M.RendererType.CANVAS,this.l10n=p.l10n||b.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=M.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!(null!==(D=this.renderingQueue)&&void 0!==D&&D.hasViewer()),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const q=document.createElement("div");q.className="page",q.style.width=Math.floor(this.viewport.width)+"px",q.style.height=Math.floor(this.viewport.height)+"px",q.setAttribute("data-page-number",this.id),q.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(K=>{q.setAttribute("aria-label",K)}),this.div=q,null==P||P.appendChild(q)}setPdfPage(p){this.pdfPage=p,this.pdfPageRotate=p.rotate,this.viewport=p.getViewport({scale:this.scale*m.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var p=this;return A(function*(){let C=null;try{yield p.annotationLayer.render(p.viewport,"display")}catch(f){C=f}finally{p.eventBus.dispatch("annotationlayerrendered",{source:p,pageNumber:p.id,error:C})}})()}_renderXfaLayer(){var p=this;return A(function*(){let C=null;try{const f=yield p.xfaLayer.render(p.viewport,"display");p.textHighlighter&&p._buildXfaTextContentItems(f.textDivs)}catch(f){C=f}finally{p.eventBus.dispatch("xfalayerrendered",{source:p,pageNumber:p.id,error:C})}})()}_buildXfaTextContentItems(p){var C=this;return A(function*(){const f=yield C.pdfPage.getTextContent(),h=[];for(const D of f.items)h.push(D.str);C.textHighlighter.setTextMapping(p,h),C.textHighlighter.enable()})()}_resetZoomLayer(p=!1){if(!this.zoomLayer)return;const C=this.zoomLayer.firstChild;this.paintedViewportMap.delete(C),C.width=0,C.height=0,p&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:p=!1,keepAnnotationLayer:C=!1,keepXfaLayer:f=!1}={}){var h,D;this.cancelRendering({keepAnnotationLayer:C,keepXfaLayer:f}),this.renderingState=M.RenderingStates.INITIAL;const P=this.div;P.style.width=Math.floor(this.viewport.width)+"px",P.style.height=Math.floor(this.viewport.height)+"px";const N=P.childNodes,q=p&&this.zoomLayer||null,K=C&&(null===(h=this.annotationLayer)||void 0===h?void 0:h.div)||null,ee=f&&(null===(D=this.xfaLayer)||void 0===D?void 0:D.div)||null;for(let ne=N.length-1;ne>=0;ne--){const le=N[ne];switch(le){case q:case K:case ee:continue}le.remove()}P.removeAttribute("data-loaded"),K&&this.annotationLayer.hide(),ee&&this.xfaLayer.hide(),q||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(ne=>{var le;null===(le=this.loadingIconDiv)||void 0===le||le.setAttribute("aria-label",ne)}),P.appendChild(this.loadingIconDiv)}update({scale:p=0,rotation:C=null,optionalContentConfigPromise:f=null}){if(this.scale=p||this.scale,"number"==typeof C&&(this.rotation=C),f instanceof Promise&&(this._optionalContentConfigPromise=f),this.viewport=this.viewport.clone({scale:this.scale*m.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:P}=document.documentElement;P.setProperty("--zoom-factor",this.scale)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let D=!1;if(this.canvas&&this.maxCanvasPixels>0){const P=this.outputScale;(Math.floor(this.viewport.width)*P.sx|0)*(Math.floor(this.viewport.height)*P.sy|0)>this.maxCanvasPixels&&(D=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&D)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:p=!1,keepXfaLayer:C=!1}={}){var f;this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!p||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),!this.xfaLayer||C&&this.xfaLayer.div||(this.xfaLayer.cancel(),this.xfaLayer=null,null===(f=this.textHighlighter)||void 0===f||f.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:p,redrawAnnotationLayer:C=!1,redrawXfaLayer:f=!1}){const h=this.viewport.width,D=this.viewport.height,P=this.div;p.style.width=p.parentNode.style.width=P.style.width=Math.floor(h)+"px",p.style.height=p.parentNode.style.height=P.style.height=Math.floor(D)+"px";const N=this.viewport.rotation-this.paintedViewportMap.get(p).rotation,q=Math.abs(N);let K=1,ee=1;if((90===q||270===q)&&(K=D/h,ee=h/D),p.style.transform=`rotate(${N}deg) scale(${K}, ${ee})`,this.textLayer){const ne=this.textLayer.viewport,J=Math.abs(this.viewport.rotation-ne.rotation);let F=h/ne.width;(90===J||270===J)&&(F=h/ne.height);const s=this.textLayer.textLayerDiv;let e,t;switch(J){case 0:e=t=0;break;case 90:e=0,t="-"+s.style.height;break;case 180:e="-"+s.style.width,t="-"+s.style.height;break;case 270:e="-"+s.style.width,t=0;break;default:console.error("Bad rotation value.")}s.style.transform=`rotate(${J}deg) scale(${F}) translate(${e}, ${t})`,s.style.transformOrigin="0% 0%"}C&&this.annotationLayer&&this._renderAnnotationLayer(),f&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(p,C){return this.viewport.convertToPdfPoint(p,C)}toggleLoadingIconSpinner(p=!1){var C;null===(C=this.loadingIconDiv)||void 0===C||C.classList.toggle("notVisible",!p)}draw(){var p,C,f=this;this.renderingState!==M.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:h,pdfPage:D}=this;if(!D)return this.renderingState=M.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=M.RenderingStates.RUNNING;const P=document.createElement("div");P.style.width=h.style.width,P.style.height=h.style.height,P.classList.add("canvasWrapper"),null!==(p=this.annotationLayer)&&void 0!==p&&p.div?h.insertBefore(P,this.annotationLayer.div):h.appendChild(P);let N=null;if(this.textLayerMode!==M.TextLayerMode.DISABLE&&this.textLayerFactory){var q;const J=document.createElement("div");J.className="textLayer",J.style.width=P.style.width,J.style.height=P.style.height,null!==(q=this.annotationLayer)&&void 0!==q&&q.div?h.insertBefore(J,this.annotationLayer.div):h.appendChild(J),N=this.textLayerFactory.createTextLayerBuilder(J,this.id-1,this.viewport,this.textLayerMode===M.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=N,x(this,r)!==m.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(h,D,null,this.imageResourcesPath,x(this,r)===m.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap))),null!==(C=this.xfaLayer)&&void 0!==C&&C.div&&h.appendChild(this.xfaLayer.div);let K=null;this.renderingQueue&&(K=J=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=M.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=M.RenderingStates.RUNNING,J()});J()});const ee=function(){var J=A(function*(F=null){if(ne===f.paintTask&&(f.paintTask=null),F instanceof m.RenderingCancelledException)f._renderError=null;else if(f._renderError=F,f.renderingState=M.RenderingStates.FINISHED,f.loadingIconDiv&&(f.loadingIconDiv.remove(),delete f.loadingIconDiv),f._resetZoomLayer(!0),f.eventBus.dispatch("pagerendered",{source:f,pageNumber:f.id,cssTransform:!1,timestamp:performance.now(),error:f._renderError}),F)throw F});return function(){return J.apply(this,arguments)}}(),ne=this.renderer===M.RendererType.SVG?this.paintOnSvg(P):this.paintOnCanvas(P);ne.onRenderContinue=K,this.paintTask=ne;const le=ne.promise.then(()=>ee(null).then(()=>{if(N){const J=D.streamTextContent({includeMarkedContent:!0});N.setTextContentStream(J),N.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(J){return ee(J)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(h,D,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=J=>{J.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(F=>{if(!F||!this.canvas)return;const s=this.structTreeLayer.render(F);s.classList.add("structTree"),this.canvas.appendChild(s)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(D)),h.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),le}paintOnCanvas(p){const C=(0,m.createPromiseCapability)(),f={promise:C.promise,onRenderContinue(s){s()},cancel(){F.cancel()}},h=this.viewport,D=document.createElement("canvas");D.hidden=!0;let P=!0;const N=function(){P&&(D.hidden=!1,P=!1)};p.appendChild(D),this.canvas=D;const q=D.getContext("2d",{alpha:!1}),K=this.outputScale=new M.OutputScale;if(this.useOnlyCssZoom){const s=h.clone({scale:m.PixelsPerInch.PDF_TO_CSS_UNITS});K.sx*=s.width/h.width,K.sy*=s.height/h.height}if(this.maxCanvasPixels>0){const e=Math.sqrt(this.maxCanvasPixels/(h.width*h.height));K.sx>e||K.sy>e?(K.sx=e,K.sy=e,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const ee=(0,M.approximateFraction)(K.sx),ne=(0,M.approximateFraction)(K.sy);D.width=(0,M.roundToDivide)(h.width*K.sx,ee[0]),D.height=(0,M.roundToDivide)(h.height*K.sy,ne[0]),D.style.width=(0,M.roundToDivide)(h.width,ee[1])+"px",D.style.height=(0,M.roundToDivide)(h.height,ne[1])+"px",this.paintedViewportMap.set(D,h);const J={canvasContext:q,transform:K.scaled?[K.sx,0,0,K.sy,0,0]:null,viewport:this.viewport,annotationMode:x(this,r),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},F=this.pdfPage.render(J);return F.onContinue=function(s){N(),f.onRenderContinue?f.onRenderContinue(s):s()},F.promise.then(function(){N(),C.resolve()},function(s){N(),C.reject(s)}),f}paintOnSvg(p){let C=!1;const f=()=>{if(C)throw new m.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},h=this.pdfPage,D=this.viewport.clone({scale:m.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:h.getOperatorList({annotationMode:x(this,r)}).then(N=>(f(),new m.SVGGraphics(h.commonObjs,h.objs).getSVG(N,D).then(K=>{f(),this.svg=K,this.paintedViewportMap.set(K,D),K.style.width=p.style.width,K.style.height=p.style.height,this.renderingState=M.RenderingStates.FINISHED,p.appendChild(K)}))),onRenderContinue(N){N()},cancel(){C=!0}}}setPageLabel(p){this.pageLabel="string"==typeof p?p:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(W,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.compatibilityParams=g.OptionKind=g.AppOptions=void 0;const S=Object.create(null);g.compatibilityParams=S;{const n=navigator.userAgent||"",r=navigator.platform||"",c=navigator.maxTouchPoints||1,E=/Android/.test(n);(/\b(iPad|iPhone|iPod)(?=;)/.test(n)||"MacIntel"===r&&c>1||E)&&(S.maxCanvasPixels=5242880)}const m={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};g.OptionKind=m;const M={annotationMode:{value:2,kind:m.VIEWER+m.PREFERENCE},cursorToolOnLoad:{value:0,kind:m.VIEWER+m.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:m.VIEWER},defaultZoomValue:{value:"",kind:m.VIEWER+m.PREFERENCE},disableHistory:{value:!1,kind:m.VIEWER},disablePageLabels:{value:!1,kind:m.VIEWER+m.PREFERENCE},enablePermissions:{value:!1,kind:m.VIEWER+m.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:m.VIEWER+m.PREFERENCE},enableScripting:{value:!0,kind:m.VIEWER+m.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:m.VIEWER},externalLinkTarget:{value:0,kind:m.VIEWER+m.PREFERENCE},historyUpdateUrl:{value:!1,kind:m.VIEWER+m.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:m.VIEWER+m.PREFERENCE},imageResourcesPath:{value:"./images/",kind:m.VIEWER},maxCanvasPixels:{value:16777216,compatibility:S.maxCanvasPixels,kind:m.VIEWER},pageColorsBackground:{value:"Canvas",kind:m.VIEWER+m.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:m.VIEWER+m.PREFERENCE},pdfBugEnabled:{value:!1,kind:m.VIEWER+m.PREFERENCE},printResolution:{value:150,kind:m.VIEWER},renderer:{value:"canvas",kind:m.VIEWER},sidebarViewOnLoad:{value:-1,kind:m.VIEWER+m.PREFERENCE},scrollModeOnLoad:{value:-1,kind:m.VIEWER+m.PREFERENCE},spreadModeOnLoad:{value:-1,kind:m.VIEWER+m.PREFERENCE},textLayerMode:{value:1,kind:m.VIEWER+m.PREFERENCE},useOnlyCssZoom:{value:!1,kind:m.VIEWER+m.PREFERENCE},viewerCssTheme:{value:0,kind:m.VIEWER+m.PREFERENCE},viewOnLoad:{value:0,kind:m.VIEWER+m.PREFERENCE},cMapPacked:{value:!0,kind:m.API},cMapUrl:{value:"../web/cmaps/",kind:m.API},disableAutoFetch:{value:!1,kind:m.API+m.PREFERENCE},disableFontFace:{value:!1,kind:m.API+m.PREFERENCE},disableRange:{value:!1,kind:m.API+m.PREFERENCE},disableStream:{value:!1,kind:m.API+m.PREFERENCE},docBaseUrl:{value:"",kind:m.API},enableXfa:{value:!0,kind:m.API+m.PREFERENCE},fontExtraProperties:{value:!1,kind:m.API},isEvalSupported:{value:!0,kind:m.API},maxImageSize:{value:-1,kind:m.API},pdfBug:{value:!1,kind:m.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:m.API},verbosity:{value:1,kind:m.API},workerPort:{value:null,kind:m.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:m.WORKER}};M.disablePreferences={value:!1,kind:m.VIEWER},M.locale={value:navigator.language||"en-US",kind:m.VIEWER},M.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:m.VIEWER},M.renderer.kind+=m.PREFERENCE;const _=Object.create(null);g.AppOptions=class b{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(r){const c=_[r];if(void 0!==c)return c;const E=M[r];var p;return void 0!==E?null!==(p=E.compatibility)&&void 0!==p?p:E.value:void 0}static getAll(r=null){const c=Object.create(null);for(const p in M){var E;const C=M[p];if(r){if(!(r&C.kind))continue;if(r===m.PREFERENCE){const h=C.value,D=typeof h;if("boolean"===D||"string"===D||"number"===D&&Number.isInteger(h)){c[p]=h;continue}throw new Error(`Invalid type for preference: ${p}`)}}const f=_[p];c[p]=void 0!==f?f:null!==(E=C.compatibility)&&void 0!==E?E:C.value}return c}static set(r,c){_[r]=c}static setAll(r){for(const c in r)_[c]=r[c]}static remove(r){delete _[r]}static _hasUserOptions(){return Object.keys(_).length>0}}},(W,g,S)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFRenderingQueue=void 0;var m=S(3),M=S(6);g.PDFRenderingQueue=class b{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(r){this.pdfViewer=r}setThumbnailViewer(r){this.pdfThumbnailViewer=r}isHighestPriority(r){return this.highestPriorityPage===r.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(r){var c;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(r)&&(this.isThumbnailViewEnabled&&null!==(c=this.pdfThumbnailViewer)&&void 0!==c&&c.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(r,c,E,p=!1){const C=r.views,f=C.length;if(0===f)return null;for(let q=0;q<f;q++){const K=C[q].view;if(!this.isViewFinished(K))return K}const h=r.first.id,D=r.last.id;if(D-h+1>f){const q=r.ids;for(let K=1,ee=D-h;K<ee;K++){const ne=E?h+K:D-K;if(q.has(ne))continue;const le=c[ne-1];if(!this.isViewFinished(le))return le}}let P=E?D:h-2,N=c[P];return N&&!this.isViewFinished(N)||p&&(P+=E?1:-1,N=c[P],N&&!this.isViewFinished(N))?N:null}isViewFinished(r){return r.renderingState===M.RenderingStates.FINISHED}renderView(r){switch(r.renderingState){case M.RenderingStates.FINISHED:return!1;case M.RenderingStates.PAUSED:this.highestPriorityPage=r.renderingId,r.resume();break;case M.RenderingStates.RUNNING:this.highestPriorityPage=r.renderingId;break;case M.RenderingStates.INITIAL:this.highestPriorityPage=r.renderingId,r.draw().finally(()=>{this.renderHighestPriority()}).catch(c=>{c instanceof m.RenderingCancelledException||console.error(`renderView: "${c}"`)})}return!0}}},(W,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.TextHighlighter=void 0,g.TextHighlighter=class S{constructor({findController:M,eventBus:_,pageIndex:b}){this.findController=M,this.matches=[],this.eventBus=_,this.pageIdx=b,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(M,_){this.textDivs=M,this.textContentItemsStr=_}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=M=>{(M.pageIndex===this.pageIdx||-1===M.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(M,_){if(!M)return[];const{textContentItemsStr:b}=this;let n=0,r=0;const c=b.length-1,E=[];for(let p=0,C=M.length;p<C;p++){let f=M[p];for(;n!==c&&f>=r+b[n].length;)r+=b[n].length,n++;n===b.length&&console.error("Could not find a matching mapping");const h={begin:{divIdx:n,offset:f-r}};for(f+=_[p];n!==c&&f>r+b[n].length;)r+=b[n].length,n++;h.end={divIdx:n,offset:f-r},E.push(h)}return E}_renderMatches(M){if(0===M.length)return;const{findController:_,pageIdx:b}=this,{textContentItemsStr:n,textDivs:r}=this,c=b===_.selected.pageIdx,E=_.selected.matchIdx;let C=null;function h(q,K){const ee=q.divIdx;return r[ee].textContent="",D(ee,0,q.offset,K)}function D(q,K,ee,ne){let le=r[q];if(le.nodeType===Node.TEXT_NODE){const s=document.createElement("span");le.parentNode.insertBefore(s,le),s.appendChild(le),r[q]=s,le=s}const J=n[q].substring(K,ee),F=document.createTextNode(J);if(ne){const s=document.createElement("span");return s.className=`${ne} appended`,s.appendChild(F),le.appendChild(s),ne.includes("selected")?s.offsetLeft:0}return le.appendChild(F),0}let P=E,N=P+1;if(_.state.highlightAll)P=0,N=M.length;else if(!c)return;for(let q=P;q<N;q++){const K=M[q],ee=K.begin,ne=K.end,le=c&&q===E,J=le?" selected":"";let F=0;if(C&&ee.divIdx===C.divIdx?D(C.divIdx,C.offset,ee.offset):(null!==C&&D(C.divIdx,C.offset,undefined),h(ee)),ee.divIdx===ne.divIdx)F=D(ee.divIdx,ee.offset,ne.offset,"highlight"+J);else{F=D(ee.divIdx,ee.offset,undefined,"highlight begin"+J);for(let s=ee.divIdx+1,e=ne.divIdx;s<e;s++)r[s].className="highlight middle"+J;h(ne,"highlight end"+J)}C=ne,le&&_.scrollMatchIntoView({element:r[ee.divIdx],selectedLeft:F,pageIndex:b,matchIndex:E})}C&&D(C.divIdx,C.offset,undefined)}_updateMatches(){if(!this.enabled)return;const{findController:M,matches:_,pageIdx:b}=this,{textContentItemsStr:n,textDivs:r}=this;let c=-1;for(let C=0,f=_.length;C<f;C++){const h=_[C];for(let P=Math.max(c,h.begin.divIdx),N=h.end.divIdx;P<=N;P++){const q=r[P];q.textContent=n[P],q.className=""}c=h.end.divIdx+1}null!=M&&M.highlightMatches&&(this.matches=this._convertMatches(M.pageMatches[b]||null,M.pageMatchesLength[b]||null),this._renderMatches(this.matches))}}},(W,g,S)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.DownloadManager=void 0;var m=S(3);function M(b,n){const r=document.createElement("a");if(!r.click)throw new Error('DownloadManager: "a.click()" is not supported.');r.href=b,r.target="_parent","download"in r&&(r.download=n),(document.body||document.documentElement).appendChild(r),r.click(),r.remove()}g.DownloadManager=class _{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(n,r){(0,m.createValidAbsoluteUrl)(n,"http://example.com")?M(n+"#pdfjs.action=download",r):console.error(`downloadUrl - not a valid URL: ${n}`)}downloadData(n,r,c){M(URL.createObjectURL(new Blob([n],{type:c})),r)}openOrDownloadData(n,r,c){const E=(0,m.isPdfFile)(c),p=E?"application/pdf":"";if(E){let f,C=this._openBlobUrls.get(n);C||(C=URL.createObjectURL(new Blob([r],{type:p})),this._openBlobUrls.set(n,C)),f="?file="+encodeURIComponent(C+"#"+c);try{return window.open(f),!0}catch(h){console.error(`openOrDownloadData: ${h}`),URL.revokeObjectURL(C),this._openBlobUrls.delete(n)}}return this.downloadData(r,c,p),!1}download(n,r,c,E="download"){M(URL.createObjectURL(n),c)}}},(W,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.WaitOnType=g.EventBus=g.AutomationEventBus=void 0,g.waitOnEventOrTimeout=function m({target:b,name:n,delay:r=0}){return new Promise(function(c,E){if("object"!=typeof b||!n||"string"!=typeof n||!(Number.isInteger(r)&&r>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function p(D){b instanceof M?b._off(n,C):b.removeEventListener(n,C),h&&clearTimeout(h),c(D)}const C=p.bind(null,S.EVENT);b instanceof M?b._on(n,C):b.addEventListener(n,C);const f=p.bind(null,S.TIMEOUT),h=setTimeout(f,r)})};const S={EVENT:"event",TIMEOUT:"timeout"};g.WaitOnType=S;class M{constructor(){this._listeners=Object.create(null)}on(n,r,c=null){this._on(n,r,{external:!0,once:null==c?void 0:c.once})}off(n,r,c=null){this._off(n,r,{external:!0,once:null==c?void 0:c.once})}dispatch(n,r){const c=this._listeners[n];if(!c||0===c.length)return;let E;for(const{listener:p,external:C,once:f}of c.slice(0))f&&this._off(n,p),C?(E||(E=[])).push(p):p(r);if(E){for(const p of E)p(r);E=null}}_on(n,r,c=null){var E;((E=this._listeners)[n]||(E[n]=[])).push({listener:r,external:!0===(null==c?void 0:c.external),once:!0===(null==c?void 0:c.once)})}_off(n,r,c=null){const E=this._listeners[n];if(E)for(let p=0,C=E.length;p<C;p++)if(E[p].listener===r)return void E.splice(p,1)}}g.EventBus=M,g.AutomationEventBus=class _ extends M{dispatch(n,r){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(W,g,S)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.GenericL10n=void 0,S(19);var m=S(4);const M=document.webL10n;g.GenericL10n=class _{constructor(n){this._lang=n,this._ready=new Promise((r,c)=>{M.setLanguage((0,m.fixupLangCode)(n),()=>{r(M)})})}getLanguage(){var n=this;return A(function*(){return(yield n._ready).getLanguage()})()}getDirection(){var n=this;return A(function*(){return(yield n._ready).getDirection()})()}get(n,r=null,c=(0,m.getL10nFallback)(n,r)){var E=this;return A(function*(){return(yield E._ready).get(n,r,c)})()}translate(n){var r=this;return A(function*(){return(yield r._ready).translate(n)})()}}},()=>{document.webL10n=function(W,g,S){var m={},M="",_="textContent",b="",n={},r="loading";function h(s,e,t){e=e||function(d){},t=t||function(){};var a=new XMLHttpRequest;a.open("GET",s,!0),a.overrideMimeType&&a.overrideMimeType("text/plain; charset=utf-8"),a.onreadystatechange=function(){4==a.readyState&&(200==a.status||0===a.status?e(a.responseText):t())},a.onerror=t,a.ontimeout=t;try{a.send(null)}catch(u){t()}}function P(s,e){s&&(s=s.toLowerCase()),e=e||function(){},function N(){m={},M="",b=""}(),b=s;var t=function E(){return g.querySelectorAll('link[type="application/l10n"]')}(),a=t.length;if(0!==a){var w,Q=0;w=function(){++Q>=a&&(e(),r="complete")};for(var $=0;$<a;$++)new U(t[$]).load(s,w)}else{var u=function p(){var s=g.querySelector('script[type="application/l10n"]');return s?JSON.parse(s.innerHTML):null}();if(u&&u.locales&&u.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(m=u.locales[s])){var d=u.default_locale.toLowerCase();for(var l in u.locales){if((l=l.toLowerCase())===s){m=u.locales[s];break}l===d&&(m=u.locales[d])}}e()}else console.log("no resource to load, early way out");r="complete"}function U(Z){var te=Z.href;this.load=function(he,ge){!function D(s,e,t,a){var u=s.replace(/[^\/]*$/,"")||"./";function d(w){return w.lastIndexOf("\\")<0?w:w.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}h(s,function(w){M+=w,function l(w,Q){var U={},$=/^\s*|\s*$/,X=/^\s*#|^\s*$/,Z=/^\s*\[(.*)\]\s*$/,te=/^\s*@import\s+url\((.*)\)\s*$/i,he=/^([^=\s]*)\s*=\s*(.+)$/;function ge(me,ue,Se){var Fe=me.replace($,"").split(/[\r\n]+/),Ae="*",oe=e.split("-",1)[0],fe=!1,_e="";!function ie(){for(;;){if(!Fe.length)return void Se();var k=Fe.shift();if(!X.test(k)){if(ue){if(_e=Z.exec(k)){Ae=_e[1].toLowerCase(),fe="*"!==Ae&&Ae!==e&&Ae!==oe;continue}if(fe)continue;if(_e=te.exec(k))return void Ee(u+_e[1],ie)}var Y=k.match(he);Y&&3==Y.length&&(U[Y[1]]=d(Y[2]))}}}()}function Ee(me,ue){h(me,function(Se){ge(Se,!1,ue)},function(){console.warn(me+" not found."),ue()})}ge(w,!0,function(){Q(U)})}(w,function(Q){for(var U in Q){var $,X,Z=U.lastIndexOf(".");Z>0?($=U.substring(0,Z),X=U.substring(Z+1)):($=U,X=_),m[$]||(m[$]={}),m[$][X]=Q[U]}t&&t()})},a)}(te,he,ge,function(){console.warn(te+" not found."),console.warn('"'+he+'" resource not found'),b="",ge()})}}}function K(s,e,t){var a=m[s];if(!a){if(console.warn("#"+s+" is undefined."),!t)return null;a=t}var u={};for(var d in a){var l=a[d];l=ne(l=ee(l,e,s,d),e,s),u[d]=l}return u}function ee(s,e,t,a){var d=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(s);if(!d||!d.length)return s;var Q,l=d[1],w=d[2];return e&&w in e?Q=e[w]:w in m&&(Q=m[w]),l in n&&(s=(0,n[l])(s,Q,t,a)),s}function ne(s,e,t){return s.replace(/\{\{\s*(.+?)\s*\}\}/g,function(u,d){return e&&d in e?e[d]:d in m?m[d]:(console.log("argument {{"+d+"}} for #"+t+" is undefined."),u)})}function le(s){var e=function f(s){if(!s)return{};var e=s.getAttribute("data-l10n-id"),t=s.getAttribute("data-l10n-args"),a={};if(t)try{a=JSON.parse(t)}catch(u){console.warn("could not parse arguments for #"+e)}return{id:e,args:a}}(s);if(e.id){var t=K(e.id,e.args);if(!t)return void console.warn("#"+e.id+" is undefined.");if(t[_]){if(0===function J(s){if(s.children)return s.children.length;if(typeof s.childElementCount<"u")return s.childElementCount;for(var e=0,t=0;t<s.childNodes.length;t++)e+=1===s.nodeType?1:0;return e}(s))s[_]=t[_];else{for(var a=s.childNodes,u=!1,d=0,l=a.length;d<l;d++)3===a[d].nodeType&&/\S/.test(a[d].nodeValue)&&(u?a[d].nodeValue="":(a[d].nodeValue=t[_],u=!0));if(!u){var w=g.createTextNode(t[_]);s.insertBefore(w,s.firstChild)}}delete t[_]}for(var Q in t)s[Q]=t[Q]}}return n.plural=function(s,e,t,a){var u=parseFloat(e);if(isNaN(u)||a!=_)return s;n._pluralRules||(n._pluralRules=function q(s){function t(l,w){return-1!==w.indexOf(l)}function a(l,w,Q){return w<=l&&l<=Q}var u={0:function(l){return"other"},1:function(l){return a(l%100,3,10)?"few":0===l?"zero":a(l%100,11,99)?"many":2==l?"two":1==l?"one":"other"},2:function(l){return 0!==l&&l%10==0?"many":2==l?"two":1==l?"one":"other"},3:function(l){return 1==l?"one":"other"},4:function(l){return a(l,0,1)?"one":"other"},5:function(l){return a(l,0,2)&&2!=l?"one":"other"},6:function(l){return 0===l?"zero":l%10==1&&l%100!=11?"one":"other"},7:function(l){return 2==l?"two":1==l?"one":"other"},8:function(l){return a(l,3,6)?"few":a(l,7,10)?"many":2==l?"two":1==l?"one":"other"},9:function(l){return 0===l||1!=l&&a(l%100,1,19)?"few":1==l?"one":"other"},10:function(l){return a(l%10,2,9)&&!a(l%100,11,19)?"few":l%10!=1||a(l%100,11,19)?"other":"one"},11:function(l){return a(l%10,2,4)&&!a(l%100,12,14)?"few":l%10==0||a(l%10,5,9)||a(l%100,11,14)?"many":l%10==1&&l%100!=11?"one":"other"},12:function(l){return a(l,2,4)?"few":1==l?"one":"other"},13:function(l){return a(l%10,2,4)&&!a(l%100,12,14)?"few":1!=l&&a(l%10,0,1)||a(l%10,5,9)||a(l%100,12,14)?"many":1==l?"one":"other"},14:function(l){return a(l%100,3,4)?"few":l%100==2?"two":l%100==1?"one":"other"},15:function(l){return 0===l||a(l%100,2,10)?"few":a(l%100,11,19)?"many":1==l?"one":"other"},16:function(l){return l%10==1&&11!=l?"one":"other"},17:function(l){return 3==l?"few":0===l?"zero":6==l?"many":2==l?"two":1==l?"one":"other"},18:function(l){return 0===l?"zero":a(l,0,2)&&0!==l&&2!=l?"one":"other"},19:function(l){return a(l,2,10)?"few":a(l,0,1)?"one":"other"},20:function(l){return!a(l%10,3,4)&&l%10!=9||a(l%100,10,19)||a(l%100,70,79)||a(l%100,90,99)?l%1e6==0&&0!==l?"many":l%10!=2||t(l%100,[12,72,92])?l%10!=1||t(l%100,[11,71,91])?"other":"one":"two":"few"},21:function(l){return 0===l?"zero":1==l?"one":"other"},22:function(l){return a(l,0,1)||a(l,11,99)?"one":"other"},23:function(l){return a(l%10,1,2)||l%20==0?"one":"other"},24:function(l){return a(l,3,10)||a(l,13,19)?"few":t(l,[2,12])?"two":t(l,[1,11])?"one":"other"}},d={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[s.replace(/-.*$/,"")];return d in u?u[d]:(console.warn("plural form unknown for ["+s+"]"),function(){return"other"})}(b));var d="["+n._pluralRules(u)+"]";return 0===u&&t+"[zero]"in m?s=m[t+"[zero]"][a]:1==u&&t+"[one]"in m?s=m[t+"[one]"][a]:2==u&&t+"[two]"in m?s=m[t+"[two]"][a]:t+d in m?s=m[t+d][a]:t+"[other]"in m&&(s=m[t+"[other]"][a]),s},{get:function(s,e,t){var d,a=s.lastIndexOf("."),u=_;a>0&&(u=s.substring(a+1),s=s.substring(0,a)),t&&((d={})[u]=t);var l=K(s,e,d);return l&&u in l?l[u]:"{{"+s+"}}"},getData:function(){return m},getText:function(){return M},getLanguage:function(){return b},setLanguage:function(s,e){P(s,function(){e&&e()})},getDirection:function(){var e=b.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(e)>=0?"rtl":"ltr"},translate:function F(s){for(var e=function C(s){return s?s.querySelectorAll("*[data-l10n-id]"):[]}(s=s||g.documentElement),t=e.length,a=0;a<t;a++)le(e[a]);le(s)},getReadyState:function(){return r},ready:function(s){s&&("complete"==r||"interactive"==r?W.setTimeout(function(){s()}):g.addEventListener&&g.addEventListener("localized",function e(){g.removeEventListener("localized",e),s()}))}}}(window,document)},(W,g,S)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFFindController=g.FindState=void 0;var m=S(6),M=S(3),_=S(21);const b={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};g.FindState=b;const E={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},p=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),C=[...p.values()].map(se=>String.fromCharCode(se)).join(""),f=/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10EFD}-\u{10EFF}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11000}-\u{11002}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11082}\u{110B0}-\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{11134}\u{11145}\u{11146}\u{11173}\u{11180}-\u{11182}\u{111B3}-\u{111C0}\u{111C9}-\u{111CC}\u{111CE}\u{111CF}\u{1122C}-\u{11237}\u{1123E}\u{11241}\u{112DF}-\u{112EA}\u{11300}-\u{11303}\u{1133B}\u{1133C}\u{1133E}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11357}\u{11362}\u{11363}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11435}-\u{11446}\u{1145E}\u{114B0}-\u{114C3}\u{115AF}-\u{115B5}\u{115B8}-\u{115C0}\u{115DC}\u{115DD}\u{11630}-\u{11640}\u{116AB}-\u{116B7}\u{1171D}-\u{1172B}\u{1182C}-\u{1183A}\u{11930}-\u{11935}\u{11937}\u{11938}\u{1193B}-\u{1193E}\u{11940}\u{11942}\u{11943}\u{119D1}-\u{119D7}\u{119DA}-\u{119E0}\u{119E4}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A39}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A5B}\u{11A8A}-\u{11A99}\u{11C2F}-\u{11C36}\u{11C38}-\u{11C3F}\u{11C92}-\u{11CA7}\u{11CA9}-\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D8A}-\u{11D8E}\u{11D90}\u{11D91}\u{11D93}-\u{11D97}\u{11EF3}-\u{11EF6}\u{11F00}\u{11F01}\u{11F03}\u{11F34}-\u{11F3A}\u{11F3E}-\u{11F42}\u{13440}\u{13447}-\u{13455}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F51}-\u{16F87}\u{16F8F}-\u{16F92}\u{16FE4}\u{16FF0}\u{16FF1}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D165}-\u{1D169}\u{1D16D}-\u{1D172}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E08F}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E4EC}-\u{1E4EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}]+/gu,h=/([.*+?^${}()|[\]\\])|([!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65\u{10100}-\u{10102}\u{1039F}\u{103D0}\u{1056F}\u{10857}\u{1091F}\u{1093F}\u{10A50}-\u{10A58}\u{10A7F}\u{10AF0}-\u{10AF6}\u{10B39}-\u{10B3F}\u{10B99}-\u{10B9C}\u{10EAD}\u{10F55}-\u{10F59}\u{10F86}-\u{10F89}\u{11047}-\u{1104D}\u{110BB}\u{110BC}\u{110BE}-\u{110C1}\u{11140}-\u{11143}\u{11174}\u{11175}\u{111C5}-\u{111C8}\u{111CD}\u{111DB}\u{111DD}-\u{111DF}\u{11238}-\u{1123D}\u{112A9}\u{1144B}-\u{1144F}\u{1145A}\u{1145B}\u{1145D}\u{114C6}\u{115C1}-\u{115D7}\u{11641}-\u{11643}\u{11660}-\u{1166C}\u{116B9}\u{1173C}-\u{1173E}\u{1183B}\u{11944}-\u{11946}\u{119E2}\u{11A3F}-\u{11A46}\u{11A9A}-\u{11A9C}\u{11A9E}-\u{11AA2}\u{11B00}-\u{11B09}\u{11C41}-\u{11C45}\u{11C70}\u{11C71}\u{11EF7}\u{11EF8}\u{11F43}-\u{11F4F}\u{11FFF}\u{12470}-\u{12474}\u{12FF1}\u{12FF2}\u{16A6E}\u{16A6F}\u{16AF5}\u{16B37}-\u{16B3B}\u{16B44}\u{16E97}-\u{16E9A}\u{16FE2}\u{1BC9F}\u{1DA87}-\u{1DA8B}\u{1E95E}\u{1E95F}])|(\s+)|([\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10EFD}-\u{10EFF}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11000}-\u{11002}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11082}\u{110B0}-\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{11134}\u{11145}\u{11146}\u{11173}\u{11180}-\u{11182}\u{111B3}-\u{111C0}\u{111C9}-\u{111CC}\u{111CE}\u{111CF}\u{1122C}-\u{11237}\u{1123E}\u{11241}\u{112DF}-\u{112EA}\u{11300}-\u{11303}\u{1133B}\u{1133C}\u{1133E}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11357}\u{11362}\u{11363}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11435}-\u{11446}\u{1145E}\u{114B0}-\u{114C3}\u{115AF}-\u{115B5}\u{115B8}-\u{115C0}\u{115DC}\u{115DD}\u{11630}-\u{11640}\u{116AB}-\u{116B7}\u{1171D}-\u{1172B}\u{1182C}-\u{1183A}\u{11930}-\u{11935}\u{11937}\u{11938}\u{1193B}-\u{1193E}\u{11940}\u{11942}\u{11943}\u{119D1}-\u{119D7}\u{119DA}-\u{119E0}\u{119E4}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A39}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A5B}\u{11A8A}-\u{11A99}\u{11C2F}-\u{11C36}\u{11C38}-\u{11C3F}\u{11C92}-\u{11CA7}\u{11CA9}-\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D8A}-\u{11D8E}\u{11D90}\u{11D91}\u{11D93}-\u{11D97}\u{11EF3}-\u{11EF6}\u{11F00}\u{11F01}\u{11F03}\u{11F34}-\u{11F3A}\u{11F3E}-\u{11F42}\u{13440}\u{13447}-\u{13455}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F51}-\u{16F87}\u{16F8F}-\u{16F92}\u{16FE4}\u{16FF0}\u{16FF1}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D165}-\u{1D169}\u{1D16D}-\u{1D172}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E08F}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E4EC}-\u{1E4EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}])|([A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\u{10000}-\u{1000B}\u{1000D}-\u{10026}\u{10028}-\u{1003A}\u{1003C}\u{1003D}\u{1003F}-\u{1004D}\u{10050}-\u{1005D}\u{10080}-\u{100FA}\u{10280}-\u{1029C}\u{102A0}-\u{102D0}\u{10300}-\u{1031F}\u{1032D}-\u{10340}\u{10342}-\u{10349}\u{10350}-\u{10375}\u{10380}-\u{1039D}\u{103A0}-\u{103C3}\u{103C8}-\u{103CF}\u{10400}-\u{1049D}\u{104B0}-\u{104D3}\u{104D8}-\u{104FB}\u{10500}-\u{10527}\u{10530}-\u{10563}\u{10570}-\u{1057A}\u{1057C}-\u{1058A}\u{1058C}-\u{10592}\u{10594}\u{10595}\u{10597}-\u{105A1}\u{105A3}-\u{105B1}\u{105B3}-\u{105B9}\u{105BB}\u{105BC}\u{10600}-\u{10736}\u{10740}-\u{10755}\u{10760}-\u{10767}\u{10780}-\u{10785}\u{10787}-\u{107B0}\u{107B2}-\u{107BA}\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10860}-\u{10876}\u{10880}-\u{1089E}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{10900}-\u{10915}\u{10920}-\u{10939}\u{10980}-\u{109B7}\u{109BE}\u{109BF}\u{10A00}\u{10A10}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A60}-\u{10A7C}\u{10A80}-\u{10A9C}\u{10AC0}-\u{10AC7}\u{10AC9}-\u{10AE4}\u{10B00}-\u{10B35}\u{10B40}-\u{10B55}\u{10B60}-\u{10B72}\u{10B80}-\u{10B91}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10D00}-\u{10D23}\u{10E80}-\u{10EA9}\u{10EB0}\u{10EB1}\u{10F00}-\u{10F1C}\u{10F27}\u{10F30}-\u{10F45}\u{10F70}-\u{10F81}\u{10FB0}-\u{10FC4}\u{10FE0}-\u{10FF6}\u{11003}-\u{11037}\u{11071}\u{11072}\u{11075}\u{11083}-\u{110AF}\u{110D0}-\u{110E8}\u{11103}-\u{11126}\u{11144}\u{11147}\u{11150}-\u{11172}\u{11176}\u{11183}-\u{111B2}\u{111C1}-\u{111C4}\u{111DA}\u{111DC}\u{11200}-\u{11211}\u{11213}-\u{1122B}\u{1123F}\u{11240}\u{11280}-\u{11286}\u{11288}\u{1128A}-\u{1128D}\u{1128F}-\u{1129D}\u{1129F}-\u{112A8}\u{112B0}-\u{112DE}\u{11305}-\u{1130C}\u{1130F}\u{11310}\u{11313}-\u{11328}\u{1132A}-\u{11330}\u{11332}\u{11333}\u{11335}-\u{11339}\u{1133D}\u{11350}\u{1135D}-\u{11361}\u{11400}-\u{11434}\u{11447}-\u{1144A}\u{1145F}-\u{11461}\u{11480}-\u{114AF}\u{114C4}\u{114C5}\u{114C7}\u{11580}-\u{115AE}\u{115D8}-\u{115DB}\u{11600}-\u{1162F}\u{11644}\u{11680}-\u{116AA}\u{116B8}\u{11700}-\u{1171A}\u{11740}-\u{11746}\u{11800}-\u{1182B}\u{118A0}-\u{118DF}\u{118FF}-\u{11906}\u{11909}\u{1190C}-\u{11913}\u{11915}\u{11916}\u{11918}-\u{1192F}\u{1193F}\u{11941}\u{119A0}-\u{119A7}\u{119AA}-\u{119D0}\u{119E1}\u{119E3}\u{11A00}\u{11A0B}-\u{11A32}\u{11A3A}\u{11A50}\u{11A5C}-\u{11A89}\u{11A9D}\u{11AB0}-\u{11AF8}\u{11C00}-\u{11C08}\u{11C0A}-\u{11C2E}\u{11C40}\u{11C72}-\u{11C8F}\u{11D00}-\u{11D06}\u{11D08}\u{11D09}\u{11D0B}-\u{11D30}\u{11D46}\u{11D60}-\u{11D65}\u{11D67}\u{11D68}\u{11D6A}-\u{11D89}\u{11D98}\u{11EE0}-\u{11EF2}\u{11F02}\u{11F04}-\u{11F10}\u{11F12}-\u{11F33}\u{11FB0}\u{12000}-\u{12399}\u{12480}-\u{12543}\u{12F90}-\u{12FF0}\u{13000}-\u{1342F}\u{13441}-\u{13446}\u{14400}-\u{14646}\u{16800}-\u{16A38}\u{16A40}-\u{16A5E}\u{16A70}-\u{16ABE}\u{16AD0}-\u{16AED}\u{16B00}-\u{16B2F}\u{16B40}-\u{16B43}\u{16B63}-\u{16B77}\u{16B7D}-\u{16B8F}\u{16E40}-\u{16E7F}\u{16F00}-\u{16F4A}\u{16F50}\u{16F93}-\u{16F9F}\u{16FE0}\u{16FE1}\u{16FE3}\u{17000}-\u{187F7}\u{18800}-\u{18CD5}\u{18D00}-\u{18D08}\u{1AFF0}-\u{1AFF3}\u{1AFF5}-\u{1AFFB}\u{1AFFD}\u{1AFFE}\u{1B000}-\u{1B122}\u{1B132}\u{1B150}-\u{1B152}\u{1B155}\u{1B164}-\u{1B167}\u{1B170}-\u{1B2FB}\u{1BC00}-\u{1BC6A}\u{1BC70}-\u{1BC7C}\u{1BC80}-\u{1BC88}\u{1BC90}-\u{1BC99}\u{1D400}-\u{1D454}\u{1D456}-\u{1D49C}\u{1D49E}\u{1D49F}\u{1D4A2}\u{1D4A5}\u{1D4A6}\u{1D4A9}-\u{1D4AC}\u{1D4AE}-\u{1D4B9}\u{1D4BB}\u{1D4BD}-\u{1D4C3}\u{1D4C5}-\u{1D505}\u{1D507}-\u{1D50A}\u{1D50D}-\u{1D514}\u{1D516}-\u{1D51C}\u{1D51E}-\u{1D539}\u{1D53B}-\u{1D53E}\u{1D540}-\u{1D544}\u{1D546}\u{1D54A}-\u{1D550}\u{1D552}-\u{1D6A5}\u{1D6A8}-\u{1D6C0}\u{1D6C2}-\u{1D6DA}\u{1D6DC}-\u{1D6FA}\u{1D6FC}-\u{1D714}\u{1D716}-\u{1D734}\u{1D736}-\u{1D74E}\u{1D750}-\u{1D76E}\u{1D770}-\u{1D788}\u{1D78A}-\u{1D7A8}\u{1D7AA}-\u{1D7C2}\u{1D7C4}-\u{1D7CB}\u{1DF00}-\u{1DF1E}\u{1DF25}-\u{1DF2A}\u{1E030}-\u{1E06D}\u{1E100}-\u{1E12C}\u{1E137}-\u{1E13D}\u{1E14E}\u{1E290}-\u{1E2AD}\u{1E2C0}-\u{1E2EB}\u{1E4D0}-\u{1E4EB}\u{1E7E0}-\u{1E7E6}\u{1E7E8}-\u{1E7EB}\u{1E7ED}\u{1E7EE}\u{1E7F0}-\u{1E7FE}\u{1E800}-\u{1E8C4}\u{1E900}-\u{1E943}\u{1E94B}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}\u{20000}-\u{2A6DF}\u{2A700}-\u{2B739}\u{2B740}-\u{2B81D}\u{2B820}-\u{2CEA1}\u{2CEB0}-\u{2EBE0}\u{2F800}-\u{2FA1D}\u{30000}-\u{3134A}\u{31350}-\u{323AF}])/gu,D=/([^\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10EFD}-\u{10EFF}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11000}-\u{11002}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11082}\u{110B0}-\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{11134}\u{11145}\u{11146}\u{11173}\u{11180}-\u{11182}\u{111B3}-\u{111C0}\u{111C9}-\u{111CC}\u{111CE}\u{111CF}\u{1122C}-\u{11237}\u{1123E}\u{11241}\u{112DF}-\u{112EA}\u{11300}-\u{11303}\u{1133B}\u{1133C}\u{1133E}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11357}\u{11362}\u{11363}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11435}-\u{11446}\u{1145E}\u{114B0}-\u{114C3}\u{115AF}-\u{115B5}\u{115B8}-\u{115C0}\u{115DC}\u{115DD}\u{11630}-\u{11640}\u{116AB}-\u{116B7}\u{1171D}-\u{1172B}\u{1182C}-\u{1183A}\u{11930}-\u{11935}\u{11937}\u{11938}\u{1193B}-\u{1193E}\u{11940}\u{11942}\u{11943}\u{119D1}-\u{119D7}\u{119DA}-\u{119E0}\u{119E4}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A39}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A5B}\u{11A8A}-\u{11A99}\u{11C2F}-\u{11C36}\u{11C38}-\u{11C3F}\u{11C92}-\u{11CA7}\u{11CA9}-\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D8A}-\u{11D8E}\u{11D90}\u{11D91}\u{11D93}-\u{11D97}\u{11EF3}-\u{11EF6}\u{11F00}\u{11F01}\u{11F03}\u{11F34}-\u{11F3A}\u{11F3E}-\u{11F42}\u{13440}\u{13447}-\u{13455}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F51}-\u{16F87}\u{16F8F}-\u{16F92}\u{16FE4}\u{16FF0}\u{16FF1}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D165}-\u{1D169}\u{1D16D}-\u{1D172}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E08F}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E4EC}-\u{1E4EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}])[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10EFD}-\u{10EFF}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11000}-\u{11002}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11082}\u{110B0}-\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{11134}\u{11145}\u{11146}\u{11173}\u{11180}-\u{11182}\u{111B3}-\u{111C0}\u{111C9}-\u{111CC}\u{111CE}\u{111CF}\u{1122C}-\u{11237}\u{1123E}\u{11241}\u{112DF}-\u{112EA}\u{11300}-\u{11303}\u{1133B}\u{1133C}\u{1133E}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11357}\u{11362}\u{11363}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11435}-\u{11446}\u{1145E}\u{114B0}-\u{114C3}\u{115AF}-\u{115B5}\u{115B8}-\u{115C0}\u{115DC}\u{115DD}\u{11630}-\u{11640}\u{116AB}-\u{116B7}\u{1171D}-\u{1172B}\u{1182C}-\u{1183A}\u{11930}-\u{11935}\u{11937}\u{11938}\u{1193B}-\u{1193E}\u{11940}\u{11942}\u{11943}\u{119D1}-\u{119D7}\u{119DA}-\u{119E0}\u{119E4}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A39}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A5B}\u{11A8A}-\u{11A99}\u{11C2F}-\u{11C36}\u{11C38}-\u{11C3F}\u{11C92}-\u{11CA7}\u{11CA9}-\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D8A}-\u{11D8E}\u{11D90}\u{11D91}\u{11D93}-\u{11D97}\u{11EF3}-\u{11EF6}\u{11F00}\u{11F01}\u{11F03}\u{11F34}-\u{11F3A}\u{11F3E}-\u{11F42}\u{13440}\u{13447}-\u{13455}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F51}-\u{16F87}\u{16F8F}-\u{16F92}\u{16FE4}\u{16FF0}\u{16FF1}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D165}-\u{1D169}\u{1D16D}-\u{1D172}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E08F}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E4EC}-\u{1E4EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}]*$/u,P=/^[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10EFD}-\u{10EFF}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11000}-\u{11002}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11082}\u{110B0}-\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{11134}\u{11145}\u{11146}\u{11173}\u{11180}-\u{11182}\u{111B3}-\u{111C0}\u{111C9}-\u{111CC}\u{111CE}\u{111CF}\u{1122C}-\u{11237}\u{1123E}\u{11241}\u{112DF}-\u{112EA}\u{11300}-\u{11303}\u{1133B}\u{1133C}\u{1133E}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11357}\u{11362}\u{11363}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11435}-\u{11446}\u{1145E}\u{114B0}-\u{114C3}\u{115AF}-\u{115B5}\u{115B8}-\u{115C0}\u{115DC}\u{115DD}\u{11630}-\u{11640}\u{116AB}-\u{116B7}\u{1171D}-\u{1172B}\u{1182C}-\u{1183A}\u{11930}-\u{11935}\u{11937}\u{11938}\u{1193B}-\u{1193E}\u{11940}\u{11942}\u{11943}\u{119D1}-\u{119D7}\u{119DA}-\u{119E0}\u{119E4}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A39}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A5B}\u{11A8A}-\u{11A99}\u{11C2F}-\u{11C36}\u{11C38}-\u{11C3F}\u{11C92}-\u{11CA7}\u{11CA9}-\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D8A}-\u{11D8E}\u{11D90}\u{11D91}\u{11D93}-\u{11D97}\u{11EF3}-\u{11EF6}\u{11F00}\u{11F01}\u{11F03}\u{11F34}-\u{11F3A}\u{11F3E}-\u{11F42}\u{13440}\u{13447}-\u{13455}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F51}-\u{16F87}\u{16F8F}-\u{16F92}\u{16FE4}\u{16FF0}\u{16FF1}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D165}-\u{1D169}\u{1D16D}-\u{1D172}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E08F}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E4EC}-\u{1E4EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}]*([^\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10EFD}-\u{10EFF}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11000}-\u{11002}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11082}\u{110B0}-\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{11134}\u{11145}\u{11146}\u{11173}\u{11180}-\u{11182}\u{111B3}-\u{111C0}\u{111C9}-\u{111CC}\u{111CE}\u{111CF}\u{1122C}-\u{11237}\u{1123E}\u{11241}\u{112DF}-\u{112EA}\u{11300}-\u{11303}\u{1133B}\u{1133C}\u{1133E}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11357}\u{11362}\u{11363}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11435}-\u{11446}\u{1145E}\u{114B0}-\u{114C3}\u{115AF}-\u{115B5}\u{115B8}-\u{115C0}\u{115DC}\u{115DD}\u{11630}-\u{11640}\u{116AB}-\u{116B7}\u{1171D}-\u{1172B}\u{1182C}-\u{1183A}\u{11930}-\u{11935}\u{11937}\u{11938}\u{1193B}-\u{1193E}\u{11940}\u{11942}\u{11943}\u{119D1}-\u{119D7}\u{119DA}-\u{119E0}\u{119E4}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A39}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A5B}\u{11A8A}-\u{11A99}\u{11C2F}-\u{11C36}\u{11C38}-\u{11C3F}\u{11C92}-\u{11CA7}\u{11CA9}-\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D8A}-\u{11D8E}\u{11D90}\u{11D91}\u{11D93}-\u{11D97}\u{11EF3}-\u{11EF6}\u{11F00}\u{11F01}\u{11F03}\u{11F34}-\u{11F3A}\u{11F3E}-\u{11F42}\u{13440}\u{13447}-\u{13455}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F51}-\u{16F87}\u{16F8F}-\u{16F92}\u{16FE4}\u{16FF0}\u{16FF1}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D165}-\u{1D169}\u{1D16D}-\u{1D172}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E08F}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E4EC}-\u{1E4EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}])/u;let N=null;function q(se){if(!N){const Me=Object.keys(E).join("");N=new RegExp(`([${Me}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const ce=[];let Ce;for(;null!==(Ce=f.exec(se));)ce.push([Ce[0].length,Ce.index]);let ve=se.normalize("NFD");const pe=[[0,0]];let Pe=0,ye=0,De=0,xe=0,Te=!1;return ve=ve.replace(N,(Me,Oe,Be,Re,ke,Le)=>{if(Le-=De,Oe){const Ve=E[Me],Ue=Ve.length;for(let Ne=1;Ne<Ue;Ne++)pe.push([Le-ye+Ne,ye-Ne]);return ye-=Ue-1,Ve}if(Be){var Ie;const Ve=Be.endsWith("\n"),Ue=Ve?Be.length-2:Be.length;Te=!0;let Ne=Ue;Le+xe===(null===(Ie=ce[Pe])||void 0===Ie?void 0:Ie[1])&&(Ne-=ce[Pe][0],++Pe);for(let We=1;We<Ne+1;We++)pe.push([Le-1-ye+We,ye-We]);return ye-=Ne,De+=Ne,Ve?(pe.push([(Le+=Ue-1)-ye+1,1+ye]),ye+=1,De+=1,xe+=1,Be.slice(0,Ue)):Be}return Re?(pe.push([Le-ye+1,1+ye]),ye+=1,De+=1,xe+=1,Re.charAt(0)):(pe.push([Le-ye+1,ye-1]),ye-=1,De+=1,xe+=1," ")}),pe.push([ve.length,ye]),[ve,pe,Te]}function K(se,ce,Ce){if(!se)return[ce,Ce];const ve=ce,pe=ce+Ce;let Pe=(0,m.binarySearchFirstItem)(se,De=>De[0]>=ve);se[Pe][0]>ve&&--Pe;let ye=(0,m.binarySearchFirstItem)(se,De=>De[0]>=pe,Pe);return se[ye][0]>pe&&--ye,[ve+se[Pe][1],Ce+se[ye][1]-se[Pe][1]]}var ee=new WeakSet,ne=new WeakSet,le=new WeakMap,J=new WeakSet,F=new WeakSet,s=new WeakSet,e=new WeakSet,t=new WeakSet,a=new WeakSet,u=new WeakSet,d=new WeakSet,l=new WeakSet,w=new WeakSet,Q=new WeakSet,U=new WeakSet,$=new WeakSet,X=new WeakSet,Z=new WeakSet,te=new WeakSet,he=new WeakSet;function Ee(se){if(!se)return;const ce=this._pdfDocument,{type:Ce}=se;(null===this._state||T(this,J,Se).call(this,se))&&(this._dirtyMatch=!0),this._state=se,"highlightallchange"!==Ce&&T(this,he,we).call(this,b.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||ce&&this._pdfDocument!==ce)return;T(this,a,_e).call(this);const ve=!this._highlightMatches,pe=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),Ce?this._dirtyMatch?T(this,l,Y).call(this):"again"===Ce?(T(this,l,Y).call(this),ve&&this._state.highlightAll&&T(this,d,k).call(this)):"highlightallchange"===Ce?(pe?T(this,l,Y).call(this):this._highlightMatches=!0,T(this,d,k).call(this)):T(this,l,Y).call(this):this._findTimeout=setTimeout(()=>{T(this,l,Y).call(this),this._findTimeout=null},250)})}function me(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,M.createPromiseCapability)()}function ue(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=q(this._state.query)),this._normalizedQuery}function Se(se){if(se.query!==this._state.query)return!0;switch(se.type){case"again":const ce=this._selected.pageIdx+1,Ce=this._linkService;return ce>=1&&ce<=Ce.pagesCount&&ce!==Ce.page&&!Ce.isPageVisible(ce);case"highlightallchange":return!1}return!0}function Fe(se,ce,Ce){let ve=se.slice(0,ce).match(D);if(ve){const pe=se.charCodeAt(ce),Pe=ve[1].charCodeAt(0);if((0,_.getCharacterType)(pe)===(0,_.getCharacterType)(Pe))return!1}if(ve=se.slice(ce+Ce).match(P),ve){const pe=se.charCodeAt(ce+Ce-1),Pe=ve[1].charCodeAt(0);if((0,_.getCharacterType)(pe)===(0,_.getCharacterType)(Pe))return!1}return!0}function Ae(se,ce,Ce,ve){const pe=[],Pe=[],ye=this._pageDiffs[Ce];let De;for(;null!==(De=se.exec(ve));){if(ce&&!T(this,F,Fe).call(this,ve,De.index,De[0].length))continue;const[xe,Te]=K(ye,De.index,De[0].length);Te&&(pe.push(xe),Pe.push(Te))}this._pageMatches[Ce]=pe,this._pageMatchesLength[Ce]=Pe}function oe(se,ce){const{matchDiacritics:Ce}=this._state;let ve=!1;return(se=se.replace(h,(Pe,ye,De,xe,Te,Me)=>ye?`[ ]*\\${ye}[ ]*`:De?`[ ]*${De}[ ]*`:xe?"[ ]+":Ce?Te||Me:Te?p.has(Te.charCodeAt(0))?Te:"":ce?(ve=!0,`${Me}\\p{M}*`):Me)).endsWith("[ ]*")&&(se=se.slice(0,se.length-"[ ]*".length)),Ce&&ce&&(ve=!0,se=`${se}(?=[${C}]|[^\\p{M}]|$)`),[ve,se]}function fe(se){let ce=x(this,le);if(0===ce.length)return;const{caseSensitive:Ce,entireWord:ve,phraseSearch:pe}=this._state,Pe=this._pageContents[se],ye=this._hasDiacritics[se];let De=!1;if(pe)[De,ce]=T(this,e,oe).call(this,ce,ye);else{const Me=ce.match(/\S+/g);Me&&(ce=Me.sort().reverse().map(Oe=>{const[Be,Re]=T(this,e,oe).call(this,Oe,ye);return De||(De=Be),`(${Re})`}).join("|"))}ce=new RegExp(ce,`g${De?"u":""}${Ce?"":"i"}`),T(this,s,Ae).call(this,ce,ve,se,Pe),this._state.highlightAll&&T(this,u,ie).call(this,se),this._resumePageIdx===se&&(this._resumePageIdx=null,T(this,Q,de).call(this));const Te=this._pageMatches[se].length;Te>0&&(this._matchesCountTotal+=Te,T(this,te,be).call(this))}function _e(){if(this._extractTextPromises.length>0)return;let se=Promise.resolve();for(let ce=0,Ce=this._linkService.pagesCount;ce<Ce;ce++){const ve=(0,M.createPromiseCapability)();this._extractTextPromises[ce]=ve.promise,se=se.then(()=>this._pdfDocument.getPage(ce+1).then(pe=>pe.getTextContent()).then(pe=>{const Pe=[];for(const ye of pe.items)Pe.push(ye.str),ye.hasEOL&&Pe.push("\n");[this._pageContents[ce],this._pageDiffs[ce],this._hasDiacritics[ce]]=q(Pe.join("")),ve.resolve()},pe=>{console.error(`Unable to get text content for page ${ce+1}`,pe),this._pageContents[ce]="",this._pageDiffs[ce]=null,this._hasDiacritics[ce]=!1,ve.resolve()}))}}function ie(se){this._scrollMatches&&this._selected.pageIdx===se&&(this._linkService.page=se+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:se})}function k(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}function Y(){const se=this._state.findPrevious,ce=this._linkService.page-1,Ce=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=ce,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,T(this,d,k).call(this);for(let pe=0;pe<Ce;pe++)this._pendingFindMatches.has(pe)||(this._pendingFindMatches.add(pe),this._extractTextPromises[pe].then(()=>{this._pendingFindMatches.delete(pe),T(this,t,fe).call(this,pe)}))}if(""===x(this,le))return void T(this,he,we).call(this,b.FOUND);if(this._resumePageIdx)return;const ve=this._offset;if(this._pagesToSearch=Ce,null!==ve.matchIdx){if(!se&&ve.matchIdx+1<this._pageMatches[ve.pageIdx].length||se&&ve.matchIdx>0)return ve.matchIdx=se?ve.matchIdx-1:ve.matchIdx+1,void T(this,$,O).call(this,!0);T(this,U,z).call(this,se)}T(this,Q,de).call(this)}function ae(se){const ce=this._offset,Ce=se.length,ve=this._state.findPrevious;return Ce?(ce.matchIdx=ve?Ce-1:0,T(this,$,O).call(this,!0),!0):(T(this,U,z).call(this,ve),!!(ce.wrapped&&(ce.matchIdx=null,this._pagesToSearch<0))&&(T(this,$,O).call(this,!1),!0))}function de(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let se=null;do{const ce=this._offset.pageIdx;if(se=this._pageMatches[ce],!se){this._resumePageIdx=ce;break}}while(!T(this,w,ae).call(this,se))}function z(se){const ce=this._offset,Ce=this._linkService.pagesCount;ce.pageIdx=se?ce.pageIdx-1:ce.pageIdx+1,ce.matchIdx=null,this._pagesToSearch--,(ce.pageIdx>=Ce||ce.pageIdx<0)&&(ce.pageIdx=se?Ce-1:0,ce.wrapped=!0)}function O(se=!1){let ce=b.NOT_FOUND;const Ce=this._offset.wrapped;if(this._offset.wrapped=!1,se){const ve=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,ce=Ce?b.WRAPPED:b.FOUND,-1!==ve&&ve!==this._selected.pageIdx&&T(this,u,ie).call(this,ve)}T(this,he,we).call(this,ce,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,T(this,u,ie).call(this,this._selected.pageIdx))}function j(se){const ce=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||ce&&this._pdfDocument!==ce||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),T(this,he,we).call(this,b.FOUND),this._highlightMatches=!1,T(this,d,k).call(this))})}function re(){const{pageIdx:se,matchIdx:ce}=this._selected;let Ce=0,ve=this._matchesCountTotal;if(-1!==ce){for(let Pe=0;Pe<se;Pe++){var pe;Ce+=(null===(pe=this._pageMatches[Pe])||void 0===pe?void 0:pe.length)||0}Ce+=ce+1}return(Ce<1||Ce>ve)&&(Ce=ve=0),{current:Ce,total:ve}}function be(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:T(this,Z,re).call(this)})}function we(se,ce=!1){var Ce,ve;this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:se,previous:ce,matchesCount:T(this,Z,re).call(this),rawQuery:null!==(Ce=null===(ve=this._state)||void 0===ve?void 0:ve.query)&&void 0!==Ce?Ce:null})}g.PDFFindController=class ge{constructor({linkService:ce,eventBus:Ce}){B(this,he),B(this,te),B(this,Z),B(this,X),B(this,$),B(this,U),B(this,Q),B(this,w),B(this,l),B(this,d),B(this,u),B(this,a),B(this,t),B(this,e),B(this,s),B(this,F),B(this,J),L(this,le,{get:ue,set:void 0}),B(this,ne),B(this,ee),this._linkService=ce,this._eventBus=Ce,T(this,ne,me).call(this),Ce._on("find",T(this,ee,Ee).bind(this)),Ce._on("findbarclose",T(this,X,j).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(ce){this._pdfDocument&&T(this,ne,me).call(this),ce&&(this._pdfDocument=ce,this._firstPageCapability.resolve())}scrollMatchIntoView({element:ce=null,selectedLeft:Ce=0,pageIndex:ve=-1,matchIndex:pe=-1}){this._scrollMatches&&ce&&-1!==pe&&pe===this._selected.matchIdx&&-1!==ve&&ve===this._selected.pageIdx&&(this._scrollMatches=!1,(0,m.scrollIntoView)(ce,{top:-50,left:Ce+-400},!0))}}},(W,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.CharacterType=void 0,g.getCharacterType=function f(h){return function m(h){return h<11904}(h)?function M(h){return 0==(65408&h)}(h)?function n(h){return 32===h||9===h||13===h||10===h}(h)?S.SPACE:function _(h){return h>=97&&h<=122||h>=65&&h<=90}(h)||function b(h){return h>=48&&h<=57}(h)||95===h?S.ALPHA_LETTER:S.PUNCT:function C(h){return 3584==(65408&h)}(h)?S.THAI_LETTER:160===h?S.SPACE:S.ALPHA_LETTER:function r(h){return h>=13312&&h<=40959||h>=63744&&h<=64255}(h)?S.HAN_LETTER:function c(h){return h>=12448&&h<=12543}(h)?S.KATAKANA_LETTER:function E(h){return h>=12352&&h<=12447}(h)?S.HIRAGANA_LETTER:function p(h){return h>=65376&&h<=65439}(h)?S.HALFWIDTH_KATAKANA_LETTER:S.ALPHA_LETTER};const S={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};g.CharacterType=S},(W,g,S)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFHistory=void 0,g.isDestArraysEqual=p,g.isDestHashesEqual=E;var m=S(6),M=S(17);function r(){return document.location.hash}function E(C,f){return"string"==typeof C&&"string"==typeof f&&(C===f||(0,m.parseQueryString)(C).get("nameddest")===f)}function p(C,f){function h(D,P){if(typeof D!=typeof P||Array.isArray(D)||Array.isArray(P))return!1;if(null!==D&&"object"==typeof D&&null!==P){if(Object.keys(D).length!==Object.keys(P).length)return!1;for(const N in D)if(!h(D[N],P[N]))return!1;return!0}return D===P||Number.isNaN(D)&&Number.isNaN(P)}if(!Array.isArray(C)||!Array.isArray(f)||C.length!==f.length)return!1;for(let D=0,P=C.length;D<P;D++)if(!h(C[D],f[D]))return!1;return!0}g.PDFHistory=class c{constructor({linkService:f,eventBus:h}){this.linkService=f,this.eventBus=h,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",D=>{this._isPagesLoaded=!!D.pagesCount},{once:!0})})}initialize({fingerprint:f,resetHistory:h=!1,updateUrl:D=!1}){if(!f||"string"!=typeof f)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const P=""!==this._fingerprint&&this._fingerprint!==f;this._fingerprint=f,this._updateUrl=!0===D,this._initialized=!0,this._bindEvents();const N=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=r(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(N,!0)||h){const{hash:K,page:ee,rotation:ne}=this._parseCurrentHash(!0);return!K||P||h?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:K,page:ee,rotation:ne},!0)}const q=N.destination;this._updateInternalState(q,N.uid,!0),void 0!==q.rotation&&(this._initialRotation=q.rotation),q.dest?(this._initialBookmark=JSON.stringify(q.dest),this._destination.page=null):q.hash?this._initialBookmark=q.hash:q.page&&(this._initialBookmark=`page=${q.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:f=null,explicitDest:h,pageNumber:D}){if(!this._initialized)return;if(f&&"string"!=typeof f)return void console.error(`PDFHistory.push: "${f}" is not a valid namedDest parameter.`);if(!Array.isArray(h))return void console.error(`PDFHistory.push: "${h}" is not a valid explicitDest parameter.`);if(!this._isValidPage(D)&&(null!==D||this._destination))return void console.error(`PDFHistory.push: "${D}" is not a valid pageNumber parameter.`);const P=f||JSON.stringify(h);if(!P)return;let N=!1;if(this._destination&&(E(this._destination.hash,P)||p(this._destination.dest,h))){if(this._destination.page)return;N=!0}this._popStateInProgress&&!N||(this._pushOrReplaceState({dest:h,hash:P,page:D,rotation:this.linkService.rotation},N),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(f){var h;if(this._initialized){if(!this._isValidPage(f))return void console.error(`PDFHistory.pushPage: "${f}" is not a valid page number.`);(null===(h=this._destination)||void 0===h?void 0:h.page)!==f&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${f}`,page:f,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const f=window.history.state;this._isValidState(f)&&f.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const f=window.history.state;this._isValidState(f)&&f.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(f,h=!1){const D=h||!this._destination,P={fingerprint:this._fingerprint,uid:D?this._uid:this._uid+1,destination:f};let N;if(this._updateInternalState(f,P.uid),this._updateUrl&&null!=f&&f.hash){const q=document.location.href.split("#")[0];q.startsWith("file://")||(N=`${q}#${f.hash}`)}D?window.history.replaceState(P,"",N):window.history.pushState(P,"",N)}_tryPushCurrentPosition(f=!1){if(!this._position)return;let h=this._position;if(f&&(h=Object.assign(Object.create(null),this._position),h.temporary=!0),!this._destination)return void this._pushOrReplaceState(h);if(this._destination.temporary)return void this._pushOrReplaceState(h,!0);if(this._destination.hash===h.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let D=!1;if(this._destination.page>=h.first&&this._destination.page<=h.page){if(void 0!==this._destination.dest||!this._destination.first)return;D=!0}this._pushOrReplaceState(h,D)}_isValidPage(f){return Number.isInteger(f)&&f>0&&f<=this.linkService.pagesCount}_isValidState(f,h=!1){if(!f)return!1;if(f.fingerprint!==this._fingerprint){if(!h)return!1;{if("string"!=typeof f.fingerprint||f.fingerprint.length!==this._fingerprint.length)return!1;const[D]=performance.getEntriesByType("navigation");if("reload"!==(null==D?void 0:D.type))return!1}}return!(!Number.isInteger(f.uid)||f.uid<0||null===f.destination||"object"!=typeof f.destination)}_updateInternalState(f,h,D=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),D&&null!=f&&f.temporary&&delete f.temporary,this._destination=f,this._uid=h,this._maxUid=Math.max(this._maxUid,h),this._numPositionUpdates=0}_parseCurrentHash(f=!1){const h=unescape(r()).substring(1),D=(0,m.parseQueryString)(h),P=D.get("nameddest")||"";let N=0|D.get("page");return(!this._isValidPage(N)||f&&P.length>0)&&(N=null),{hash:h,page:N,rotation:this.linkService.rotation}}_updateViewarea({location:f}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:f.pdfOpenParams.substring(1),page:this.linkService.page,first:f.pageNumber,rotation:f.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:f}){const h=r(),D=this._currentHash!==h;if(this._currentHash=h,!f){this._uid++;const{hash:N,page:q,rotation:K}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:N,page:q,rotation:K},!0)}if(!this._isValidState(f))return;this._popStateInProgress=!0,D&&(this._blockHashChange++,(0,M.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const P=f.destination;this._updateInternalState(P,f.uid,!0),(0,m.isValidRotation)(P.rotation)&&(this.linkService.rotation=P.rotation),P.dest?this.linkService.goToDestination(P.dest):P.hash?this.linkService.setHash(P.hash):P.page&&(this.linkService.page=P.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(W,g,S)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFScriptingManager=void 0;var m=S(6),M=S(3);g.PDFScriptingManager=class _{constructor({eventBus:n,sandboxBundleSrc:r=null,scriptingFactory:c=null,docPropertiesLookup:E=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=n,this._sandboxBundleSrc=r,this._scriptingFactory=c,this._docPropertiesLookup=E,this._scriptingFactory||window.addEventListener("updatefromsandbox",p=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:p.detail})})}setViewer(n){this._pdfViewer=n}setDocument(n){var r=this;return A(function*(){var c;if(r._pdfDocument&&(yield r._destroyScripting()),r._pdfDocument=n,!n)return;const[E,p,C]=yield Promise.all([n.getFieldObjects(),n.getCalculationOrderIds(),n.getJSActions()]);if(E||C){if(n===r._pdfDocument){try{r._scripting=r._createScripting()}catch(f){return console.error(`PDFScriptingManager.setDocument: "${null==f?void 0:f.message}".`),void(yield r._destroyScripting())}r._internalEvents.set("updatefromsandbox",f=>{(null==f?void 0:f.source)===window&&r._updateFromSandbox(f.detail)}),r._internalEvents.set("dispatcheventinsandbox",f=>{var h;null===(h=r._scripting)||void 0===h||h.dispatchEventInSandbox(f.detail)}),r._internalEvents.set("pagechanging",({pageNumber:f,previous:h})=>{f!==h&&(r._dispatchPageClose(h),r._dispatchPageOpen(f))}),r._internalEvents.set("pagerendered",({pageNumber:f})=>{r._pageOpenPending.has(f)&&f===r._pdfViewer.currentPageNumber&&r._dispatchPageOpen(f)}),r._internalEvents.set("pagesdestroy",function(){var f=A(function*(h){var D,P;yield r._dispatchPageClose(r._pdfViewer.currentPageNumber),yield null===(D=r._scripting)||void 0===D?void 0:D.dispatchEventInSandbox({id:"doc",name:"WillClose"}),null===(P=r._closeCapability)||void 0===P||P.resolve()});return function(h){return f.apply(this,arguments)}}()),r._domEvents.set("mousedown",f=>{r._mouseState.isDown=!0}),r._domEvents.set("mouseup",f=>{r._mouseState.isDown=!1});for(const[f,h]of r._internalEvents)r._eventBus._on(f,h);for(const[f,h]of r._domEvents)window.addEventListener(f,h,!0);try{const f=yield r._getDocProperties();if(n!==r._pdfDocument)return;yield r._scripting.createSandbox({objects:E,calculationOrder:p,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...f,actions:C}}),r._eventBus.dispatch("sandboxcreated",{source:r})}catch(f){return console.error(`PDFScriptingManager.setDocument: "${null==f?void 0:f.message}".`),void(yield r._destroyScripting())}yield null===(c=r._scripting)||void 0===c?void 0:c.dispatchEventInSandbox({id:"doc",name:"Open"}),yield r._dispatchPageOpen(r._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{n===r._pdfDocument&&(r._ready=!0)})}}else yield r._destroyScripting()})()}dispatchWillSave(n){var r=this;return A(function*(){var c;return null===(c=r._scripting)||void 0===c?void 0:c.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(n){var r=this;return A(function*(){var c;return null===(c=r._scripting)||void 0===c?void 0:c.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(n){var r=this;return A(function*(){var c;return null===(c=r._scripting)||void 0===c?void 0:c.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(n){var r=this;return A(function*(){var c;return null===(c=r._scripting)||void 0===c?void 0:c.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){var n;return(null===(n=this._destroyCapability)||void 0===n?void 0:n.promise)||null}get ready(){return this._ready}get _internalEvents(){return(0,M.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,M.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,M.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,M.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(n){var r=this;return A(function*(){const c=r._pdfViewer.isInPresentationMode||r._pdfViewer.isChangingPresentationMode,{id:E,siblings:p,command:C,value:f}=n;if(!E){switch(C){case"clear":console.clear();break;case"error":console.error(f);break;case"layout":if(c)return;const P=(0,m.apiPageLayoutToViewerModes)(f);r._pdfViewer.spreadMode=P.spreadMode;break;case"page-num":r._pdfViewer.currentPageNumber=f+1;break;case"print":yield r._pdfViewer.pagesPromise,r._eventBus.dispatch("print",{source:r});break;case"println":console.log(f);break;case"zoom":if(c)return;r._pdfViewer.currentScaleValue=f;break;case"SaveAs":r._eventBus.dispatch("save",{source:r});break;case"FirstPage":r._pdfViewer.currentPageNumber=1;break;case"LastPage":r._pdfViewer.currentPageNumber=r._pdfViewer.pagesCount;break;case"NextPage":r._pdfViewer.nextPage();break;case"PrevPage":r._pdfViewer.previousPage();break;case"ZoomViewIn":if(c)return;r._pdfViewer.increaseScale();break;case"ZoomViewOut":if(c)return;r._pdfViewer.decreaseScale()}return}if(c&&n.focus)return;delete n.id,delete n.siblings;const h=p?[E,...p]:[E];for(const P of h){const N=document.getElementById(P);var D;N?N.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:n})):null===(D=r._pdfDocument)||void 0===D||D.annotationStorage.setValue(P,n)}})()}_dispatchPageOpen(n,r=!1){var c=this;return A(function*(){const E=c._pdfDocument,p=c._visitedPages;if(r&&(c._closeCapability=(0,M.createPromiseCapability)()),!c._closeCapability)return;const C=c._pdfViewer.getPageView(n-1);if((null==C?void 0:C.renderingState)!==m.RenderingStates.FINISHED)return void c._pageOpenPending.add(n);c._pageOpenPending.delete(n);const f=A(function*(){var h,D;const P=yield p.has(n)?null:null===(h=C.pdfPage)||void 0===h?void 0:h.getJSActions();E===c._pdfDocument&&(yield null===(D=c._scripting)||void 0===D?void 0:D.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:n,actions:P}))})();p.set(n,f)})()}_dispatchPageClose(n){var r=this;return A(function*(){var c;const E=r._pdfDocument,p=r._visitedPages;if(!r._closeCapability||r._pageOpenPending.has(n))return;const C=p.get(n);C&&(p.set(n,null),yield C,E===r._pdfDocument&&(yield null===(c=r._scripting)||void 0===c?void 0:c.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:n})))})()}_getDocProperties(){var n=this;return A(function*(){if(n._docPropertiesLookup)return n._docPropertiesLookup(n._pdfDocument);const{docPropertiesLookup:r}=S(24);return r(n._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,M.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:n}=S(24);return new n(this._sandboxBundleSrc)}_destroyScripting(){var n=this;return A(function*(){var r,c;if(!n._scripting)return n._pdfDocument=null,void(null===(c=n._destroyCapability)||void 0===c||c.resolve());n._closeCapability&&(yield Promise.race([n._closeCapability.promise,new Promise(E=>{setTimeout(E,1e3)})]).catch(E=>{}),n._closeCapability=null),n._pdfDocument=null;try{yield n._scripting.destroySandbox()}catch(E){}for(const[E,p]of n._internalEvents)n._eventBus._off(E,p);n._internalEvents.clear();for(const[E,p]of n._domEvents)window.removeEventListener(E,p,!0);n._domEvents.clear(),n._pageOpenPending.clear(),n._visitedPages.clear(),n._scripting=null,delete n._mouseState.isDown,n._ready=!1,null===(r=n._destroyCapability)||void 0===r||r.resolve()})()}}},(W,g,S)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.GenericScripting=void 0,g.docPropertiesLookup=function M(n){return _.apply(this,arguments)};var m=S(3);function _(){return(_=A(function*(n){const c="".split("#")[0];let{info:E,metadata:p,contentDispositionFilename:C,contentLength:f}=yield n.getMetadata();if(!f){const{length:h}=yield n.getDownloadInfo();f=h}return{...E,baseURL:c,filesize:f,filename:C||(0,m.getPdfFilenameFromUrl)(""),metadata:null==p?void 0:p.getRaw(),authors:null==p?void 0:p.get("dc:creator"),numPages:n.numPages,URL:""}})).apply(this,arguments)}g.GenericScripting=class b{constructor(r){this._ready=(0,m.loadScript)(r,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(r){var c=this;return A(function*(){(yield c._ready).create(r)})()}dispatchEventInSandbox(r){var c=this;return A(function*(){const E=yield c._ready;setTimeout(()=>E.dispatchEvent(r),0)})()}destroySandbox(){var r=this;return A(function*(){(yield r._ready).nukeSandbox()})()}}}],V={};function y(W){var g=V[W];if(void 0!==g)return g.exports;var S=V[W]={exports:{}};return R[W](S,S.exports,y),S.exports}var I={};return(()=>{var W=I;Object.defineProperty(W,"__esModule",{value:!0}),Object.defineProperty(W,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return _.AnnotationLayerBuilder}}),Object.defineProperty(W,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return g.DefaultAnnotationLayerFactory}}),Object.defineProperty(W,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return g.DefaultStructTreeLayerFactory}}),Object.defineProperty(W,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return g.DefaultTextLayerFactory}}),Object.defineProperty(W,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return g.DefaultXfaLayerFactory}}),Object.defineProperty(W,"DownloadManager",{enumerable:!0,get:function(){return b.DownloadManager}}),Object.defineProperty(W,"EventBus",{enumerable:!0,get:function(){return n.EventBus}}),Object.defineProperty(W,"GenericL10n",{enumerable:!0,get:function(){return r.GenericL10n}}),Object.defineProperty(W,"LinkTarget",{enumerable:!0,get:function(){return S.LinkTarget}}),Object.defineProperty(W,"NullL10n",{enumerable:!0,get:function(){return c.NullL10n}}),Object.defineProperty(W,"PDFFindController",{enumerable:!0,get:function(){return E.PDFFindController}}),Object.defineProperty(W,"PDFHistory",{enumerable:!0,get:function(){return p.PDFHistory}}),Object.defineProperty(W,"PDFLinkService",{enumerable:!0,get:function(){return S.PDFLinkService}}),Object.defineProperty(W,"PDFPageView",{enumerable:!0,get:function(){return C.PDFPageView}}),Object.defineProperty(W,"PDFScriptingManager",{enumerable:!0,get:function(){return f.PDFScriptingManager}}),Object.defineProperty(W,"PDFSinglePageViewer",{enumerable:!0,get:function(){return M.PDFSinglePageViewer}}),Object.defineProperty(W,"PDFViewer",{enumerable:!0,get:function(){return M.PDFViewer}}),Object.defineProperty(W,"ProgressBar",{enumerable:!0,get:function(){return m.ProgressBar}}),Object.defineProperty(W,"SimpleLinkService",{enumerable:!0,get:function(){return S.SimpleLinkService}}),Object.defineProperty(W,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return h.StructTreeLayerBuilder}}),Object.defineProperty(W,"TextLayerBuilder",{enumerable:!0,get:function(){return D.TextLayerBuilder}}),Object.defineProperty(W,"XfaLayerBuilder",{enumerable:!0,get:function(){return P.XfaLayerBuilder}}),Object.defineProperty(W,"parseQueryString",{enumerable:!0,get:function(){return m.parseQueryString}});var g=y(1),S=y(5),m=y(6),M=y(10),_=y(2),b=y(16),n=y(17),r=y(18),c=y(4),E=y(20),p=y(22),C=y(12),f=y(23),h=y(7),D=y(8),P=y(9)})(),I})(),H.exports=y()},2722:(H,o,v)=>{"use strict";v.d(o,{R:()=>T});var i=v(4482),B=v(5403),L=v(8421),G=v(5032);function T(x){return(0,i.e)((A,R)=>{(0,L.Xf)(x).subscribe((0,B.x)(R,()=>R.complete(),G.Z)),!R.closed&&A.subscribe(R)})}},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{},7156:H=>{function o(i,B,L,G,T,x,A){try{var R=i[x](A),V=R.value}catch(y){return void L(y)}R.done?B(V):Promise.resolve(V).then(G,T)}H.exports=function v(i){return function(){var B=this,L=arguments;return new Promise(function(G,T){var x=i.apply(B,L);function A(V){o(x,G,T,A,R,"next",V)}function R(V){o(x,G,T,A,R,"throw",V)}A(void 0)})}},H.exports.__esModule=!0,H.exports.default=H.exports},6521:H=>{H.exports=function o(v,i){if(i.has(v))throw new TypeError("Cannot initialize the same private elements twice on an object")},H.exports.__esModule=!0,H.exports.default=H.exports},8912:H=>{H.exports=function o(v,i){return i.get?i.get.call(v):i.value},H.exports.__esModule=!0,H.exports.default=H.exports},3448:H=>{H.exports=function o(v,i,B){if(i.set)i.set.call(v,B);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=B}},H.exports.__esModule=!0,H.exports.default=H.exports},2625:H=>{H.exports=function o(v,i){if(v!==i)throw new TypeError("Private static access of wrong provenance")},H.exports.__esModule=!0,H.exports.default=H.exports},2506:H=>{H.exports=function o(v,i){if(void 0===v)throw new TypeError("attempted to "+i+" private static field before its declaration")},H.exports.__esModule=!0,H.exports.default=H.exports},4069:H=>{H.exports=function o(v,i,B){if(!i.has(v))throw new TypeError("attempted to "+B+" private field on non-instance");return i.get(v)},H.exports.__esModule=!0,H.exports.default=H.exports},468:(H,o,v)=>{var i=v(8912),B=v(4069);H.exports=function L(G,T){var x=B(G,T,"get");return i(G,x)},H.exports.__esModule=!0,H.exports.default=H.exports},9159:(H,o,v)=>{var i=v(6521);H.exports=function B(L,G,T){i(L,G),G.set(L,T)},H.exports.__esModule=!0,H.exports.default=H.exports},5661:(H,o,v)=>{var i=v(3448),B=v(4069);H.exports=function L(G,T,x){var A=B(G,T,"set");return i(G,A,x),x},H.exports.__esModule=!0,H.exports.default=H.exports},4467:H=>{H.exports=function o(v,i,B){if(!i.has(v))throw new TypeError("attempted to get private field on non-instance");return B},H.exports.__esModule=!0,H.exports.default=H.exports},1860:(H,o,v)=>{var i=v(6521);H.exports=function B(L,G){i(L,G),G.add(L)},H.exports.__esModule=!0,H.exports.default=H.exports},1280:(H,o,v)=>{var i=v(8912),B=v(2625),L=v(2506);H.exports=function G(T,x,A){return B(T,x),L(A,"get"),i(T,A)},H.exports.__esModule=!0,H.exports.default=H.exports},2306:(H,o,v)=>{var i=v(3448),B=v(2625),L=v(2506);H.exports=function G(T,x,A,R){return B(T,x),L(A,"set"),i(T,A,R),R},H.exports.__esModule=!0,H.exports.default=H.exports},5764:(H,o,v)=>{var i=v(2625);H.exports=function B(L,G,T){return i(L,G),T},H.exports.__esModule=!0,H.exports.default=H.exports},1670:(H,o,v)=>{var i=v(4062);H.exports=function B(L,G,T){return(G=i(G))in L?Object.defineProperty(L,G,{value:T,enumerable:!0,configurable:!0,writable:!0}):L[G]=T,L},H.exports.__esModule=!0,H.exports.default=H.exports},5036:(H,o,v)=>{var i=v(8698).default;H.exports=function B(L,G){if("object"!==i(L)||null===L)return L;var T=L[Symbol.toPrimitive];if(void 0!==T){var x=T.call(L,G||"default");if("object"!==i(x))return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===G?String:Number)(L)},H.exports.__esModule=!0,H.exports.default=H.exports},4062:(H,o,v)=>{var i=v(8698).default,B=v(5036);H.exports=function L(G){var T=B(G,"string");return"symbol"===i(T)?T:String(T)},H.exports.__esModule=!0,H.exports.default=H.exports},8698:H=>{function o(v){return H.exports=o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},H.exports.__esModule=!0,H.exports.default=H.exports,o(v)}H.exports=o,H.exports.__esModule=!0,H.exports.default=H.exports}}]);
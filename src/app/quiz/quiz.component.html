<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title> Quizes </ion-title>
    <ion-buttons slot="start">
      <ion-icon size="large" name="chevron-back-outline" (click)="backTopaper()"></ion-icon>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-padding">
  <svg *ngIf="!papers.length" class="animate-svg" xml:space="preserve" viewBox="0 0 100 100" y="0" x="0" xmlns="http://www.w3.org/2000/svg" id="圖層_1" version="1.1" style="height: 100%; width: 100%; background: transparent;" width="200px" height="200px"><g class="ldl-scale" style="transform-origin: 50% 50%; transform: rotate(0deg) scale(0.8, 0.8);"><g class="ldl-ani"><g class="ldl-layer"><g class="ldl-ani" style="transform: scale(0.91); transform-origin: 50px 50px; animation: 1.11111s linear -0.57971s infinite normal forwards running breath-77b98ec2-7e7a-44d1-84f8-9ef7aedd7000;"><path fill="#4a3827" d="M86.467 83.865H13.533A3.533 3.533 0 0 1 10 80.332V25.064a3.533 3.533 0 0 1 3.533-3.533h72.934A3.533 3.533 0 0 1 90 25.064v55.268a3.533 3.533 0 0 1-3.533 3.533z" style="fill: rgb(74, 56, 39);"></path></g></g><g class="ldl-layer"><g class="ldl-ani" style="transform: scale(0.91); transform-origin: 50px 50px; animation: 1.11111s linear -0.603865s infinite normal forwards running breath-77b98ec2-7e7a-44d1-84f8-9ef7aedd7000;"><path fill="#666" d="M42.808 16.484h-27.76v62.334h27.76c3.94.012 6.31-1.142 7.192 1.514V20.521c-1.497-2.951-3.955-4.189-7.192-4.037z" style="fill: rgb(102, 102, 102);"></path></g></g><g class="ldl-layer"><g class="ldl-ani" style="transform: scale(0.91); transform-origin: 50px 50px; animation: 1.11111s linear -0.628019s infinite normal forwards running breath-77b98ec2-7e7a-44d1-84f8-9ef7aedd7000;">
    <path fill="#666" d="M57.192 16.484h27.76v62.334h-27.76c-3.94.012-6.31-1.142-7.192 1.514V20.521c1.497-2.951 3.955-4.189 7.192-4.037z" style="fill: rgb(102, 102, 102);"></path></g></g><g class="ldl-layer"><g class="ldl-ani" style="transform: scale(0.91); transform-origin: 50px 50px; animation: 1.11111s linear -0.652174s infinite normal forwards running breath-77b98ec2-7e7a-44d1-84f8-9ef7aedd7000;"><path fill="#b3b3b3" d="M42.808 14.465h-27.76v62.334h27.76c3.94.012 6.31.877 7.192 3.533v-61.83c-1.497-2.951-3.955-4.189-7.192-4.037z" style="fill: rgb(179, 179, 179);"></path>
    </g></g><g class="ldl-layer"><g class="ldl-ani" style="transform: scale(0.91); transform-origin: 50px 50px; animation: 1.11111s linear -0.676329s infinite normal forwards running breath-77b98ec2-7e7a-44d1-84f8-9ef7aedd7000;"><path fill="#b3b3b3" d="M57.192 14.465h27.76v62.334h-27.76c-3.94.012-6.31.877-7.192 3.533v-61.83c1.497-2.951 3.955-4.189 7.192-4.037z" style="fill: rgb(179, 179, 179);"></path></g></g><g class="ldl-layer"><g class="ldl-ani" style="transform: scale(0.91); transform-origin: 50px 50px; animation: 1.11111s linear -0.700483s infinite normal forwards running breath-77b98ec2-7e7a-44d1-84f8-9ef7aedd7000;">
      <path d="M29.285 68.05h-4.711v19.517l4.711-4.038 4.711 4.038V68.05z" fill="#c33737" style="fill: rgb(195, 55, 55);"></path></g></g><g class="ldl-layer"><g class="ldl-ani" style="transform: scale(0.91); transform-origin: 50px 50px; animation: 1.11111s linear -0.724638s infinite normal forwards running breath-77b98ec2-7e7a-44d1-84f8-9ef7aedd7000;"><path fill="#e0e0e0" d="M42.808 12.446h-27.76V74.78h27.76c3.94.012 6.31 1.886 7.192 4.543V16.484c-1.497-2.952-3.955-4.19-7.192-4.038z" style="fill: rgb(224, 224, 224);"></path></g></g><g class="ldl-layer"><g class="ldl-ani" style="transform: scale(0.91); transform-origin: 50px 50px; animation: 1.11111s linear -0.748792s infinite normal forwards running breath-77b98ec2-7e7a-44d1-84f8-9ef7aedd7000;"><path fill="#e0e0e0" d="M57.192 12.446h27.76V74.78h-27.76c-3.94.012-6.31 1.886-7.192 4.543V16.484c1.497-2.952 3.955-4.19 7.192-4.038z" style="fill: rgb(224, 224, 224);">
      </path></g></g><g class="ldl-layer"><g class="ldl-ani" style="transform: scale(0.91); transform-origin: 50px 50px; animation: 1.11111s linear -0.772947s infinite normal forwards running breath-77b98ec2-7e7a-44d1-84f8-9ef7aedd7000;"><path fill="#333" d="M76.354 38.932h-18.26a2.037 2.037 0 0 1-2.037-2.037V20.148c0-1.125.912-2.037 2.037-2.037h18.261c1.125 0 2.037.912 2.037 2.037v16.746a2.039 2.039 0 0 1-2.038 2.038z" style="fill: rgb(51, 51, 51);"></path></g></g><g class="ldl-layer"><g class="ldl-ani"><g>
        <g class="ldl-layer"><g class="ldl-ani" style="transform: scale(0.91); transform-origin: 50px 50px; animation: 1.11111s linear -0.797101s infinite normal forwards running breath-77b98ec2-7e7a-44d1-84f8-9ef7aedd7000;"><path d="M57.129 44.448h20.19" stroke-miterlimit="10" stroke-linecap="round" stroke-width="1.919" stroke="#333" fill="none" style="stroke: rgb(51, 51, 51);"></path></g></g><g class="ldl-layer">
          <g class="ldl-ani" style="transform: scale(0.91); transform-origin: 50px 50px; animation: 1.11111s linear -0.821256s infinite normal forwards running breath-77b98ec2-7e7a-44d1-84f8-9ef7aedd7000;">
            <path d="M57.129 50.252h20.19" stroke-miterlimit="10" stroke-linecap="round" stroke-width="1.919" stroke="#333" fill="none" style="stroke: rgb(51, 51, 51);"></path></g>
          </g><g class="ldl-layer"><g class="ldl-ani" style="transform: scale(0.91); transform-origin: 50px 50px; animation: 1.11111s linear -0.845411s infinite normal forwards running breath-77b98ec2-7e7a-44d1-84f8-9ef7aedd7000;">
            <path d="M57.129 56.057h20.19" stroke-miterlimit="10" stroke-linecap="round" stroke-width="1.919" stroke="#333" fill="none" style="stroke: rgb(51, 51, 51);"></path></g></g><g class="ldl-layer"><g class="ldl-ani" style="transform: scale(0.91); transform-origin: 50px 50px; animation: 1.11111s linear -0.869565s infinite normal forwards running breath-77b98ec2-7e7a-44d1-84f8-9ef7aedd7000;"><path d="M57.129 61.861h20.19" stroke-miterlimit="10" stroke-linecap="round" stroke-width="1.919" stroke="#333" fill="none" style="stroke: rgb(51, 51, 51);"></path></g></g><g class="ldl-layer"><g class="ldl-ani" style="transform: scale(0.91); transform-origin: 50px 50px; animation: 1.11111s linear -0.89372s infinite normal forwards running breath-77b98ec2-7e7a-44d1-84f8-9ef7aedd7000;"><path d="M57.129 67.666h20.19" stroke-miterlimit="10" stroke-linecap="round" stroke-width="1.919" stroke="#333" fill="none" style="stroke: rgb(51, 51, 51);"></path></g></g></g></g></g><g class="ldl-layer"><g class="ldl-ani"><g><g class="ldl-layer"><g class="ldl-ani" style="transform: scale(0.91); transform-origin: 50px 50px; animation: 1.11111s linear -0.917874s infinite normal forwards running breath-77b98ec2-7e7a-44d1-84f8-9ef7aedd7000;"><path d="M42.87 44.448H22.682" stroke-miterlimit="10" stroke-linecap="round" stroke-width="1.919" stroke="#333" fill="none" style="stroke: rgb(51, 51, 51);"></path></g></g><g class="ldl-layer"><g class="ldl-ani" style="transform: scale(0.91); transform-origin: 50px 50px; animation: 1.11111s linear -0.942029s infinite normal forwards running breath-77b98ec2-7e7a-44d1-84f8-9ef7aedd7000;"><path d="M42.87 50.252H22.682" stroke-miterlimit="10" stroke-linecap="round" stroke-width="1.919" stroke="#333" fill="none" style="stroke: rgb(51, 51, 51);"></path></g></g><g class="ldl-layer"><g class="ldl-ani" style="transform: scale(0.91); transform-origin: 50px 50px; animation: 1.11111s linear -0.966184s infinite normal forwards running breath-77b98ec2-7e7a-44d1-84f8-9ef7aedd7000;"><path d="M42.87 56.057H22.682" stroke-miterlimit="10" stroke-linecap="round" stroke-width="1.919" stroke="#333" fill="none" style="stroke: rgb(51, 51, 51);"></path></g></g><g class="ldl-layer"><g class="ldl-ani" style="transform: scale(0.91); transform-origin: 50px 50px; animation: 1.11111s linear -0.990338s infinite normal forwards running breath-77b98ec2-7e7a-44d1-84f8-9ef7aedd7000;"><path d="M42.87 61.861H22.682" stroke-miterlimit="10" stroke-linecap="round" stroke-width="1.919" stroke="#333" fill="none" style="stroke: rgb(51, 51, 51);"></path></g></g><g class="ldl-layer"><g class="ldl-ani" style="transform: scale(0.91); transform-origin: 50px 50px; animation: 1.11111s linear -1.01449s infinite normal forwards running breath-77b98ec2-7e7a-44d1-84f8-9ef7aedd7000;"><path d="M42.87 67.666H22.682" stroke-miterlimit="10" stroke-linecap="round" stroke-width="1.919" stroke="#333" fill="none" style="stroke: rgb(51, 51, 51);"></path></g></g><g class="ldl-layer"><g class="ldl-ani" style="transform: scale(0.91); transform-origin: 50px 50px; animation: 1.11111s linear -1.03865s infinite normal forwards running breath-77b98ec2-7e7a-44d1-84f8-9ef7aedd7000;"><path d="M42.87 21.356H22.681" stroke-miterlimit="10" stroke-linecap="round" stroke-width="1.919" stroke="#333" fill="none" style="stroke: rgb(51, 51, 51);"></path></g></g><g class="ldl-layer"><g class="ldl-ani" style="transform: scale(0.91); transform-origin: 50px 50px; animation: 1.11111s linear -1.0628s infinite normal forwards running breath-77b98ec2-7e7a-44d1-84f8-9ef7aedd7000;"><path d="M42.87 27.161H22.681" stroke-miterlimit="10" stroke-linecap="round" stroke-width="1.919" stroke="#333" fill="none" style="stroke: rgb(51, 51, 51);"></path></g></g><g class="ldl-layer"><g class="ldl-ani" style="transform: scale(0.91); transform-origin: 50px 50px; animation: 1.11111s linear -1.08696s infinite normal forwards running breath-77b98ec2-7e7a-44d1-84f8-9ef7aedd7000;"><path d="M42.87 32.965H22.681" stroke-miterlimit="10" stroke-linecap="round" stroke-width="1.919" stroke="#333" fill="none" style="stroke: rgb(51, 51, 51);"></path></g></g><g class="ldl-layer"><g class="ldl-ani" style="transform: scale(0.91); transform-origin: 50px 50px; animation: 1.11111s linear -1.11111s infinite normal forwards running breath-77b98ec2-7e7a-44d1-84f8-9ef7aedd7000;"><path d="M42.87 38.77H22.681" stroke-miterlimit="10" stroke-linecap="round" stroke-width="1.919" stroke="#333" fill="none" style="stroke: rgb(51, 51, 51);"></path></g></g></g></g></g>
            </g></g></svg>
  <ion-list [inset]="true">
    <ion-item
      [button]="true"
      detail="false"
      *ngFor="let data of papers"
      (click)="routeToQuiz(data)"
    >
      <!-- <div class="unread-indicator-wrapper" slot="start">
      <div class="unread-indicator"></div>
    </div> -->
      <ion-label style="padding: 20px;">
        <strong>{{ data.paper_title }}</strong>
        <ion-text>{{ data.className }} {{ data.paper }}</ion-text
        ><br />
        <ion-note color="medium" class="ion-text-wrap">
          {{ data.date }}
        </ion-note>
      </ion-label>
      <div class="metadata-end-wrapper" slot="end">
        <ion-note color="medium">{{ data.time }}</ion-note>
        <ion-icon color="medium" name="chevron-forward"></ion-icon>
      </div>
    </ion-item>
  </ion-list>

  <ion-fab slot="fixed" vertical="bottom" horizontal="end">
    <ion-fab-button size="small" id="open-modal" expand="block">
      <ion-icon name="add"></ion-icon>
    </ion-fab-button>
  </ion-fab>

  <ion-modal trigger="open-modal">
    <ng-template>
      <ion-header [translucent]="true">
        <ion-toolbar>
          <ion-title> Create Question Paper </ion-title>
          <ion-buttons slot="start">
            <ion-icon size="large" name="chevron-back-outline" (click)="cancel()"></ion-icon>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>

      <ion-content class="ion-padding" id="white-background">
        <ion-card-content [formGroup]="uploadQuizgroup">
          <a href="assets\sample question paper.xlsx" download vertical="top" horizontal="end">
              <ion-button style="margin-top: 20px" fill="outline"
                >Download Sample Paper
              </ion-button>
          </a>
          <ion-item fill="">
            <ion-label position="floating">Paper title</ion-label>
            <ion-input
              formControlName="paper_title"
              placeholder="Enter text"
            ></ion-input>
          </ion-item>
          <ion-list>
            <ion-item fill="">
              <div class="tabs">
                <div class="tab">
                  <label class="tab-label" for="chck3"> Date & Time</label>
                </div>
              </div>
            </ion-item>
            <div class="tab">
              <input type="checkbox" id="chck3" />
              <div class="tab-content">
                <ion-datetime
                  (ionChange)="dateTimeUpdated($event)"
                  displayFormat="DD.MM.YYYY HH:mm"
                  [showDefaultButtons]="true"
                ></ion-datetime>
              </div>
            </div>
          </ion-list>
          <ion-list>
            <ion-item fill="">
              <ion-label position="floating">Class</ion-label>
              <ion-select
                formControlName="classId"
                placeholder="Select Class"
                [multiple]="false"
                (ionChange)="getSubjectsByclassId($event)"
              >
                <ion-select-option
                  *ngFor="let data of classData"
                  [value]="data._id"
                  >{{ data.classNamme }}</ion-select-option
                >
              </ion-select>
            </ion-item>
          </ion-list>
          <ion-list>
            <ion-item fill="">
              <ion-label position="floating">Lecture</ion-label>
              <ion-select
                formControlName="lec_id"
                placeholder="Select Lecture"
                (ionChange)="onchange_lecture($event)"
                [multiple]="false"
              >
                <ion-select-option
                  *ngFor="let data of lecturesData"
                  [value]="data._id"
                  >{{ data.lec_title }}</ion-select-option
                >
              </ion-select>
            </ion-item>
          </ion-list>
          <div class="drag-file-area">
            <label for="choose-file">
              <span class="material-icons-outlined upload-icon"
                ><img src="assets\upload.png" alt="" width="30px" />
              </span>
              <h3 class="dynamic-message browse-files-text">
                Choose file here
              </h3>
              <input
                type="file"
                id="choose-file"
                accept=".xlsx"
                (change)="filechange($event)"
                formControlName="file"
                class="default-file-input"
              />
              {{ uploadQuizgroup.get("file")?.value.name }}
            </label>
          </div>

          <ion-button
            style="margin-top: 20px"
            (click)="uploadExcel()"
            expand="block"
          >
            <ion-icon slot="start" name="cloud-upload-outline"></ion-icon>
            {{ uploading ? "Uploading " : "Upload" }}
            <ion-spinner
              *ngIf="uploading"
              name="lines-sharp-small"
            ></ion-spinner>
          </ion-button>
        </ion-card-content>
        <!-- snackbar card -->
        <div class="card" *ngIf="uploadStatus.status">
          <ion-icon size="large" [name]="currentStatusIcon"></ion-icon>
          <span class="message">{{ uploadStatus.message }}</span>
        </div>
      </ion-content>
    </ng-template></ion-modal
  ></ion-content
>

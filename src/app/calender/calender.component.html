<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      Scheduled Lectures
    </ion-title>
    <ion-buttons slot="start">
      <ion-icon name="chevron-back-outline" (click)="backToHome()"></ion-icon>
    </ion-buttons>
  </ion-toolbar>
  </ion-header>


<ion-content [fullscreen]="true">
  <div class="main-container-wrapper">
    <header>
      <button class="header__btn header__btn--right" title="Add event" (click)="routeToEvents()">
        <svg
          class="icon"
          width="26px"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 512 512"
        >
          <path
            fill="#fff"
            d="M416 277.333H277.333V416h-42.666V277.333H96v-42.666h138.667V96h42.666v138.667H416v42.666z"
          />
        </svg>
      </button>
    </header>
    <main>
      <div class="calendar-container">
        <div class="calendar-container__header">
          <button
            class="calendar-container__btn calendar-container__btn--left"
            title="Previous"
            (click)="goToPreviousMonth()"
          >
            <ion-icon name="chevron-back-outline"></ion-icon>
          </button>
          <h2 class="calendar-container__title">{{currentMonthName}} {{currentYear}}</h2>
          <button
            class="calendar-container__btn calendar-container__btn--right"
            title="Next"
            (click)="goToNextMonth()"
          >
          <ion-icon name="chevron-back-outline" style="transform: rotate(180deg);"></ion-icon>
          </button>
        </div>
        <div class="calendar-container__body">
          <div class="calendar-table">
            <div class="calendar-table__header">
              <div class="calendar-table__row">
                <div class="calendar-table__col">S</div>
                <div class="calendar-table__col">M</div>
                <div class="calendar-table__col">T</div>
                <div class="calendar-table__col">W</div>
                <div class="calendar-table__col">T</div>
                <div class="calendar-table__col">F</div>
                <div class="calendar-table__col">S</div>
              </div>
              <div class="calendar-table__body">
                <div *ngFor="let row of calendarDates" class="calendar-table__row">
                  <div *ngFor="let date of row" [class]="
                  currentDate === date.date?'calendar-table__col calendar-table__today':'calendar-table__col'  && checkSeriesDateExists(date.day, date.day + 2,date.date)?'calendar-table__col calendar-table__event calendar-table__event--long calendar-table__event--start':'calendar-table__col' && isBetweenSeries(date.day,date.date)?'calendar-table__col calendar-table__event calendar-table__event--long':'calendar-table__col' && isSeriesEnd(date.day,date.date)?'calendar-table__col calendar-table__event calendar-table__event--long calendar-table__event--end':'calendar-table__col' && checkDateExists(date.day,date.date)?'calendar-table__col calendar-table__event':'calendar-table__col' && checkLargestDayEndsAndNextDayStarts(date.day,date.date)?'calendar-table__col':'calendar-table__col'">
                  <div class="calendar-table__item">
                      <span>{{ date.day }}</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="events-container">
        <span class="events__title">{{!transformedCalenderEvents.length && !spinner?'No ':''}} Upcoming events this month</span>
        <ul class="events__list">
          <div style="text-align: center;" *ngIf="spinner">
            <img src="assets\loader\spin.gif" width="50px" alt="">
          </div>
          <li class="events__item" *ngFor="let event of transformedCalenderEvents;let i = index">
            <div class="events__item--left">
              <span class="events__name">{{event.title}}</span>
              <span class="events__date">{{event.month}}</span>
            </div>
            <span class="events__tag" [ngClass]="i % 2 === 0 ? 'events__tag--highlighted' : ''">{{event.time}}</span>
          </li>
        </ul>
      </div>
    </main>
  </div>
</ion-content>
